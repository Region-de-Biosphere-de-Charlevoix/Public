"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_map-components_dist_components_arcgis-basemap-gallery_customElement_js"],{

/***/ "./node_modules/@arcgis/map-components/dist/chunks/basemap-gallery-resources.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/chunks/basemap-gallery-resources.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ t)
/* harmony export */ });
/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
const e = "esri-basemap-gallery", t = {
  base: e,
  sourceLoading: `${e}--source-loading`,
  // When set, the items are be displayed in a grid instead of stacked vertically.
  layoutGrid: `${e}--grid`,
  // When set, the thumbnail of each item is narrower, to allow the title to be wider.
  narrowItems: `${e}--narrow-items`,
  loader: `${e}__loader`,
  item: `${e}__item`,
  itemContainer: `${e}__item-container`,
  itemContent: `${e}__item-content`,
  itemTitle: `${e}__item-title`,
  itemTagsContainer: `${e}__item-tags-container`,
  itemThumbnail: `${e}__item-thumbnail`,
  selectedItem: `${e}__item--selected`,
  itemError: `${e}__item--error`
};



/***/ }),

/***/ "./node_modules/@arcgis/map-components/dist/chunks/globalCss.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/chunks/globalCss.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   g: () => (/* binding */ e)
/* harmony export */ });
/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
const e = {
  anchor: "esri-widget__anchor",
  anchorDisabled: "esri-widget__anchor--disabled",
  button: "esri-button",
  buttonDisabled: "esri-button--disabled",
  buttonHalf: "esri-button--half",
  buttonSecondary: "esri-button--secondary",
  buttonSmall: "esri-button--small",
  buttonTertiary: "esri-button--tertiary",
  buttonThird: "esri-button--third",
  disabled: "esri-disabled",
  disabledElement: "esri-disabled-element",
  empty: "esri-widget__content--empty",
  emptyIllustration: "esri-widget__content-illustration--empty",
  heading: "esri-widget__heading",
  hidden: "esri-hidden",
  input: "esri-input",
  interactive: "esri-interactive",
  loader: "esri-widget__loader",
  loaderAnimation: "esri-widget__loader-animation",
  loaderText: "esri-widget__loader-text",
  menu: "esri-menu",
  menuHeader: "esri-menu__header",
  menuItem: "esri-menu__list-item",
  menuItemActive: "esri-menu__list-item--active",
  menuItemFocus: "esri-menu__list-item--focus",
  menuList: "esri-menu__list",
  noBookmarksIcon: "esri-widget__no-bookmark-icon",
  panel: "esri-widget--panel",
  panelHeightOnly: "esri-widget--panel-height-only",
  primaryTick: "primary-tick",
  primaryTickAmPm: "primary-tick__ampm",
  primaryTickLabel: "primary-tick__label",
  rotating: "esri-rotating",
  secondaryTick: "secondary-tick",
  select: "esri-select",
  table: "esri-widget__table",
  ui: "esri-component",
  widget: "esri-widget esri-component",
  widgetButton: "esri-widget--button",
  widgetButtonActive: "esri-widget--button-active",
  widgetDisabled: "esri-widget--disabled"
};



/***/ }),

/***/ "./node_modules/@arcgis/map-components/dist/chunks/useView.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/chunks/useView.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   V: () => (/* binding */ v),
/* harmony export */   a: () => (/* binding */ _),
/* harmony export */   u: () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @arcgis/components-controllers */ "./node_modules/@arcgis/components-controllers/dist/index.js");
/* harmony import */ var _runtime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./runtime.js */ "./node_modules/@arcgis/map-components/dist/chunks/runtime.js");
/* harmony import */ var _arcgis_core_applications_Components_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arcgis/core/applications/Components/reactiveUtils.js */ "@arcgis/core/applications/Components/reactiveUtils.js");
/* harmony import */ var _arcgis_core_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @arcgis/core/core/reactiveUtils.js */ "@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _component_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./component-utils.js */ "./node_modules/@arcgis/map-components/dist/chunks/component-utils.js");





/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
const E = (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.makeT9nController)(_runtime_js__WEBPACK_IMPORTED_MODULE_1__.g), _ = (s) => u(s);
class v extends _arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.GenericController {
  constructor(e) {
    super(e), this._view$ = (0,_arcgis_core_applications_Components_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.signal)(void 0), this._viewDestroyHandle = void 0, this._arcgisReadyEmitted = !1;
    const { el: t } = e, r = t.view;
    this.setProvisionalExports(void 0), Object.defineProperty(t, "view", {
      get: () => this._view$.value,
      set: (o) => {
        if (this.exports === o)
          return;
        const c = t.view;
        this._view$.value = o, this.exports = o, this.component.requestUpdate("view", c), !this._arcgisReadyEmitted && o != null && (this._arcgisReadyEmitted = !0, this.component.arcgisReady.emit());
      },
      configurable: !0,
      enumerable: !0
    }), e !== t && Object.defineProperty(e, "view", {
      get: () => t.view,
      set: (o) => {
        t.view = o;
      }
    }), queueMicrotask(() => {
      r && (t.view = r);
    });
  }
  hostConnected() {
    this._viewDestroyHandle ??= _arcgis_core_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.when(
      () => this._view$.value?.destroyed,
      () => void this.component.destroy?.().catch(console.error),
      { sync: !0 }
    ), this.component.manager.loadedCalled && (0,_component_utils_js__WEBPACK_IMPORTED_MODULE_4__.a)(this.component);
  }
  hostLoad() {
    this.component.manager.destroyed || this._watchMetaProperties();
  }
  hostLoaded() {
    const { el: e } = this.component, t = e.shadowRoot?.firstElementChild ?? e.firstElementChild ?? void 0;
    e.childElem = t ?? e.childElem, e.isConnected && (0,_component_utils_js__WEBPACK_IMPORTED_MODULE_4__.a)(this.component);
  }
  hostDisconnected() {
    typeof this.component.el.childElem == "object" && this._view$.value?.ui?.remove(this.component.el.childElem);
  }
  hostDestroy() {
    this._viewDestroyHandle?.remove();
  }
  _watchMetaProperties() {
    (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.watch)(this.component, "position", (e) => {
      this.component.el.childElem != null && typeof e == "string" && (0,_component_utils_js__WEBPACK_IMPORTED_MODULE_4__.a)(this.component);
    }), (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.watch)(this.component, "referenceElement", () => (0,_component_utils_js__WEBPACK_IMPORTED_MODULE_4__.a)(this.component));
  }
}
const u = (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.proxyExports)(v);



/***/ }),

/***/ "./node_modules/@arcgis/map-components/dist/chunks/useViewModel.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/chunks/useViewModel.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   m: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @arcgis/components-controllers */ "./node_modules/@arcgis/components-controllers/dist/index.js");
/* harmony import */ var _arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @arcgis/components-controllers/accessor */ "./node_modules/@arcgis/components-controllers/dist/accessor/index.js");
/* harmony import */ var _useView_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useView.js */ "./node_modules/@arcgis/map-components/dist/chunks/useView.js");



/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
const m = (o, t) => (e, s) => l(e, o, s);
class a extends _arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.AccessorController {
  constructor() {
    super(...arguments), this.viewController = new _useView_js__WEBPACK_IMPORTED_MODULE_2__.V(this.component), this._viewWatchHandle = void 0;
  }
  async hostLoad() {
    await super.hostLoad(), this._viewWatchHandle = this.reactiveUtils.watch(
      () => this.component.el.view,
      (t) => {
        this._instance.view = t, this._instance.map = t?.map;
      },
      { sync: !0, initial: !0 }
    );
  }
  hostDestroy() {
    this._viewWatchHandle?.remove(), super.hostDestroy();
  }
}
const l = (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.proxyExports)(a);



/***/ }),

/***/ "./node_modules/@arcgis/map-components/dist/components/arcgis-basemap-gallery/customElement.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/components/arcgis-basemap-gallery/customElement.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArcgisBasemapGallery: () => (/* binding */ K)
/* harmony export */ });
/* harmony import */ var _chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/runtime.js */ "./node_modules/@arcgis/map-components/dist/chunks/runtime.js");
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit-html */ "./node_modules/lit-html/development/lit-html.js");
/* harmony import */ var _arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arcgis/components-controllers */ "./node_modules/@arcgis/components-controllers/dist/index.js");
/* harmony import */ var _arcgis_components_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @arcgis/components-utils */ "./node_modules/@arcgis/components-utils/dist/index.js");
/* harmony import */ var _arcgis_core_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @arcgis/core/core/reactiveUtils.js */ "@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _arcgis_core_widgets_BasemapGallery_BasemapGalleryViewModel_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @arcgis/core/widgets/BasemapGallery/BasemapGalleryViewModel.js */ "@arcgis/core/widgets/BasemapGallery/BasemapGalleryViewModel.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/* harmony import */ var _chunks_useView_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../chunks/useView.js */ "./node_modules/@arcgis/map-components/dist/chunks/useView.js");
/* harmony import */ var _chunks_useViewModel_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../chunks/useViewModel.js */ "./node_modules/@arcgis/map-components/dist/chunks/useViewModel.js");
/* harmony import */ var lit_static_html_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lit/static-html.js */ "./node_modules/lit/static-html.js");
/* harmony import */ var _chunks_globalCss_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../chunks/globalCss.js */ "./node_modules/@arcgis/map-components/dist/chunks/globalCss.js");
/* harmony import */ var _chunks_basemap_gallery_resources_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../chunks/basemap-gallery-resources.js */ "./node_modules/@arcgis/map-components/dist/chunks/basemap-gallery-resources.js");
/* harmony import */ var _lit_reactive_element_css_tag_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @lit/reactive-element/css-tag.js */ "./node_modules/@lit/reactive-element/development/css-tag.js");













/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
function C({ level: o, class: s, children: e }) {
  const i = k(o), t = `h${i}`, a = (0,lit_static_html_js__WEBPACK_IMPORTED_MODULE_8__.unsafeStatic)(t);
  return (0,lit_static_html_js__WEBPACK_IMPORTED_MODULE_8__.html)`<${a} .ariaLevel=${String(i)} class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.safeClassMap)((0,_arcgis_components_utils__WEBPACK_IMPORTED_MODULE_12__.classes)(_chunks_globalCss_js__WEBPACK_IMPORTED_MODULE_9__.g.heading, s))} role=heading>${e}</${a}>`;
}
function E(o, s, e) {
  return Math.min(Math.max(o, s), e);
}
function k(o) {
  return E(Math.ceil(o), 1, 6);
}
const S = (0,_lit_reactive_element_css_tag_js__WEBPACK_IMPORTED_MODULE_11__.css)`@layer{arcgis-basemap-gallery{display:block}}`, G = (0,_chunks_useViewModel_js__WEBPACK_IMPORTED_MODULE_7__.m)(_arcgis_core_widgets_BasemapGallery_BasemapGalleryViewModel_js__WEBPACK_IMPORTED_MODULE_4__["default"]), m = {
  // Below this width, items are displayed as a single column and the thumbnail is placed above the title.
  small: 200,
  // Below this width, items are displayed as a single column but with the thumbnail side-by-side
  // with the title. The title is square.
  default: 280,
  // Below this width, items are displayed as in `default`, but the thumbnail has an aspect ratio of 1.5
  // Above this width, items are displayed in a grid.
  wide: 420
};
class K extends _arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.LitElement {
  constructor() {
    super(...arguments), this.messages = (0,_chunks_useView_js__WEBPACK_IMPORTED_MODULE_6__.u)({}), this.viewModel = G(this), this._width = 0, this._state = "", this.activeBasemap = this.viewModel.activeBasemap, this.autoDestroyDisabled = !1, this.disabled = !1, this.headingLevel = 2, this.icon = "basemap", this.label = "", this.position = "bottom-left", this.source = this.viewModel.source, this.state = this.viewModel.state, this.arcgisPropertyChange = (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_2__.usePropertyChange)()("activeBasemap", "state"), this.arcgisReady = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.createEvent)();
  }
  static {
    this.properties = { _width: 16, _state: 16, activeBasemap: 0, autoDestroyDisabled: 5, disabled: 7, headingLevel: 9, icon: 1, label: 1, position: 1, referenceElement: 1, source: 0, state: 3 };
  }
  static {
    this.shadowRootOptions = _arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.noShadowRoot;
  }
  static {
    this.styles = S;
  }
  //#endregion
  //#region Public Methods
  /** Permanently destroy the component */
  async destroy() {
    await this.manager.destroy();
  }
  //#endregion
  //#region Lifecycle
  loaded() {
    this.manager.onLifecycle(() => [
      (0,_arcgis_core_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.when)(() => this.source, () => {
        this.viewModel.loadSource();
      }, { sync: !0, initial: !0 }),
      (0,_arcgis_core_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)(() => this.source.state, () => {
        this._state = this.source.state;
      }, { sync: !0 })
    ]);
    const s = new ResizeObserver((i) => {
      for (const t of i)
        this._width = t.contentRect.width;
    }), e = this.el.childElem;
    e && s.observe(e);
  }
  //#endregion
  //#region Private Methods
  _getRoundRobinIndex(s, e) {
    return (s + e) % e;
  }
  _handleKeyDown(s) {
    const { key: e } = s;
    if (!["ArrowUp", "ArrowDown", "ArrowRight", "ArrowLeft"].includes(e))
      return;
    s.preventDefault();
    const { items: t, activeBasemapIndex: a } = this.viewModel, h = e === "ArrowUp" || e === "ArrowLeft" ? this._getRoundRobinIndex(Math.max(a - 1, -1), t.length) : this._getRoundRobinIndex(a + 1, t.length), c = t.at(h);
    c?.state === "ready" && (this.viewModel.activeBasemap = c.basemap);
  }
  //#endregion
  //#region Rendering
  render() {
    const s = this.source.state === "loading", e = this.disabled || this.state === "disabled", i = this.viewModel.items, t = {
      [_chunks_basemap_gallery_resources_js__WEBPACK_IMPORTED_MODULE_10__.c.sourceLoading]: s,
      [_chunks_globalCss_js__WEBPACK_IMPORTED_MODULE_9__.g.disabled]: e,
      "esri-component": !0
      // For compatibility with Esri View UI
    }, a = this._width;
    a <= m.small || a >= m.wide ? t[_chunks_basemap_gallery_resources_js__WEBPACK_IMPORTED_MODULE_10__.c.layoutGrid] = !0 : a < m.default && (t[_chunks_basemap_gallery_resources_js__WEBPACK_IMPORTED_MODULE_10__.c.narrowItems] = !0);
    const h = s ? (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.safeClassMap)(_chunks_basemap_gallery_resources_js__WEBPACK_IMPORTED_MODULE_10__.c.loader)}></div>` : null, c = s ? null : i.length > 0 ? (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.html)`<div aria-disabled=${this.disabled ?? _arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.nothing} aria-label=${this.label ?? _arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.nothing} class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.safeClassMap)(_chunks_basemap_gallery_resources_js__WEBPACK_IMPORTED_MODULE_10__.c.itemContainer)} @keydown=${this._handleKeyDown} role=radiogroup>${i.map((g, w) => (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.html)`<arcgis-basemap-gallery-item .disabled=${e} .item=${g} .itemIndex=${w} .viewModel=${this.viewModel} .messages=${this.messages}></arcgis-basemap-gallery-item>`)}</div>` : (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.safeClassMap)(_chunks_globalCss_js__WEBPACK_IMPORTED_MODULE_9__.g.empty)}>${C({ level: this.headingLevel, children: this.messages.noBasemaps })}</div>`;
    return (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.safeClassMap)((0,_arcgis_components_utils__WEBPACK_IMPORTED_MODULE_12__.classes)(_chunks_basemap_gallery_resources_js__WEBPACK_IMPORTED_MODULE_10__.c.base, _chunks_globalCss_js__WEBPACK_IMPORTED_MODULE_9__.g.widget, _chunks_globalCss_js__WEBPACK_IMPORTED_MODULE_9__.g.panel, t))} style=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.safeStyleMap)({
      "--esri-basemap-gallery-small": `${m.small}px`
    })}>${[h, c]}</div>`;
  }
}
(0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.c)("arcgis-basemap-gallery", K);



/***/ }),

/***/ "./node_modules/lit-html/development/static.js":
/*!*****************************************************!*\
  !*** ./node_modules/lit-html/development/static.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   html: () => (/* binding */ html),
/* harmony export */   literal: () => (/* binding */ literal),
/* harmony export */   mathml: () => (/* binding */ mathml),
/* harmony export */   svg: () => (/* binding */ svg),
/* harmony export */   unsafeStatic: () => (/* binding */ unsafeStatic),
/* harmony export */   withStatic: () => (/* binding */ withStatic)
/* harmony export */ });
/* harmony import */ var _lit_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lit-html.js */ "./node_modules/lit-html/development/lit-html.js");
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
// Any new exports need to be added to the export statement in
// `packages/lit/src/index.all.ts`.

/**
 * Prevents JSON injection attacks.
 *
 * The goals of this brand:
 *   1) fast to check
 *   2) code is small on the wire
 *   3) multiple versions of Lit in a single page will all produce mutually
 *      interoperable StaticValues
 *   4) normal JSON.parse (without an unusual reviver) can not produce a
 *      StaticValue
 *
 * Symbols satisfy (1), (2), and (4). We use Symbol.for to satisfy (3), but
 * we don't care about the key, so we break ties via (2) and use the empty
 * string.
 */
const brand = Symbol.for('');
/** Safely extracts the string part of a StaticValue. */
const unwrapStaticValue = (value) => {
    if (value?.r !== brand) {
        return undefined;
    }
    return value?.['_$litStatic$'];
};
/**
 * Wraps a string so that it behaves like part of the static template
 * strings instead of a dynamic value.
 *
 * Users must take care to ensure that adding the static string to the template
 * results in well-formed HTML, or else templates may break unexpectedly.
 *
 * Note that this function is unsafe to use on untrusted content, as it will be
 * directly parsed into HTML. Do not pass user input to this function
 * without sanitizing it.
 *
 * Static values can be changed, but they will cause a complete re-render
 * since they effectively create a new template.
 */
const unsafeStatic = (value) => ({
    ['_$litStatic$']: value,
    r: brand,
});
const textFromStatic = (value) => {
    if (value['_$litStatic$'] !== undefined) {
        return value['_$litStatic$'];
    }
    else {
        throw new Error(`Value passed to 'literal' function must be a 'literal' result: ${value}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`);
    }
};
/**
 * Tags a string literal so that it behaves like part of the static template
 * strings instead of a dynamic value.
 *
 * The only values that may be used in template expressions are other tagged
 * `literal` results or `unsafeStatic` values (note that untrusted content
 * should never be passed to `unsafeStatic`).
 *
 * Users must take care to ensure that adding the static string to the template
 * results in well-formed HTML, or else templates may break unexpectedly.
 *
 * Static values can be changed, but they will cause a complete re-render since
 * they effectively create a new template.
 */
const literal = (strings, ...values) => ({
    ['_$litStatic$']: values.reduce((acc, v, idx) => acc + textFromStatic(v) + strings[idx + 1], strings[0]),
    r: brand,
});
const stringsCache = new Map();
/**
 * Wraps a lit-html template tag (`html` or `svg`) to add static value support.
 */
const withStatic = (coreTag) => (strings, ...values) => {
    const l = values.length;
    let staticValue;
    let dynamicValue;
    const staticStrings = [];
    const dynamicValues = [];
    let i = 0;
    let hasStatics = false;
    let s;
    while (i < l) {
        s = strings[i];
        // Collect any unsafeStatic values, and their following template strings
        // so that we treat a run of template strings and unsafe static values as
        // a single template string.
        while (i < l &&
            ((dynamicValue = values[i]),
                (staticValue = unwrapStaticValue(dynamicValue))) !== undefined) {
            s += staticValue + strings[++i];
            hasStatics = true;
        }
        // If the last value is static, we don't need to push it.
        if (i !== l) {
            dynamicValues.push(dynamicValue);
        }
        staticStrings.push(s);
        i++;
    }
    // If the last value isn't static (which would have consumed the last
    // string), then we need to add the last string.
    if (i === l) {
        staticStrings.push(strings[l]);
    }
    if (hasStatics) {
        const key = staticStrings.join('$$lit$$');
        strings = stringsCache.get(key);
        if (strings === undefined) {
            // Beware: in general this pattern is unsafe, and doing so may bypass
            // lit's security checks and allow an attacker to execute arbitrary
            // code and inject arbitrary content.
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            staticStrings.raw = staticStrings;
            stringsCache.set(key, (strings = staticStrings));
        }
        values = dynamicValues;
    }
    return coreTag(strings, ...values);
};
/**
 * Interprets a template literal as an HTML template that can efficiently
 * render to and update a container.
 *
 * Includes static value support from `lit-html/static.js`.
 */
const html = withStatic(_lit_html_js__WEBPACK_IMPORTED_MODULE_0__.html);
/**
 * Interprets a template literal as an SVG template that can efficiently
 * render to and update a container.
 *
 * Includes static value support from `lit-html/static.js`.
 */
const svg = withStatic(_lit_html_js__WEBPACK_IMPORTED_MODULE_0__.svg);
/**
 * Interprets a template literal as MathML fragment that can efficiently render
 * to and update a container.
 *
 * Includes static value support from `lit-html/static.js`.
 */
const mathml = withStatic(_lit_html_js__WEBPACK_IMPORTED_MODULE_0__.mathml);
//# sourceMappingURL=static.js.map

/***/ }),

/***/ "./node_modules/lit/static-html.js":
/*!*****************************************!*\
  !*** ./node_modules/lit/static-html.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   html: () => (/* reexport safe */ lit_html_static_js__WEBPACK_IMPORTED_MODULE_0__.html),
/* harmony export */   literal: () => (/* reexport safe */ lit_html_static_js__WEBPACK_IMPORTED_MODULE_0__.literal),
/* harmony export */   mathml: () => (/* reexport safe */ lit_html_static_js__WEBPACK_IMPORTED_MODULE_0__.mathml),
/* harmony export */   svg: () => (/* reexport safe */ lit_html_static_js__WEBPACK_IMPORTED_MODULE_0__.svg),
/* harmony export */   unsafeStatic: () => (/* reexport safe */ lit_html_static_js__WEBPACK_IMPORTED_MODULE_0__.unsafeStatic),
/* harmony export */   withStatic: () => (/* reexport safe */ lit_html_static_js__WEBPACK_IMPORTED_MODULE_0__.withStatic)
/* harmony export */ });
/* harmony import */ var lit_html_static_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html/static.js */ "./node_modules/lit-html/development/static.js");

//# sourceMappingURL=static-html.js.map


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvdmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX21hcC1jb21wb25lbnRzX2Rpc3RfY29tcG9uZW50c19hcmNnaXMtYmFzZW1hcC1nYWxsZXJ5X2N1c3RvbUVsZW1lbnRfanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsRUFBRTtBQUN0QjtBQUNBLGlCQUFpQixFQUFFO0FBQ25CO0FBQ0Esa0JBQWtCLEVBQUU7QUFDcEIsYUFBYSxFQUFFO0FBQ2YsV0FBVyxFQUFFO0FBQ2Isb0JBQW9CLEVBQUU7QUFDdEIsa0JBQWtCLEVBQUU7QUFDcEIsZ0JBQWdCLEVBQUU7QUFDbEIsd0JBQXdCLEVBQUU7QUFDMUIsb0JBQW9CLEVBQUU7QUFDdEIsbUJBQW1CLEVBQUU7QUFDckIsZ0JBQWdCLEVBQUU7QUFDbEI7QUFHRTs7Ozs7Ozs7Ozs7Ozs7O0FDdEJGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0U7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoRDZIO0FBQ3pGO0FBQzhDO0FBQzVCO0FBQ1Y7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsVUFBVSxpRkFBQyxDQUFDLDBDQUFDO0FBQ2IsZ0JBQWdCLDZFQUFDO0FBQ2pCO0FBQ0EsNEJBQTRCLDZGQUFDO0FBQzdCLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFD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Ozs7Ozs7OztBQ3BKZ0M7QUFDaEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvbWFwLWNvbXBvbmVudHMvZGlzdC9jaHVua3MvYmFzZW1hcC1nYWxsZXJ5LXJlc291cmNlcy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvbWFwLWNvbXBvbmVudHMvZGlzdC9jaHVua3MvZ2xvYmFsQ3NzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9tYXAtY29tcG9uZW50cy9kaXN0L2NodW5rcy91c2VWaWV3LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9tYXAtY29tcG9uZW50cy9kaXN0L2NodW5rcy91c2VWaWV3TW9kZWwuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL21hcC1jb21wb25lbnRzL2Rpc3QvY29tcG9uZW50cy9hcmNnaXMtYmFzZW1hcC1nYWxsZXJ5L2N1c3RvbUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9kZXZlbG9wbWVudC9zdGF0aWMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9saXQvc3RhdGljLWh0bWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRXNyaSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzIvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxudjQuMzIuMSAqL1xuY29uc3QgZSA9IFwiZXNyaS1iYXNlbWFwLWdhbGxlcnlcIiwgdCA9IHtcbiAgYmFzZTogZSxcbiAgc291cmNlTG9hZGluZzogYCR7ZX0tLXNvdXJjZS1sb2FkaW5nYCxcbiAgLy8gV2hlbiBzZXQsIHRoZSBpdGVtcyBhcmUgYmUgZGlzcGxheWVkIGluIGEgZ3JpZCBpbnN0ZWFkIG9mIHN0YWNrZWQgdmVydGljYWxseS5cbiAgbGF5b3V0R3JpZDogYCR7ZX0tLWdyaWRgLFxuICAvLyBXaGVuIHNldCwgdGhlIHRodW1ibmFpbCBvZiBlYWNoIGl0ZW0gaXMgbmFycm93ZXIsIHRvIGFsbG93IHRoZSB0aXRsZSB0byBiZSB3aWRlci5cbiAgbmFycm93SXRlbXM6IGAke2V9LS1uYXJyb3ctaXRlbXNgLFxuICBsb2FkZXI6IGAke2V9X19sb2FkZXJgLFxuICBpdGVtOiBgJHtlfV9faXRlbWAsXG4gIGl0ZW1Db250YWluZXI6IGAke2V9X19pdGVtLWNvbnRhaW5lcmAsXG4gIGl0ZW1Db250ZW50OiBgJHtlfV9faXRlbS1jb250ZW50YCxcbiAgaXRlbVRpdGxlOiBgJHtlfV9faXRlbS10aXRsZWAsXG4gIGl0ZW1UYWdzQ29udGFpbmVyOiBgJHtlfV9faXRlbS10YWdzLWNvbnRhaW5lcmAsXG4gIGl0ZW1UaHVtYm5haWw6IGAke2V9X19pdGVtLXRodW1ibmFpbGAsXG4gIHNlbGVjdGVkSXRlbTogYCR7ZX1fX2l0ZW0tLXNlbGVjdGVkYCxcbiAgaXRlbUVycm9yOiBgJHtlfV9faXRlbS0tZXJyb3JgXG59O1xuZXhwb3J0IHtcbiAgdCBhcyBjXG59O1xuIiwiLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRXNyaSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzIvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxudjQuMzIuMSAqL1xuY29uc3QgZSA9IHtcbiAgYW5jaG9yOiBcImVzcmktd2lkZ2V0X19hbmNob3JcIixcbiAgYW5jaG9yRGlzYWJsZWQ6IFwiZXNyaS13aWRnZXRfX2FuY2hvci0tZGlzYWJsZWRcIixcbiAgYnV0dG9uOiBcImVzcmktYnV0dG9uXCIsXG4gIGJ1dHRvbkRpc2FibGVkOiBcImVzcmktYnV0dG9uLS1kaXNhYmxlZFwiLFxuICBidXR0b25IYWxmOiBcImVzcmktYnV0dG9uLS1oYWxmXCIsXG4gIGJ1dHRvblNlY29uZGFyeTogXCJlc3JpLWJ1dHRvbi0tc2Vjb25kYXJ5XCIsXG4gIGJ1dHRvblNtYWxsOiBcImVzcmktYnV0dG9uLS1zbWFsbFwiLFxuICBidXR0b25UZXJ0aWFyeTogXCJlc3JpLWJ1dHRvbi0tdGVydGlhcnlcIixcbiAgYnV0dG9uVGhpcmQ6IFwiZXNyaS1idXR0b24tLXRoaXJkXCIsXG4gIGRpc2FibGVkOiBcImVzcmktZGlzYWJsZWRcIixcbiAgZGlzYWJsZWRFbGVtZW50OiBcImVzcmktZGlzYWJsZWQtZWxlbWVudFwiLFxuICBlbXB0eTogXCJlc3JpLXdpZGdldF9fY29udGVudC0tZW1wdHlcIixcbiAgZW1wdHlJbGx1c3RyYXRpb246IFwiZXNyaS13aWRnZXRfX2NvbnRlbnQtaWxsdXN0cmF0aW9uLS1lbXB0eVwiLFxuICBoZWFkaW5nOiBcImVzcmktd2lkZ2V0X19oZWFkaW5nXCIsXG4gIGhpZGRlbjogXCJlc3JpLWhpZGRlblwiLFxuICBpbnB1dDogXCJlc3JpLWlucHV0XCIsXG4gIGludGVyYWN0aXZlOiBcImVzcmktaW50ZXJhY3RpdmVcIixcbiAgbG9hZGVyOiBcImVzcmktd2lkZ2V0X19sb2FkZXJcIixcbiAgbG9hZGVyQW5pbWF0aW9uOiBcImVzcmktd2lkZ2V0X19sb2FkZXItYW5pbWF0aW9uXCIsXG4gIGxvYWRlclRleHQ6IFwiZXNyaS13aWRnZXRfX2xvYWRlci10ZXh0XCIsXG4gIG1lbnU6IFwiZXNyaS1tZW51XCIsXG4gIG1lbnVIZWFkZXI6IFwiZXNyaS1tZW51X19oZWFkZXJcIixcbiAgbWVudUl0ZW06IFwiZXNyaS1tZW51X19saXN0LWl0ZW1cIixcbiAgbWVudUl0ZW1BY3RpdmU6IFwiZXNyaS1tZW51X19saXN0LWl0ZW0tLWFjdGl2ZVwiLFxuICBtZW51SXRlbUZvY3VzOiBcImVzcmktbWVudV9fbGlzdC1pdGVtLS1mb2N1c1wiLFxuICBtZW51TGlzdDogXCJlc3JpLW1lbnVfX2xpc3RcIixcbiAgbm9Cb29rbWFya3NJY29uOiBcImVzcmktd2lkZ2V0X19uby1ib29rbWFyay1pY29uXCIsXG4gIHBhbmVsOiBcImVzcmktd2lkZ2V0LS1wYW5lbFwiLFxuICBwYW5lbEhlaWdodE9ubHk6IFwiZXNyaS13aWRnZXQtLXBhbmVsLWhlaWdodC1vbmx5XCIsXG4gIHByaW1hcnlUaWNrOiBcInByaW1hcnktdGlja1wiLFxuICBwcmltYXJ5VGlja0FtUG06IFwicHJpbWFyeS10aWNrX19hbXBtXCIsXG4gIHByaW1hcnlUaWNrTGFiZWw6IFwicHJpbWFyeS10aWNrX19sYWJlbFwiLFxuICByb3RhdGluZzogXCJlc3JpLXJvdGF0aW5nXCIsXG4gIHNlY29uZGFyeVRpY2s6IFwic2Vjb25kYXJ5LXRpY2tcIixcbiAgc2VsZWN0OiBcImVzcmktc2VsZWN0XCIsXG4gIHRhYmxlOiBcImVzcmktd2lkZ2V0X190YWJsZVwiLFxuICB1aTogXCJlc3JpLWNvbXBvbmVudFwiLFxuICB3aWRnZXQ6IFwiZXNyaS13aWRnZXQgZXNyaS1jb21wb25lbnRcIixcbiAgd2lkZ2V0QnV0dG9uOiBcImVzcmktd2lkZ2V0LS1idXR0b25cIixcbiAgd2lkZ2V0QnV0dG9uQWN0aXZlOiBcImVzcmktd2lkZ2V0LS1idXR0b24tYWN0aXZlXCIsXG4gIHdpZGdldERpc2FibGVkOiBcImVzcmktd2lkZ2V0LS1kaXNhYmxlZFwiXG59O1xuZXhwb3J0IHtcbiAgZSBhcyBnXG59O1xuIiwiaW1wb3J0IHsgbWFrZVQ5bkNvbnRyb2xsZXIgYXMgYSwgcHJveHlFeHBvcnRzIGFzIGgsIEdlbmVyaWNDb250cm9sbGVyIGFzIGwsIHdhdGNoIGFzIG4gfSBmcm9tIFwiQGFyY2dpcy9jb21wb25lbnRzLWNvbnRyb2xsZXJzXCI7XG5pbXBvcnQgeyBnIGFzIGQgfSBmcm9tIFwiLi9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBzaWduYWwgYXMgbSB9IGZyb20gXCJAYXJjZ2lzL2NvcmUvYXBwbGljYXRpb25zL0NvbXBvbmVudHMvcmVhY3RpdmVVdGlscy5qc1wiO1xuaW1wb3J0ICogYXMgcCBmcm9tIFwiQGFyY2dpcy9jb3JlL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO1xuaW1wb3J0IHsgYSBhcyBpIH0gZnJvbSBcIi4vY29tcG9uZW50LXV0aWxzLmpzXCI7XG4vKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFc3JpLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMi9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG52NC4zMi4xICovXG5jb25zdCBFID0gYShkKSwgXyA9IChzKSA9PiB1KHMpO1xuY2xhc3MgdiBleHRlbmRzIGwge1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgc3VwZXIoZSksIHRoaXMuX3ZpZXckID0gbSh2b2lkIDApLCB0aGlzLl92aWV3RGVzdHJveUhhbmRsZSA9IHZvaWQgMCwgdGhpcy5fYXJjZ2lzUmVhZHlFbWl0dGVkID0gITE7XG4gICAgY29uc3QgeyBlbDogdCB9ID0gZSwgciA9IHQudmlldztcbiAgICB0aGlzLnNldFByb3Zpc2lvbmFsRXhwb3J0cyh2b2lkIDApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgXCJ2aWV3XCIsIHtcbiAgICAgIGdldDogKCkgPT4gdGhpcy5fdmlldyQudmFsdWUsXG4gICAgICBzZXQ6IChvKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmV4cG9ydHMgPT09IG8pXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjID0gdC52aWV3O1xuICAgICAgICB0aGlzLl92aWV3JC52YWx1ZSA9IG8sIHRoaXMuZXhwb3J0cyA9IG8sIHRoaXMuY29tcG9uZW50LnJlcXVlc3RVcGRhdGUoXCJ2aWV3XCIsIGMpLCAhdGhpcy5fYXJjZ2lzUmVhZHlFbWl0dGVkICYmIG8gIT0gbnVsbCAmJiAodGhpcy5fYXJjZ2lzUmVhZHlFbWl0dGVkID0gITAsIHRoaXMuY29tcG9uZW50LmFyY2dpc1JlYWR5LmVtaXQoKSk7XG4gICAgICB9LFxuICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgIGVudW1lcmFibGU6ICEwXG4gICAgfSksIGUgIT09IHQgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwidmlld1wiLCB7XG4gICAgICBnZXQ6ICgpID0+IHQudmlldyxcbiAgICAgIHNldDogKG8pID0+IHtcbiAgICAgICAgdC52aWV3ID0gbztcbiAgICAgIH1cbiAgICB9KSwgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgciAmJiAodC52aWV3ID0gcik7XG4gICAgfSk7XG4gIH1cbiAgaG9zdENvbm5lY3RlZCgpIHtcbiAgICB0aGlzLl92aWV3RGVzdHJveUhhbmRsZSA/Pz0gcC53aGVuKFxuICAgICAgKCkgPT4gdGhpcy5fdmlldyQudmFsdWU/LmRlc3Ryb3llZCxcbiAgICAgICgpID0+IHZvaWQgdGhpcy5jb21wb25lbnQuZGVzdHJveT8uKCkuY2F0Y2goY29uc29sZS5lcnJvciksXG4gICAgICB7IHN5bmM6ICEwIH1cbiAgICApLCB0aGlzLmNvbXBvbmVudC5tYW5hZ2VyLmxvYWRlZENhbGxlZCAmJiBpKHRoaXMuY29tcG9uZW50KTtcbiAgfVxuICBob3N0TG9hZCgpIHtcbiAgICB0aGlzLmNvbXBvbmVudC5tYW5hZ2VyLmRlc3Ryb3llZCB8fCB0aGlzLl93YXRjaE1ldGFQcm9wZXJ0aWVzKCk7XG4gIH1cbiAgaG9zdExvYWRlZCgpIHtcbiAgICBjb25zdCB7IGVsOiBlIH0gPSB0aGlzLmNvbXBvbmVudCwgdCA9IGUuc2hhZG93Um9vdD8uZmlyc3RFbGVtZW50Q2hpbGQgPz8gZS5maXJzdEVsZW1lbnRDaGlsZCA/PyB2b2lkIDA7XG4gICAgZS5jaGlsZEVsZW0gPSB0ID8/IGUuY2hpbGRFbGVtLCBlLmlzQ29ubmVjdGVkICYmIGkodGhpcy5jb21wb25lbnQpO1xuICB9XG4gIGhvc3REaXNjb25uZWN0ZWQoKSB7XG4gICAgdHlwZW9mIHRoaXMuY29tcG9uZW50LmVsLmNoaWxkRWxlbSA9PSBcIm9iamVjdFwiICYmIHRoaXMuX3ZpZXckLnZhbHVlPy51aT8ucmVtb3ZlKHRoaXMuY29tcG9uZW50LmVsLmNoaWxkRWxlbSk7XG4gIH1cbiAgaG9zdERlc3Ryb3koKSB7XG4gICAgdGhpcy5fdmlld0Rlc3Ryb3lIYW5kbGU/LnJlbW92ZSgpO1xuICB9XG4gIF93YXRjaE1ldGFQcm9wZXJ0aWVzKCkge1xuICAgIG4odGhpcy5jb21wb25lbnQsIFwicG9zaXRpb25cIiwgKGUpID0+IHtcbiAgICAgIHRoaXMuY29tcG9uZW50LmVsLmNoaWxkRWxlbSAhPSBudWxsICYmIHR5cGVvZiBlID09IFwic3RyaW5nXCIgJiYgaSh0aGlzLmNvbXBvbmVudCk7XG4gICAgfSksIG4odGhpcy5jb21wb25lbnQsIFwicmVmZXJlbmNlRWxlbWVudFwiLCAoKSA9PiBpKHRoaXMuY29tcG9uZW50KSk7XG4gIH1cbn1cbmNvbnN0IHUgPSBoKHYpO1xuZXhwb3J0IHtcbiAgdiBhcyBWLFxuICBfIGFzIGEsXG4gIEUgYXMgdVxufTtcbiIsImltcG9ydCB7IHByb3h5RXhwb3J0cyBhcyByIH0gZnJvbSBcIkBhcmNnaXMvY29tcG9uZW50cy1jb250cm9sbGVyc1wiO1xuaW1wb3J0IHsgQWNjZXNzb3JDb250cm9sbGVyIGFzIGkgfSBmcm9tIFwiQGFyY2dpcy9jb21wb25lbnRzLWNvbnRyb2xsZXJzL2FjY2Vzc29yXCI7XG5pbXBvcnQgeyBWIGFzIG4gfSBmcm9tIFwiLi91c2VWaWV3LmpzXCI7XG4vKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFc3JpLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMi9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG52NC4zMi4xICovXG5jb25zdCBtID0gKG8sIHQpID0+IChlLCBzKSA9PiBsKGUsIG8sIHMpO1xuY2xhc3MgYSBleHRlbmRzIGkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLnZpZXdDb250cm9sbGVyID0gbmV3IG4odGhpcy5jb21wb25lbnQpLCB0aGlzLl92aWV3V2F0Y2hIYW5kbGUgPSB2b2lkIDA7XG4gIH1cbiAgYXN5bmMgaG9zdExvYWQoKSB7XG4gICAgYXdhaXQgc3VwZXIuaG9zdExvYWQoKSwgdGhpcy5fdmlld1dhdGNoSGFuZGxlID0gdGhpcy5yZWFjdGl2ZVV0aWxzLndhdGNoKFxuICAgICAgKCkgPT4gdGhpcy5jb21wb25lbnQuZWwudmlldyxcbiAgICAgICh0KSA9PiB7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlLnZpZXcgPSB0LCB0aGlzLl9pbnN0YW5jZS5tYXAgPSB0Py5tYXA7XG4gICAgICB9LFxuICAgICAgeyBzeW5jOiAhMCwgaW5pdGlhbDogITAgfVxuICAgICk7XG4gIH1cbiAgaG9zdERlc3Ryb3koKSB7XG4gICAgdGhpcy5fdmlld1dhdGNoSGFuZGxlPy5yZW1vdmUoKSwgc3VwZXIuaG9zdERlc3Ryb3koKTtcbiAgfVxufVxuY29uc3QgbCA9IHIoYSk7XG5leHBvcnQge1xuICBtXG59O1xuIiwiaW1wb3J0IHsgYyBhcyB2IH0gZnJvbSBcIi4uLy4uL2NodW5rcy9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBodG1sIGFzIGwgfSBmcm9tIFwibGl0LWh0bWxcIjtcbmltcG9ydCB7IHVzZVByb3BlcnR5Q2hhbmdlIGFzIGYgfSBmcm9tIFwiQGFyY2dpcy9jb21wb25lbnRzLWNvbnRyb2xsZXJzXCI7XG5pbXBvcnQgeyBjbGFzc2VzIGFzIHUgfSBmcm9tIFwiQGFyY2dpcy9jb21wb25lbnRzLXV0aWxzXCI7XG5pbXBvcnQgeyB3aGVuIGFzIHksIHdhdGNoIGFzIGIgfSBmcm9tIFwiQGFyY2dpcy9jb3JlL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO1xuaW1wb3J0ICQgZnJvbSBcIkBhcmNnaXMvY29yZS93aWRnZXRzL0Jhc2VtYXBHYWxsZXJ5L0Jhc2VtYXBHYWxsZXJ5Vmlld01vZGVsLmpzXCI7XG5pbXBvcnQgeyBzYWZlQ2xhc3NNYXAgYXMgbiwgTGl0RWxlbWVudCBhcyBNLCBjcmVhdGVFdmVudCBhcyB4LCBub1NoYWRvd1Jvb3QgYXMgTCwgbm90aGluZyBhcyBwLCBzYWZlU3R5bGVNYXAgYXMgUiB9IGZyb20gXCJAYXJjZ2lzL2x1bWluYVwiO1xuaW1wb3J0IHsgdSBhcyBfIH0gZnJvbSBcIi4uLy4uL2NodW5rcy91c2VWaWV3LmpzXCI7XG5pbXBvcnQgeyBtIGFzIEIgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL3VzZVZpZXdNb2RlbC5qc1wiO1xuaW1wb3J0IHsgdW5zYWZlU3RhdGljIGFzIEQsIGh0bWwgYXMgSSB9IGZyb20gXCJsaXQvc3RhdGljLWh0bWwuanNcIjtcbmltcG9ydCB7IGcgYXMgZCB9IGZyb20gXCIuLi8uLi9jaHVua3MvZ2xvYmFsQ3NzLmpzXCI7XG5pbXBvcnQgeyBjIGFzIHIgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL2Jhc2VtYXAtZ2FsbGVyeS1yZXNvdXJjZXMuanNcIjtcbmltcG9ydCB7IGNzcyBhcyBBIH0gZnJvbSBcIkBsaXQvcmVhY3RpdmUtZWxlbWVudC9jc3MtdGFnLmpzXCI7XG4vKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFc3JpLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMi9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG52NC4zMi4xICovXG5mdW5jdGlvbiBDKHsgbGV2ZWw6IG8sIGNsYXNzOiBzLCBjaGlsZHJlbjogZSB9KSB7XG4gIGNvbnN0IGkgPSBrKG8pLCB0ID0gYGgke2l9YCwgYSA9IEQodCk7XG4gIHJldHVybiBJYDwke2F9IC5hcmlhTGV2ZWw9JHtTdHJpbmcoaSl9IGNsYXNzPSR7bih1KGQuaGVhZGluZywgcykpfSByb2xlPWhlYWRpbmc+JHtlfTwvJHthfT5gO1xufVxuZnVuY3Rpb24gRShvLCBzLCBlKSB7XG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChvLCBzKSwgZSk7XG59XG5mdW5jdGlvbiBrKG8pIHtcbiAgcmV0dXJuIEUoTWF0aC5jZWlsKG8pLCAxLCA2KTtcbn1cbmNvbnN0IFMgPSBBYEBsYXllcnthcmNnaXMtYmFzZW1hcC1nYWxsZXJ5e2Rpc3BsYXk6YmxvY2t9fWAsIEcgPSBCKCQpLCBtID0ge1xuICAvLyBCZWxvdyB0aGlzIHdpZHRoLCBpdGVtcyBhcmUgZGlzcGxheWVkIGFzIGEgc2luZ2xlIGNvbHVtbiBhbmQgdGhlIHRodW1ibmFpbCBpcyBwbGFjZWQgYWJvdmUgdGhlIHRpdGxlLlxuICBzbWFsbDogMjAwLFxuICAvLyBCZWxvdyB0aGlzIHdpZHRoLCBpdGVtcyBhcmUgZGlzcGxheWVkIGFzIGEgc2luZ2xlIGNvbHVtbiBidXQgd2l0aCB0aGUgdGh1bWJuYWlsIHNpZGUtYnktc2lkZVxuICAvLyB3aXRoIHRoZSB0aXRsZS4gVGhlIHRpdGxlIGlzIHNxdWFyZS5cbiAgZGVmYXVsdDogMjgwLFxuICAvLyBCZWxvdyB0aGlzIHdpZHRoLCBpdGVtcyBhcmUgZGlzcGxheWVkIGFzIGluIGBkZWZhdWx0YCwgYnV0IHRoZSB0aHVtYm5haWwgaGFzIGFuIGFzcGVjdCByYXRpbyBvZiAxLjVcbiAgLy8gQWJvdmUgdGhpcyB3aWR0aCwgaXRlbXMgYXJlIGRpc3BsYXllZCBpbiBhIGdyaWQuXG4gIHdpZGU6IDQyMFxufTtcbmNsYXNzIEsgZXh0ZW5kcyBNIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy5tZXNzYWdlcyA9IF8oe30pLCB0aGlzLnZpZXdNb2RlbCA9IEcodGhpcyksIHRoaXMuX3dpZHRoID0gMCwgdGhpcy5fc3RhdGUgPSBcIlwiLCB0aGlzLmFjdGl2ZUJhc2VtYXAgPSB0aGlzLnZpZXdNb2RlbC5hY3RpdmVCYXNlbWFwLCB0aGlzLmF1dG9EZXN0cm95RGlzYWJsZWQgPSAhMSwgdGhpcy5kaXNhYmxlZCA9ICExLCB0aGlzLmhlYWRpbmdMZXZlbCA9IDIsIHRoaXMuaWNvbiA9IFwiYmFzZW1hcFwiLCB0aGlzLmxhYmVsID0gXCJcIiwgdGhpcy5wb3NpdGlvbiA9IFwiYm90dG9tLWxlZnRcIiwgdGhpcy5zb3VyY2UgPSB0aGlzLnZpZXdNb2RlbC5zb3VyY2UsIHRoaXMuc3RhdGUgPSB0aGlzLnZpZXdNb2RlbC5zdGF0ZSwgdGhpcy5hcmNnaXNQcm9wZXJ0eUNoYW5nZSA9IGYoKShcImFjdGl2ZUJhc2VtYXBcIiwgXCJzdGF0ZVwiKSwgdGhpcy5hcmNnaXNSZWFkeSA9IHgoKTtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMucHJvcGVydGllcyA9IHsgX3dpZHRoOiAxNiwgX3N0YXRlOiAxNiwgYWN0aXZlQmFzZW1hcDogMCwgYXV0b0Rlc3Ryb3lEaXNhYmxlZDogNSwgZGlzYWJsZWQ6IDcsIGhlYWRpbmdMZXZlbDogOSwgaWNvbjogMSwgbGFiZWw6IDEsIHBvc2l0aW9uOiAxLCByZWZlcmVuY2VFbGVtZW50OiAxLCBzb3VyY2U6IDAsIHN0YXRlOiAzIH07XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLnNoYWRvd1Jvb3RPcHRpb25zID0gTDtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMuc3R5bGVzID0gUztcbiAgfVxuICAvLyNlbmRyZWdpb25cbiAgLy8jcmVnaW9uIFB1YmxpYyBNZXRob2RzXG4gIC8qKiBQZXJtYW5lbnRseSBkZXN0cm95IHRoZSBjb21wb25lbnQgKi9cbiAgYXN5bmMgZGVzdHJveSgpIHtcbiAgICBhd2FpdCB0aGlzLm1hbmFnZXIuZGVzdHJveSgpO1xuICB9XG4gIC8vI2VuZHJlZ2lvblxuICAvLyNyZWdpb24gTGlmZWN5Y2xlXG4gIGxvYWRlZCgpIHtcbiAgICB0aGlzLm1hbmFnZXIub25MaWZlY3ljbGUoKCkgPT4gW1xuICAgICAgeSgoKSA9PiB0aGlzLnNvdXJjZSwgKCkgPT4ge1xuICAgICAgICB0aGlzLnZpZXdNb2RlbC5sb2FkU291cmNlKCk7XG4gICAgICB9LCB7IHN5bmM6ICEwLCBpbml0aWFsOiAhMCB9KSxcbiAgICAgIGIoKCkgPT4gdGhpcy5zb3VyY2Uuc3RhdGUsICgpID0+IHtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSB0aGlzLnNvdXJjZS5zdGF0ZTtcbiAgICAgIH0sIHsgc3luYzogITAgfSlcbiAgICBdKTtcbiAgICBjb25zdCBzID0gbmV3IFJlc2l6ZU9ic2VydmVyKChpKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IHQgb2YgaSlcbiAgICAgICAgdGhpcy5fd2lkdGggPSB0LmNvbnRlbnRSZWN0LndpZHRoO1xuICAgIH0pLCBlID0gdGhpcy5lbC5jaGlsZEVsZW07XG4gICAgZSAmJiBzLm9ic2VydmUoZSk7XG4gIH1cbiAgLy8jZW5kcmVnaW9uXG4gIC8vI3JlZ2lvbiBQcml2YXRlIE1ldGhvZHNcbiAgX2dldFJvdW5kUm9iaW5JbmRleChzLCBlKSB7XG4gICAgcmV0dXJuIChzICsgZSkgJSBlO1xuICB9XG4gIF9oYW5kbGVLZXlEb3duKHMpIHtcbiAgICBjb25zdCB7IGtleTogZSB9ID0gcztcbiAgICBpZiAoIVtcIkFycm93VXBcIiwgXCJBcnJvd0Rvd25cIiwgXCJBcnJvd1JpZ2h0XCIsIFwiQXJyb3dMZWZ0XCJdLmluY2x1ZGVzKGUpKVxuICAgICAgcmV0dXJuO1xuICAgIHMucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB7IGl0ZW1zOiB0LCBhY3RpdmVCYXNlbWFwSW5kZXg6IGEgfSA9IHRoaXMudmlld01vZGVsLCBoID0gZSA9PT0gXCJBcnJvd1VwXCIgfHwgZSA9PT0gXCJBcnJvd0xlZnRcIiA/IHRoaXMuX2dldFJvdW5kUm9iaW5JbmRleChNYXRoLm1heChhIC0gMSwgLTEpLCB0Lmxlbmd0aCkgOiB0aGlzLl9nZXRSb3VuZFJvYmluSW5kZXgoYSArIDEsIHQubGVuZ3RoKSwgYyA9IHQuYXQoaCk7XG4gICAgYz8uc3RhdGUgPT09IFwicmVhZHlcIiAmJiAodGhpcy52aWV3TW9kZWwuYWN0aXZlQmFzZW1hcCA9IGMuYmFzZW1hcCk7XG4gIH1cbiAgLy8jZW5kcmVnaW9uXG4gIC8vI3JlZ2lvbiBSZW5kZXJpbmdcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHMgPSB0aGlzLnNvdXJjZS5zdGF0ZSA9PT0gXCJsb2FkaW5nXCIsIGUgPSB0aGlzLmRpc2FibGVkIHx8IHRoaXMuc3RhdGUgPT09IFwiZGlzYWJsZWRcIiwgaSA9IHRoaXMudmlld01vZGVsLml0ZW1zLCB0ID0ge1xuICAgICAgW3Iuc291cmNlTG9hZGluZ106IHMsXG4gICAgICBbZC5kaXNhYmxlZF06IGUsXG4gICAgICBcImVzcmktY29tcG9uZW50XCI6ICEwXG4gICAgICAvLyBGb3IgY29tcGF0aWJpbGl0eSB3aXRoIEVzcmkgVmlldyBVSVxuICAgIH0sIGEgPSB0aGlzLl93aWR0aDtcbiAgICBhIDw9IG0uc21hbGwgfHwgYSA+PSBtLndpZGUgPyB0W3IubGF5b3V0R3JpZF0gPSAhMCA6IGEgPCBtLmRlZmF1bHQgJiYgKHRbci5uYXJyb3dJdGVtc10gPSAhMCk7XG4gICAgY29uc3QgaCA9IHMgPyBsYDxkaXYgY2xhc3M9JHtuKHIubG9hZGVyKX0+PC9kaXY+YCA6IG51bGwsIGMgPSBzID8gbnVsbCA6IGkubGVuZ3RoID4gMCA/IGxgPGRpdiBhcmlhLWRpc2FibGVkPSR7dGhpcy5kaXNhYmxlZCA/PyBwfSBhcmlhLWxhYmVsPSR7dGhpcy5sYWJlbCA/PyBwfSBjbGFzcz0ke24oci5pdGVtQ29udGFpbmVyKX0gQGtleWRvd249JHt0aGlzLl9oYW5kbGVLZXlEb3dufSByb2xlPXJhZGlvZ3JvdXA+JHtpLm1hcCgoZywgdykgPT4gbGA8YXJjZ2lzLWJhc2VtYXAtZ2FsbGVyeS1pdGVtIC5kaXNhYmxlZD0ke2V9IC5pdGVtPSR7Z30gLml0ZW1JbmRleD0ke3d9IC52aWV3TW9kZWw9JHt0aGlzLnZpZXdNb2RlbH0gLm1lc3NhZ2VzPSR7dGhpcy5tZXNzYWdlc30+PC9hcmNnaXMtYmFzZW1hcC1nYWxsZXJ5LWl0ZW0+YCl9PC9kaXY+YCA6IGxgPGRpdiBjbGFzcz0ke24oZC5lbXB0eSl9PiR7Qyh7IGxldmVsOiB0aGlzLmhlYWRpbmdMZXZlbCwgY2hpbGRyZW46IHRoaXMubWVzc2FnZXMubm9CYXNlbWFwcyB9KX08L2Rpdj5gO1xuICAgIHJldHVybiBsYDxkaXYgY2xhc3M9JHtuKHUoci5iYXNlLCBkLndpZGdldCwgZC5wYW5lbCwgdCkpfSBzdHlsZT0ke1Ioe1xuICAgICAgXCItLWVzcmktYmFzZW1hcC1nYWxsZXJ5LXNtYWxsXCI6IGAke20uc21hbGx9cHhgXG4gICAgfSl9PiR7W2gsIGNdfTwvZGl2PmA7XG4gIH1cbn1cbnYoXCJhcmNnaXMtYmFzZW1hcC1nYWxsZXJ5XCIsIEspO1xuZXhwb3J0IHtcbiAgSyBhcyBBcmNnaXNCYXNlbWFwR2FsbGVyeVxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuLy8gQW55IG5ldyBleHBvcnRzIG5lZWQgdG8gYmUgYWRkZWQgdG8gdGhlIGV4cG9ydCBzdGF0ZW1lbnQgaW5cbi8vIGBwYWNrYWdlcy9saXQvc3JjL2luZGV4LmFsbC50c2AuXG5pbXBvcnQgeyBodG1sIGFzIGNvcmVIdG1sLCBzdmcgYXMgY29yZVN2ZywgbWF0aG1sIGFzIGNvcmVNYXRobWwsIH0gZnJvbSAnLi9saXQtaHRtbC5qcyc7XG4vKipcbiAqIFByZXZlbnRzIEpTT04gaW5qZWN0aW9uIGF0dGFja3MuXG4gKlxuICogVGhlIGdvYWxzIG9mIHRoaXMgYnJhbmQ6XG4gKiAgIDEpIGZhc3QgdG8gY2hlY2tcbiAqICAgMikgY29kZSBpcyBzbWFsbCBvbiB0aGUgd2lyZVxuICogICAzKSBtdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXQgaW4gYSBzaW5nbGUgcGFnZSB3aWxsIGFsbCBwcm9kdWNlIG11dHVhbGx5XG4gKiAgICAgIGludGVyb3BlcmFibGUgU3RhdGljVmFsdWVzXG4gKiAgIDQpIG5vcm1hbCBKU09OLnBhcnNlICh3aXRob3V0IGFuIHVudXN1YWwgcmV2aXZlcikgY2FuIG5vdCBwcm9kdWNlIGFcbiAqICAgICAgU3RhdGljVmFsdWVcbiAqXG4gKiBTeW1ib2xzIHNhdGlzZnkgKDEpLCAoMiksIGFuZCAoNCkuIFdlIHVzZSBTeW1ib2wuZm9yIHRvIHNhdGlzZnkgKDMpLCBidXRcbiAqIHdlIGRvbid0IGNhcmUgYWJvdXQgdGhlIGtleSwgc28gd2UgYnJlYWsgdGllcyB2aWEgKDIpIGFuZCB1c2UgdGhlIGVtcHR5XG4gKiBzdHJpbmcuXG4gKi9cbmNvbnN0IGJyYW5kID0gU3ltYm9sLmZvcignJyk7XG4vKiogU2FmZWx5IGV4dHJhY3RzIHRoZSBzdHJpbmcgcGFydCBvZiBhIFN0YXRpY1ZhbHVlLiAqL1xuY29uc3QgdW53cmFwU3RhdGljVmFsdWUgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWU/LnIgIT09IGJyYW5kKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZT8uWydfJGxpdFN0YXRpYyQnXTtcbn07XG4vKipcbiAqIFdyYXBzIGEgc3RyaW5nIHNvIHRoYXQgaXQgYmVoYXZlcyBsaWtlIHBhcnQgb2YgdGhlIHN0YXRpYyB0ZW1wbGF0ZVxuICogc3RyaW5ncyBpbnN0ZWFkIG9mIGEgZHluYW1pYyB2YWx1ZS5cbiAqXG4gKiBVc2VycyBtdXN0IHRha2UgY2FyZSB0byBlbnN1cmUgdGhhdCBhZGRpbmcgdGhlIHN0YXRpYyBzdHJpbmcgdG8gdGhlIHRlbXBsYXRlXG4gKiByZXN1bHRzIGluIHdlbGwtZm9ybWVkIEhUTUwsIG9yIGVsc2UgdGVtcGxhdGVzIG1heSBicmVhayB1bmV4cGVjdGVkbHkuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gaXMgdW5zYWZlIHRvIHVzZSBvbiB1bnRydXN0ZWQgY29udGVudCwgYXMgaXQgd2lsbCBiZVxuICogZGlyZWN0bHkgcGFyc2VkIGludG8gSFRNTC4gRG8gbm90IHBhc3MgdXNlciBpbnB1dCB0byB0aGlzIGZ1bmN0aW9uXG4gKiB3aXRob3V0IHNhbml0aXppbmcgaXQuXG4gKlxuICogU3RhdGljIHZhbHVlcyBjYW4gYmUgY2hhbmdlZCwgYnV0IHRoZXkgd2lsbCBjYXVzZSBhIGNvbXBsZXRlIHJlLXJlbmRlclxuICogc2luY2UgdGhleSBlZmZlY3RpdmVseSBjcmVhdGUgYSBuZXcgdGVtcGxhdGUuXG4gKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVTdGF0aWMgPSAodmFsdWUpID0+ICh7XG4gICAgWydfJGxpdFN0YXRpYyQnXTogdmFsdWUsXG4gICAgcjogYnJhbmQsXG59KTtcbmNvbnN0IHRleHRGcm9tU3RhdGljID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlWydfJGxpdFN0YXRpYyQnXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZVsnXyRsaXRTdGF0aWMkJ107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFZhbHVlIHBhc3NlZCB0byAnbGl0ZXJhbCcgZnVuY3Rpb24gbXVzdCBiZSBhICdsaXRlcmFsJyByZXN1bHQ6ICR7dmFsdWV9LiBVc2UgJ3Vuc2FmZVN0YXRpYycgdG8gcGFzcyBub24tbGl0ZXJhbCB2YWx1ZXMsIGJ1dFxuICAgICAgICAgICAgdGFrZSBjYXJlIHRvIGVuc3VyZSBwYWdlIHNlY3VyaXR5LmApO1xuICAgIH1cbn07XG4vKipcbiAqIFRhZ3MgYSBzdHJpbmcgbGl0ZXJhbCBzbyB0aGF0IGl0IGJlaGF2ZXMgbGlrZSBwYXJ0IG9mIHRoZSBzdGF0aWMgdGVtcGxhdGVcbiAqIHN0cmluZ3MgaW5zdGVhZCBvZiBhIGR5bmFtaWMgdmFsdWUuXG4gKlxuICogVGhlIG9ubHkgdmFsdWVzIHRoYXQgbWF5IGJlIHVzZWQgaW4gdGVtcGxhdGUgZXhwcmVzc2lvbnMgYXJlIG90aGVyIHRhZ2dlZFxuICogYGxpdGVyYWxgIHJlc3VsdHMgb3IgYHVuc2FmZVN0YXRpY2AgdmFsdWVzIChub3RlIHRoYXQgdW50cnVzdGVkIGNvbnRlbnRcbiAqIHNob3VsZCBuZXZlciBiZSBwYXNzZWQgdG8gYHVuc2FmZVN0YXRpY2ApLlxuICpcbiAqIFVzZXJzIG11c3QgdGFrZSBjYXJlIHRvIGVuc3VyZSB0aGF0IGFkZGluZyB0aGUgc3RhdGljIHN0cmluZyB0byB0aGUgdGVtcGxhdGVcbiAqIHJlc3VsdHMgaW4gd2VsbC1mb3JtZWQgSFRNTCwgb3IgZWxzZSB0ZW1wbGF0ZXMgbWF5IGJyZWFrIHVuZXhwZWN0ZWRseS5cbiAqXG4gKiBTdGF0aWMgdmFsdWVzIGNhbiBiZSBjaGFuZ2VkLCBidXQgdGhleSB3aWxsIGNhdXNlIGEgY29tcGxldGUgcmUtcmVuZGVyIHNpbmNlXG4gKiB0aGV5IGVmZmVjdGl2ZWx5IGNyZWF0ZSBhIG5ldyB0ZW1wbGF0ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGxpdGVyYWwgPSAoc3RyaW5ncywgLi4udmFsdWVzKSA9PiAoe1xuICAgIFsnXyRsaXRTdGF0aWMkJ106IHZhbHVlcy5yZWR1Y2UoKGFjYywgdiwgaWR4KSA9PiBhY2MgKyB0ZXh0RnJvbVN0YXRpYyh2KSArIHN0cmluZ3NbaWR4ICsgMV0sIHN0cmluZ3NbMF0pLFxuICAgIHI6IGJyYW5kLFxufSk7XG5jb25zdCBzdHJpbmdzQ2FjaGUgPSBuZXcgTWFwKCk7XG4vKipcbiAqIFdyYXBzIGEgbGl0LWh0bWwgdGVtcGxhdGUgdGFnIChgaHRtbGAgb3IgYHN2Z2ApIHRvIGFkZCBzdGF0aWMgdmFsdWUgc3VwcG9ydC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdpdGhTdGF0aWMgPSAoY29yZVRhZykgPT4gKHN0cmluZ3MsIC4uLnZhbHVlcykgPT4ge1xuICAgIGNvbnN0IGwgPSB2YWx1ZXMubGVuZ3RoO1xuICAgIGxldCBzdGF0aWNWYWx1ZTtcbiAgICBsZXQgZHluYW1pY1ZhbHVlO1xuICAgIGNvbnN0IHN0YXRpY1N0cmluZ3MgPSBbXTtcbiAgICBjb25zdCBkeW5hbWljVmFsdWVzID0gW107XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBoYXNTdGF0aWNzID0gZmFsc2U7XG4gICAgbGV0IHM7XG4gICAgd2hpbGUgKGkgPCBsKSB7XG4gICAgICAgIHMgPSBzdHJpbmdzW2ldO1xuICAgICAgICAvLyBDb2xsZWN0IGFueSB1bnNhZmVTdGF0aWMgdmFsdWVzLCBhbmQgdGhlaXIgZm9sbG93aW5nIHRlbXBsYXRlIHN0cmluZ3NcbiAgICAgICAgLy8gc28gdGhhdCB3ZSB0cmVhdCBhIHJ1biBvZiB0ZW1wbGF0ZSBzdHJpbmdzIGFuZCB1bnNhZmUgc3RhdGljIHZhbHVlcyBhc1xuICAgICAgICAvLyBhIHNpbmdsZSB0ZW1wbGF0ZSBzdHJpbmcuXG4gICAgICAgIHdoaWxlIChpIDwgbCAmJlxuICAgICAgICAgICAgKChkeW5hbWljVmFsdWUgPSB2YWx1ZXNbaV0pLFxuICAgICAgICAgICAgICAgIChzdGF0aWNWYWx1ZSA9IHVud3JhcFN0YXRpY1ZhbHVlKGR5bmFtaWNWYWx1ZSkpKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzICs9IHN0YXRpY1ZhbHVlICsgc3RyaW5nc1srK2ldO1xuICAgICAgICAgICAgaGFzU3RhdGljcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIGxhc3QgdmFsdWUgaXMgc3RhdGljLCB3ZSBkb24ndCBuZWVkIHRvIHB1c2ggaXQuXG4gICAgICAgIGlmIChpICE9PSBsKSB7XG4gICAgICAgICAgICBkeW5hbWljVmFsdWVzLnB1c2goZHluYW1pY1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0aWNTdHJpbmdzLnB1c2gocyk7XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgLy8gSWYgdGhlIGxhc3QgdmFsdWUgaXNuJ3Qgc3RhdGljICh3aGljaCB3b3VsZCBoYXZlIGNvbnN1bWVkIHRoZSBsYXN0XG4gICAgLy8gc3RyaW5nKSwgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGUgbGFzdCBzdHJpbmcuXG4gICAgaWYgKGkgPT09IGwpIHtcbiAgICAgICAgc3RhdGljU3RyaW5ncy5wdXNoKHN0cmluZ3NbbF0pO1xuICAgIH1cbiAgICBpZiAoaGFzU3RhdGljcykge1xuICAgICAgICBjb25zdCBrZXkgPSBzdGF0aWNTdHJpbmdzLmpvaW4oJyQkbGl0JCQnKTtcbiAgICAgICAgc3RyaW5ncyA9IHN0cmluZ3NDYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgaWYgKHN0cmluZ3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gQmV3YXJlOiBpbiBnZW5lcmFsIHRoaXMgcGF0dGVybiBpcyB1bnNhZmUsIGFuZCBkb2luZyBzbyBtYXkgYnlwYXNzXG4gICAgICAgICAgICAvLyBsaXQncyBzZWN1cml0eSBjaGVja3MgYW5kIGFsbG93IGFuIGF0dGFja2VyIHRvIGV4ZWN1dGUgYXJiaXRyYXJ5XG4gICAgICAgICAgICAvLyBjb2RlIGFuZCBpbmplY3QgYXJiaXRyYXJ5IGNvbnRlbnQuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgc3RhdGljU3RyaW5ncy5yYXcgPSBzdGF0aWNTdHJpbmdzO1xuICAgICAgICAgICAgc3RyaW5nc0NhY2hlLnNldChrZXksIChzdHJpbmdzID0gc3RhdGljU3RyaW5ncykpO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlcyA9IGR5bmFtaWNWYWx1ZXM7XG4gICAgfVxuICAgIHJldHVybiBjb3JlVGFnKHN0cmluZ3MsIC4uLnZhbHVlcyk7XG59O1xuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBIVE1MIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqXG4gKiBJbmNsdWRlcyBzdGF0aWMgdmFsdWUgc3VwcG9ydCBmcm9tIGBsaXQtaHRtbC9zdGF0aWMuanNgLlxuICovXG5leHBvcnQgY29uc3QgaHRtbCA9IHdpdGhTdGF0aWMoY29yZUh0bWwpO1xuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBTVkcgdGVtcGxhdGUgdGhhdCBjYW4gZWZmaWNpZW50bHlcbiAqIHJlbmRlciB0byBhbmQgdXBkYXRlIGEgY29udGFpbmVyLlxuICpcbiAqIEluY2x1ZGVzIHN0YXRpYyB2YWx1ZSBzdXBwb3J0IGZyb20gYGxpdC1odG1sL3N0YXRpYy5qc2AuXG4gKi9cbmV4cG9ydCBjb25zdCBzdmcgPSB3aXRoU3RhdGljKGNvcmVTdmcpO1xuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBNYXRoTUwgZnJhZ21lbnQgdGhhdCBjYW4gZWZmaWNpZW50bHkgcmVuZGVyXG4gKiB0byBhbmQgdXBkYXRlIGEgY29udGFpbmVyLlxuICpcbiAqIEluY2x1ZGVzIHN0YXRpYyB2YWx1ZSBzdXBwb3J0IGZyb20gYGxpdC1odG1sL3N0YXRpYy5qc2AuXG4gKi9cbmV4cG9ydCBjb25zdCBtYXRobWwgPSB3aXRoU3RhdGljKGNvcmVNYXRobWwpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhdGljLmpzLm1hcCIsImV4cG9ydCpmcm9tXCJsaXQtaHRtbC9zdGF0aWMuanNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YXRpYy1odG1sLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9