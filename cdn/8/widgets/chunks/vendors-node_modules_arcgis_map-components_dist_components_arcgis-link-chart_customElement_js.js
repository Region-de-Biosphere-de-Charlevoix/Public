"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_map-components_dist_components_arcgis-link-chart_customElement_js"],{

/***/ "./node_modules/@arcgis/map-components/dist/components/arcgis-link-chart/customElement.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/components/arcgis-link-chart/customElement.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArcgisLinkChart: () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/runtime.js */ "./node_modules/@arcgis/map-components/dist/chunks/runtime.js");
/* harmony import */ var _arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @arcgis/components-controllers/accessor */ "./node_modules/@arcgis/components-controllers/dist/accessor/index.js");
/* harmony import */ var _arcgis_core_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arcgis/core/core/reactiveUtils.js */ "@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _arcgis_core_views_LinkChartView_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @arcgis/core/views/LinkChartView.js */ "@arcgis/core/views/LinkChartView.js");
/* harmony import */ var _arcgis_core_WebLinkChart_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @arcgis/core/WebLinkChart.js */ "@arcgis/core/WebLinkChart.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/* harmony import */ var _chunks_component_utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../chunks/component-utils.js */ "./node_modules/@arcgis/map-components/dist/chunks/component-utils.js");
/* harmony import */ var _lit_reactive_element_css_tag_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @lit/reactive-element/css-tag.js */ "./node_modules/@lit/reactive-element/development/css-tag.js");








/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
const u = (0,_lit_reactive_element_css_tag_js__WEBPACK_IMPORTED_MODULE_7__.css)`@layer{.arcgis-link-chart{padding:0;margin:0;height:100%;width:100%}}`, f = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.makeAccessorController)(
  _arcgis_core_WebLinkChart_js__WEBPACK_IMPORTED_MODULE_4__["default"],
  /**
   * Since omitProps is only needed for typing, not runtime, `{} as { ... }` is
   * a hack to remove them from the runtime code. This argument is not used at
   * all at runtime. For makeViewModelController and makeWidgetController, the
   * minifier is able to remove them automatically. However, minifier does not
   * remove them for makeAccessorController as makeAccessorController is defined
   * in an externalized package.
   */
  {}
), V = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.makeAccessorController)(_arcgis_core_views_LinkChartView_js__WEBPACK_IMPORTED_MODULE_3__["default"], {});
class _ extends _arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.LitElement {
  constructor() {
    super(...arguments), this._center = void 0, this._extent = void 0, this._itemId = void 0, this._scale = void 0, this._viewpoint = void 0, this._zoom = void 0, this._map = f(this, {
      editConstructorProperties: this._editMapProperties
    }), this.view = V(this, { editConstructorProperties: this._editViewProperties }), this.allLayerViews = this.view.allLayerViews, this.autoDestroyDisabled = !1, this.background = this.view.background, this.basemap = this._map.basemap, this.basemapView = this.view.basemapView, this.constraints = this.view.constraints, this.displayFilterDisabled = this.view.displayFilterEnabled, this.fatalError = this.view.fatalError, this.graphics = this.view.graphics, this.highlights = this.view.highlights, this.layerViews = this.view.layerViews, this.magnifier = this.view.magnifier, this.map = this.view.map, this.navigation = this.view.navigation, this.padding = this.view.padding, this.popup = this.view.popup, this.popupDisabled = this.view.popupEnabled, this.ready = this.view.ready, this.resizeAlign = this.view.resizeAlign, this.resolution = this.view.resolution, this.rotation = this.view.rotation, this.spatialReference = this.view.spatialReference, this.suspended = this.view.suspended, this.theme = this.view.theme, this.timeExtent = this.view.timeExtent, this.timeZone = this.view.timeZone, this.updating = this.view.updating, this.arcgisViewChange = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.createEvent)(), this.arcgisViewClick = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "click"), this.arcgisViewDoubleClick = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "double-click"), this.arcgisViewDrag = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "drag"), this.arcgisViewHold = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "hold"), this.arcgisViewImmediateClick = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "immediate-click"), this.arcgisViewImmediateDoubleClick = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "immediate-double-click"), this.arcgisViewKeyDown = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "key-down"), this.arcgisViewKeyUp = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "key-up"), this.arcgisViewLayerviewCreate = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "layerview-create"), this.arcgisViewLayerviewCreateError = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "layerview-create-error"), this.arcgisViewLayerviewDestroy = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "layerview-destroy"), this.arcgisViewMouseWheel = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "mouse-wheel"), this.arcgisViewPointerDown = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "pointer-down"), this.arcgisViewPointerEnter = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "pointer-enter"), this.arcgisViewPointerLeave = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "pointer-leave"), this.arcgisViewPointerMove = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "pointer-move"), this.arcgisViewPointerUp = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "pointer-up"), this.arcgisViewReadyChange = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.createEvent)();
  }
  static {
    this.properties = { _map: 16, view: 32, allLayerViews: 0, autoDestroyDisabled: 5, background: 0, basemap: 1, basemapView: 0, center: 1, constraints: 0, displayFilterDisabled: 5, extent: 0, fatalError: 0, graphics: 0, highlights: 0, interacting: 32, itemId: 3, layerViews: 0, magnifier: 0, map: 0, navigating: 32, navigation: 0, padding: 0, popup: 0, popupDisabled: 5, ready: 4, resizeAlign: 1, resolution: 8, rotation: 9, scale: 9, spatialReference: 0, stationary: 32, suspended: 7, theme: 0, timeExtent: 0, timeZone: 1, updating: 7, viewpoint: 0, zoom: 9 };
  }
  static {
    this.shadowRootOptions = _arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.noShadowRoot;
  }
  static {
    this.styles = u;
  }
  /**
   * Represents the view's center point; when setting the center, you may pass a
   * esri/geometry/Point instance or a string representing
   * a longitude/latitude pair (`"-100.4593, 36.9014"`).
   * Setting the center immediately changes the current view.
   * For animating the view, see this component's goTo() method.
   */
  get center() {
    return this.view.center ?? this._center;
  }
  set center(i) {
    const e = (0,_chunks_component_utils_js__WEBPACK_IMPORTED_MODULE_6__.e)(i, this.ready ? this.view : void 0);
    e && (this.ready && (this.view.center = e), this._center = e);
  }
  /**
   * The extent represents the visible portion of a link chart within the view as an instance of
   * [Extent](https://developers.arcgis.com/javascript/latest/api-reference/esri-geometry-Extent.html).
   * Setting the extent immediately changes the view without animation. To animate
   * the view, see this component's goTo() method.
   * When the view is rotated, the extent does not update to include the newly visible portions of the link chart.
   */
  get extent() {
    return this.view.extent ?? this._extent;
  }
  set extent(i) {
    this.view.ready && !this.extent?.equals(i) && (this.view.extent = i), this._extent = i;
  }
  /** Indication whether the view is being interacted with (for example when panning or by an interactive tool). */
  get interacting() {
    return this.view.interacting;
  }
  /** The ID of a WebLinkChart from an ArcGIS Enterprise portal.
   *
   * To configure the portal url you must set the [`portalUrl` property on `config`](https://developers.arcgis.com/javascript/latest/api-reference/esri-config.html#portalUrl) before the `arcgis-linkchart` component loads.
   */
  get itemId() {
    return this._map.portalItem?.id ?? this._itemId;
  }
  set itemId(i) {
    this._itemId = i, this.ready && _arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.accessorSupport.reCreate(this._map, this).then(() => {
      this.view.map = this._map;
    }).catch(console.error);
  }
  /** Indication whether the view is being navigated (for example when panning). */
  get navigating() {
    return this.view.navigating;
  }
  /**
   * Represents the link chart scale at the center of the view. Setting the scale immediately changes the view. For animating
   * the view, see this component's goTo() method.
   */
  get scale() {
    return this.view.scale ?? this._scale;
  }
  set scale(i) {
    this.ready && (this.view.scale = i), this._scale = i;
  }
  /** Indication whether the view is animating, being navigated with or resizing. */
  get stationary() {
    return this.view.stationary;
  }
  /**
   * Represents the current view as a Viewpoint or point of observation on the view.
   * Setting the viewpoint immediately changes the current view. For animating
   * the view, see this component's goTo() method.
   */
  get viewpoint() {
    return this.view.viewpoint ?? this._viewpoint;
  }
  set viewpoint(i) {
    this.ready && (0,_chunks_component_utils_js__WEBPACK_IMPORTED_MODULE_6__.i)(this.viewpoint, i) && (this.view.viewpoint = i), this._viewpoint = i;
  }
  /**
   * Represents the level of detail (LOD) at the center of the view.
   * A zoom level (or scale) is a number that defines how large or small the contents of a link chart appear in a link chart view.
   * Zoom level is a number usually between 0 (global view) and 23 (very detailed view) and is used as a shorthand for predetermined scale values.
   * A value of -1 means the view has no LODs.
   * When setting the zoom value, the LinkChartView converts it to the corresponding scale, or interpolates it if the zoom is a fractional number.
   * LinkChartView can display link charts with different projections at a full range of scales, and so use the scale property on this component rather than zoom level.
   *
   * Setting the zoom immediately changes the current view. For animating the view, see this component's goTo() method.
   * Setting this property in conjunction with `center` is a convenient way to set the initial extent of the view.
   */
  get zoom() {
    return this.view.zoom ?? this._zoom;
  }
  set zoom(i) {
    this.ready && (this.view.zoom = i), this._zoom = i;
  }
  //#endregion
  //#region Public Methods
  /** Adds a layer to the layers collection. */
  async addLayer(i, e) {
    this.map?.add(i, e);
  }
  /** Adds a layer or array of layers to the layers collection. */
  async addLayers(i, e) {
    this.map?.addMany(i, e);
  }
  /** Closes the popup. */
  async closePopup() {
    this.view?.closePopup();
  }
  /** Destroys the view, and any associated resources, including its map, popup, and UI elements. */
  async destroy() {
    await this.manager.destroy();
  }
  /** Sets the view to a given target. */
  async goTo(i, e) {
    return await this.view?.goTo(i, e);
  }
  /**
   * Opens the popup at the given location with content defined either explicitly with content or driven
   * from the PopupTemplate of input features.
   */
  async openPopup(i) {
    await this.view?.openPopup(i);
  }
  toMap(i) {
    return this.view.toMap(i);
  }
  toScreen(i, e) {
    return this.view.toScreen(i, e);
  }
  /** Call this method to clear any fatal errors resulting from a lost WebGL context. */
  async tryFatalErrorRecovery() {
    this.view?.tryFatalErrorRecovery();
  }
  /** Gets the LayerView created on the view for the given layer. */
  async whenLayerView(i) {
    return await this.view?.whenLayerView(i);
  }
  //#endregion
  //#region Lifecycle
  load() {
    this.el.childElem = document.createElement("div"), this.el.childElem.classList.add("arcgis-link-chart"), this.el.append(this.el.childElem), this.view.container ??= this.el.childElem;
  }
  loaded() {
    this.manager.onLifecycle(() => [
      (0,_arcgis_core_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)(() => this.view.stationary, () => {
        this.arcgisViewChange.emit();
      }, { initial: !0 }),
      (0,_arcgis_core_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)(() => this.view.ready, () => {
        this.arcgisViewReadyChange.emit();
      }, { initial: this.view.ready })
    ]);
  }
  //#endregion
  //#region Private Methods
  _editMapProperties(i) {
    this.map && (this._map = this.map), this.itemId ? i.portalItem = { id: this.itemId } : this.basemap ? this.basemap === "none" && (i.basemap = void 0, this.basemap = null) : i.basemap = "topo-vector";
    const { basemap: e, ...n } = i;
    e || (i = n);
    const { ground: o, ...w } = i;
    return o || (i = w), i;
  }
  async _editViewProperties(i) {
    await this.manager.use(this._map), this.view.ui || (i.ui = {
      components: ["attribution"]
    }), i.map ??= this._map;
    const e = (0,_chunks_component_utils_js__WEBPACK_IMPORTED_MODULE_6__.e)(this.center, void 0);
    return e && (i.center = e), this.viewpoint && (i.viewpoint = this.viewpoint), this.scale !== void 0 && (i.scale = this.scale), this.extent && (i.extent = this.extent), this.zoom !== void 0 && (i.zoom = this.zoom), i;
  }
}
(0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.c)("arcgis-link-chart", _);



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvdmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX21hcC1jb21wb25lbnRzX2Rpc3RfY29tcG9uZW50c19hcmNnaXMtbGluay1jaGFydF9jdXN0b21FbGVtZW50X2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE0QztBQUNrRjtBQUM5RDtBQUNaO0FBQ1A7QUFDeUM7QUFDckI7QUFDTDtBQUM1RDtBQUNBO0FBQ0E7QUFDQSxVQUFVLHFFQUFDLFFBQVEsbUJBQW1CLFVBQVUsU0FBUyxZQUFZLFlBQVksT0FBTywrRkFBQztBQUN6RixFQUFFLG9FQUFDO0FBQ0g7QUFDQSxpRUFBaUUsS0FBSyxLQUFLO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTywrRkFBQyxDQUFDLDJFQUFDLElBQUk7QUFDZCxnQkFBZ0Isc0RBQUM7QUFDakI7QUFDQTtBQUNBO0FBQ0EsS0FBSyx5QkFBeUIscURBQXFELGdqQ0FBZ2pDLDJEQUFDLDJCQUEyQixvRkFBQyx5REFBeUQsb0ZBQUMseURBQXlELG9GQUFDLGlEQUFpRCxvRkFBQywyREFBMkQsb0ZBQUMsNEVBQTRFLG9GQUFDLHNFQUFzRSxvRkFBQyxzREFBc0Qsb0ZBQUMsOERBQThELG9GQUFDLDZFQUE2RSxvRkFBQywrRUFBK0Usb0ZBQUMsb0VBQW9FLG9GQUFDLCtEQUErRCxvRkFBQyxpRUFBaUUsb0ZBQUMsa0VBQWtFLG9GQUFDLGlFQUFpRSxvRkFBQyw4REFBOEQsb0ZBQUMsOERBQThELDJEQUFDO0FBQ3B2RTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSw2QkFBNkIsd0RBQUM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZEQUFDO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG9GQUFDO0FBQ3JDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDZEQUFDO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHlFQUFDO0FBQ1A7QUFDQSxPQUFPLElBQUksYUFBYTtBQUN4QixNQUFNLHlFQUFDO0FBQ1A7QUFDQSxPQUFPLElBQUksMEJBQTBCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsa0JBQWtCO0FBQ3pGLFlBQVksbUJBQW1CO0FBQy9CO0FBQ0EsWUFBWSxrQkFBa0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxjQUFjLDZEQUFDO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EscURBQUM7QUFHQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9tYXAtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvYXJjZ2lzLWxpbmstY2hhcnQvY3VzdG9tRWxlbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjIH0gZnJvbSBcIi4uLy4uL2NodW5rcy9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBtYWtlQWNjZXNzb3JDb250cm9sbGVyIGFzIHIsIHJlRW1pdEV2ZW50IGFzIHQsIGFjY2Vzc29yU3VwcG9ydCBhcyB2IH0gZnJvbSBcIkBhcmNnaXMvY29tcG9uZW50cy1jb250cm9sbGVycy9hY2Nlc3NvclwiO1xuaW1wb3J0IHsgd2F0Y2ggYXMgcyB9IGZyb20gXCJAYXJjZ2lzL2NvcmUvY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7XG5pbXBvcnQgZCBmcm9tIFwiQGFyY2dpcy9jb3JlL3ZpZXdzL0xpbmtDaGFydFZpZXcuanNcIjtcbmltcG9ydCBsIGZyb20gXCJAYXJjZ2lzL2NvcmUvV2ViTGlua0NoYXJ0LmpzXCI7XG5pbXBvcnQgeyBMaXRFbGVtZW50IGFzIHAsIGNyZWF0ZUV2ZW50IGFzIGEsIG5vU2hhZG93Um9vdCBhcyBtIH0gZnJvbSBcIkBhcmNnaXMvbHVtaW5hXCI7XG5pbXBvcnQgeyBlIGFzIGgsIGkgYXMgZyB9IGZyb20gXCIuLi8uLi9jaHVua3MvY29tcG9uZW50LXV0aWxzLmpzXCI7XG5pbXBvcnQgeyBjc3MgYXMgeSB9IGZyb20gXCJAbGl0L3JlYWN0aXZlLWVsZW1lbnQvY3NzLXRhZy5qc1wiO1xuLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRXNyaSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzIvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxudjQuMzIuMSAqL1xuY29uc3QgdSA9IHlgQGxheWVyey5hcmNnaXMtbGluay1jaGFydHtwYWRkaW5nOjA7bWFyZ2luOjA7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJX19YCwgZiA9IHIoXG4gIGwsXG4gIC8qKlxuICAgKiBTaW5jZSBvbWl0UHJvcHMgaXMgb25seSBuZWVkZWQgZm9yIHR5cGluZywgbm90IHJ1bnRpbWUsIGB7fSBhcyB7IC4uLiB9YCBpc1xuICAgKiBhIGhhY2sgdG8gcmVtb3ZlIHRoZW0gZnJvbSB0aGUgcnVudGltZSBjb2RlLiBUaGlzIGFyZ3VtZW50IGlzIG5vdCB1c2VkIGF0XG4gICAqIGFsbCBhdCBydW50aW1lLiBGb3IgbWFrZVZpZXdNb2RlbENvbnRyb2xsZXIgYW5kIG1ha2VXaWRnZXRDb250cm9sbGVyLCB0aGVcbiAgICogbWluaWZpZXIgaXMgYWJsZSB0byByZW1vdmUgdGhlbSBhdXRvbWF0aWNhbGx5LiBIb3dldmVyLCBtaW5pZmllciBkb2VzIG5vdFxuICAgKiByZW1vdmUgdGhlbSBmb3IgbWFrZUFjY2Vzc29yQ29udHJvbGxlciBhcyBtYWtlQWNjZXNzb3JDb250cm9sbGVyIGlzIGRlZmluZWRcbiAgICogaW4gYW4gZXh0ZXJuYWxpemVkIHBhY2thZ2UuXG4gICAqL1xuICB7fVxuKSwgViA9IHIoZCwge30pO1xuY2xhc3MgXyBleHRlbmRzIHAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLl9jZW50ZXIgPSB2b2lkIDAsIHRoaXMuX2V4dGVudCA9IHZvaWQgMCwgdGhpcy5faXRlbUlkID0gdm9pZCAwLCB0aGlzLl9zY2FsZSA9IHZvaWQgMCwgdGhpcy5fdmlld3BvaW50ID0gdm9pZCAwLCB0aGlzLl96b29tID0gdm9pZCAwLCB0aGlzLl9tYXAgPSBmKHRoaXMsIHtcbiAgICAgIGVkaXRDb25zdHJ1Y3RvclByb3BlcnRpZXM6IHRoaXMuX2VkaXRNYXBQcm9wZXJ0aWVzXG4gICAgfSksIHRoaXMudmlldyA9IFYodGhpcywgeyBlZGl0Q29uc3RydWN0b3JQcm9wZXJ0aWVzOiB0aGlzLl9lZGl0Vmlld1Byb3BlcnRpZXMgfSksIHRoaXMuYWxsTGF5ZXJWaWV3cyA9IHRoaXMudmlldy5hbGxMYXllclZpZXdzLCB0aGlzLmF1dG9EZXN0cm95RGlzYWJsZWQgPSAhMSwgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy52aWV3LmJhY2tncm91bmQsIHRoaXMuYmFzZW1hcCA9IHRoaXMuX21hcC5iYXNlbWFwLCB0aGlzLmJhc2VtYXBWaWV3ID0gdGhpcy52aWV3LmJhc2VtYXBWaWV3LCB0aGlzLmNvbnN0cmFpbnRzID0gdGhpcy52aWV3LmNvbnN0cmFpbnRzLCB0aGlzLmRpc3BsYXlGaWx0ZXJEaXNhYmxlZCA9IHRoaXMudmlldy5kaXNwbGF5RmlsdGVyRW5hYmxlZCwgdGhpcy5mYXRhbEVycm9yID0gdGhpcy52aWV3LmZhdGFsRXJyb3IsIHRoaXMuZ3JhcGhpY3MgPSB0aGlzLnZpZXcuZ3JhcGhpY3MsIHRoaXMuaGlnaGxpZ2h0cyA9IHRoaXMudmlldy5oaWdobGlnaHRzLCB0aGlzLmxheWVyVmlld3MgPSB0aGlzLnZpZXcubGF5ZXJWaWV3cywgdGhpcy5tYWduaWZpZXIgPSB0aGlzLnZpZXcubWFnbmlmaWVyLCB0aGlzLm1hcCA9IHRoaXMudmlldy5tYXAsIHRoaXMubmF2aWdhdGlvbiA9IHRoaXMudmlldy5uYXZpZ2F0aW9uLCB0aGlzLnBhZGRpbmcgPSB0aGlzLnZpZXcucGFkZGluZywgdGhpcy5wb3B1cCA9IHRoaXMudmlldy5wb3B1cCwgdGhpcy5wb3B1cERpc2FibGVkID0gdGhpcy52aWV3LnBvcHVwRW5hYmxlZCwgdGhpcy5yZWFkeSA9IHRoaXMudmlldy5yZWFkeSwgdGhpcy5yZXNpemVBbGlnbiA9IHRoaXMudmlldy5yZXNpemVBbGlnbiwgdGhpcy5yZXNvbHV0aW9uID0gdGhpcy52aWV3LnJlc29sdXRpb24sIHRoaXMucm90YXRpb24gPSB0aGlzLnZpZXcucm90YXRpb24sIHRoaXMuc3BhdGlhbFJlZmVyZW5jZSA9IHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlLCB0aGlzLnN1c3BlbmRlZCA9IHRoaXMudmlldy5zdXNwZW5kZWQsIHRoaXMudGhlbWUgPSB0aGlzLnZpZXcudGhlbWUsIHRoaXMudGltZUV4dGVudCA9IHRoaXMudmlldy50aW1lRXh0ZW50LCB0aGlzLnRpbWVab25lID0gdGhpcy52aWV3LnRpbWVab25lLCB0aGlzLnVwZGF0aW5nID0gdGhpcy52aWV3LnVwZGF0aW5nLCB0aGlzLmFyY2dpc1ZpZXdDaGFuZ2UgPSBhKCksIHRoaXMuYXJjZ2lzVmlld0NsaWNrID0gdCgoKSA9PiB0aGlzLnZpZXcsIFwiY2xpY2tcIiksIHRoaXMuYXJjZ2lzVmlld0RvdWJsZUNsaWNrID0gdCgoKSA9PiB0aGlzLnZpZXcsIFwiZG91YmxlLWNsaWNrXCIpLCB0aGlzLmFyY2dpc1ZpZXdEcmFnID0gdCgoKSA9PiB0aGlzLnZpZXcsIFwiZHJhZ1wiKSwgdGhpcy5hcmNnaXNWaWV3SG9sZCA9IHQoKCkgPT4gdGhpcy52aWV3LCBcImhvbGRcIiksIHRoaXMuYXJjZ2lzVmlld0ltbWVkaWF0ZUNsaWNrID0gdCgoKSA9PiB0aGlzLnZpZXcsIFwiaW1tZWRpYXRlLWNsaWNrXCIpLCB0aGlzLmFyY2dpc1ZpZXdJbW1lZGlhdGVEb3VibGVDbGljayA9IHQoKCkgPT4gdGhpcy52aWV3LCBcImltbWVkaWF0ZS1kb3VibGUtY2xpY2tcIiksIHRoaXMuYXJjZ2lzVmlld0tleURvd24gPSB0KCgpID0+IHRoaXMudmlldywgXCJrZXktZG93blwiKSwgdGhpcy5hcmNnaXNWaWV3S2V5VXAgPSB0KCgpID0+IHRoaXMudmlldywgXCJrZXktdXBcIiksIHRoaXMuYXJjZ2lzVmlld0xheWVydmlld0NyZWF0ZSA9IHQoKCkgPT4gdGhpcy52aWV3LCBcImxheWVydmlldy1jcmVhdGVcIiksIHRoaXMuYXJjZ2lzVmlld0xheWVydmlld0NyZWF0ZUVycm9yID0gdCgoKSA9PiB0aGlzLnZpZXcsIFwibGF5ZXJ2aWV3LWNyZWF0ZS1lcnJvclwiKSwgdGhpcy5hcmNnaXNWaWV3TGF5ZXJ2aWV3RGVzdHJveSA9IHQoKCkgPT4gdGhpcy52aWV3LCBcImxheWVydmlldy1kZXN0cm95XCIpLCB0aGlzLmFyY2dpc1ZpZXdNb3VzZVdoZWVsID0gdCgoKSA9PiB0aGlzLnZpZXcsIFwibW91c2Utd2hlZWxcIiksIHRoaXMuYXJjZ2lzVmlld1BvaW50ZXJEb3duID0gdCgoKSA9PiB0aGlzLnZpZXcsIFwicG9pbnRlci1kb3duXCIpLCB0aGlzLmFyY2dpc1ZpZXdQb2ludGVyRW50ZXIgPSB0KCgpID0+IHRoaXMudmlldywgXCJwb2ludGVyLWVudGVyXCIpLCB0aGlzLmFyY2dpc1ZpZXdQb2ludGVyTGVhdmUgPSB0KCgpID0+IHRoaXMudmlldywgXCJwb2ludGVyLWxlYXZlXCIpLCB0aGlzLmFyY2dpc1ZpZXdQb2ludGVyTW92ZSA9IHQoKCkgPT4gdGhpcy52aWV3LCBcInBvaW50ZXItbW92ZVwiKSwgdGhpcy5hcmNnaXNWaWV3UG9pbnRlclVwID0gdCgoKSA9PiB0aGlzLnZpZXcsIFwicG9pbnRlci11cFwiKSwgdGhpcy5hcmNnaXNWaWV3UmVhZHlDaGFuZ2UgPSBhKCk7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLnByb3BlcnRpZXMgPSB7IF9tYXA6IDE2LCB2aWV3OiAzMiwgYWxsTGF5ZXJWaWV3czogMCwgYXV0b0Rlc3Ryb3lEaXNhYmxlZDogNSwgYmFja2dyb3VuZDogMCwgYmFzZW1hcDogMSwgYmFzZW1hcFZpZXc6IDAsIGNlbnRlcjogMSwgY29uc3RyYWludHM6IDAsIGRpc3BsYXlGaWx0ZXJEaXNhYmxlZDogNSwgZXh0ZW50OiAwLCBmYXRhbEVycm9yOiAwLCBncmFwaGljczogMCwgaGlnaGxpZ2h0czogMCwgaW50ZXJhY3Rpbmc6IDMyLCBpdGVtSWQ6IDMsIGxheWVyVmlld3M6IDAsIG1hZ25pZmllcjogMCwgbWFwOiAwLCBuYXZpZ2F0aW5nOiAzMiwgbmF2aWdhdGlvbjogMCwgcGFkZGluZzogMCwgcG9wdXA6IDAsIHBvcHVwRGlzYWJsZWQ6IDUsIHJlYWR5OiA0LCByZXNpemVBbGlnbjogMSwgcmVzb2x1dGlvbjogOCwgcm90YXRpb246IDksIHNjYWxlOiA5LCBzcGF0aWFsUmVmZXJlbmNlOiAwLCBzdGF0aW9uYXJ5OiAzMiwgc3VzcGVuZGVkOiA3LCB0aGVtZTogMCwgdGltZUV4dGVudDogMCwgdGltZVpvbmU6IDEsIHVwZGF0aW5nOiA3LCB2aWV3cG9pbnQ6IDAsIHpvb206IDkgfTtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMuc2hhZG93Um9vdE9wdGlvbnMgPSBtO1xuICB9XG4gIHN0YXRpYyB7XG4gICAgdGhpcy5zdHlsZXMgPSB1O1xuICB9XG4gIC8qKlxuICAgKiBSZXByZXNlbnRzIHRoZSB2aWV3J3MgY2VudGVyIHBvaW50OyB3aGVuIHNldHRpbmcgdGhlIGNlbnRlciwgeW91IG1heSBwYXNzIGFcbiAgICogZXNyaS9nZW9tZXRyeS9Qb2ludCBpbnN0YW5jZSBvciBhIHN0cmluZyByZXByZXNlbnRpbmdcbiAgICogYSBsb25naXR1ZGUvbGF0aXR1ZGUgcGFpciAoYFwiLTEwMC40NTkzLCAzNi45MDE0XCJgKS5cbiAgICogU2V0dGluZyB0aGUgY2VudGVyIGltbWVkaWF0ZWx5IGNoYW5nZXMgdGhlIGN1cnJlbnQgdmlldy5cbiAgICogRm9yIGFuaW1hdGluZyB0aGUgdmlldywgc2VlIHRoaXMgY29tcG9uZW50J3MgZ29UbygpIG1ldGhvZC5cbiAgICovXG4gIGdldCBjZW50ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMudmlldy5jZW50ZXIgPz8gdGhpcy5fY2VudGVyO1xuICB9XG4gIHNldCBjZW50ZXIoaSkge1xuICAgIGNvbnN0IGUgPSBoKGksIHRoaXMucmVhZHkgPyB0aGlzLnZpZXcgOiB2b2lkIDApO1xuICAgIGUgJiYgKHRoaXMucmVhZHkgJiYgKHRoaXMudmlldy5jZW50ZXIgPSBlKSwgdGhpcy5fY2VudGVyID0gZSk7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBleHRlbnQgcmVwcmVzZW50cyB0aGUgdmlzaWJsZSBwb3J0aW9uIG9mIGEgbGluayBjaGFydCB3aXRoaW4gdGhlIHZpZXcgYXMgYW4gaW5zdGFuY2Ugb2ZcbiAgICogW0V4dGVudF0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvYXBpLXJlZmVyZW5jZS9lc3JpLWdlb21ldHJ5LUV4dGVudC5odG1sKS5cbiAgICogU2V0dGluZyB0aGUgZXh0ZW50IGltbWVkaWF0ZWx5IGNoYW5nZXMgdGhlIHZpZXcgd2l0aG91dCBhbmltYXRpb24uIFRvIGFuaW1hdGVcbiAgICogdGhlIHZpZXcsIHNlZSB0aGlzIGNvbXBvbmVudCdzIGdvVG8oKSBtZXRob2QuXG4gICAqIFdoZW4gdGhlIHZpZXcgaXMgcm90YXRlZCwgdGhlIGV4dGVudCBkb2VzIG5vdCB1cGRhdGUgdG8gaW5jbHVkZSB0aGUgbmV3bHkgdmlzaWJsZSBwb3J0aW9ucyBvZiB0aGUgbGluayBjaGFydC5cbiAgICovXG4gIGdldCBleHRlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMudmlldy5leHRlbnQgPz8gdGhpcy5fZXh0ZW50O1xuICB9XG4gIHNldCBleHRlbnQoaSkge1xuICAgIHRoaXMudmlldy5yZWFkeSAmJiAhdGhpcy5leHRlbnQ/LmVxdWFscyhpKSAmJiAodGhpcy52aWV3LmV4dGVudCA9IGkpLCB0aGlzLl9leHRlbnQgPSBpO1xuICB9XG4gIC8qKiBJbmRpY2F0aW9uIHdoZXRoZXIgdGhlIHZpZXcgaXMgYmVpbmcgaW50ZXJhY3RlZCB3aXRoIChmb3IgZXhhbXBsZSB3aGVuIHBhbm5pbmcgb3IgYnkgYW4gaW50ZXJhY3RpdmUgdG9vbCkuICovXG4gIGdldCBpbnRlcmFjdGluZygpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3LmludGVyYWN0aW5nO1xuICB9XG4gIC8qKiBUaGUgSUQgb2YgYSBXZWJMaW5rQ2hhcnQgZnJvbSBhbiBBcmNHSVMgRW50ZXJwcmlzZSBwb3J0YWwuXG4gICAqXG4gICAqIFRvIGNvbmZpZ3VyZSB0aGUgcG9ydGFsIHVybCB5b3UgbXVzdCBzZXQgdGhlIFtgcG9ydGFsVXJsYCBwcm9wZXJ0eSBvbiBgY29uZmlnYF0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvYXBpLXJlZmVyZW5jZS9lc3JpLWNvbmZpZy5odG1sI3BvcnRhbFVybCkgYmVmb3JlIHRoZSBgYXJjZ2lzLWxpbmtjaGFydGAgY29tcG9uZW50IGxvYWRzLlxuICAgKi9cbiAgZ2V0IGl0ZW1JZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLnBvcnRhbEl0ZW0/LmlkID8/IHRoaXMuX2l0ZW1JZDtcbiAgfVxuICBzZXQgaXRlbUlkKGkpIHtcbiAgICB0aGlzLl9pdGVtSWQgPSBpLCB0aGlzLnJlYWR5ICYmIHYucmVDcmVhdGUodGhpcy5fbWFwLCB0aGlzKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMudmlldy5tYXAgPSB0aGlzLl9tYXA7XG4gICAgfSkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gIH1cbiAgLyoqIEluZGljYXRpb24gd2hldGhlciB0aGUgdmlldyBpcyBiZWluZyBuYXZpZ2F0ZWQgKGZvciBleGFtcGxlIHdoZW4gcGFubmluZykuICovXG4gIGdldCBuYXZpZ2F0aW5nKCkge1xuICAgIHJldHVybiB0aGlzLnZpZXcubmF2aWdhdGluZztcbiAgfVxuICAvKipcbiAgICogUmVwcmVzZW50cyB0aGUgbGluayBjaGFydCBzY2FsZSBhdCB0aGUgY2VudGVyIG9mIHRoZSB2aWV3LiBTZXR0aW5nIHRoZSBzY2FsZSBpbW1lZGlhdGVseSBjaGFuZ2VzIHRoZSB2aWV3LiBGb3IgYW5pbWF0aW5nXG4gICAqIHRoZSB2aWV3LCBzZWUgdGhpcyBjb21wb25lbnQncyBnb1RvKCkgbWV0aG9kLlxuICAgKi9cbiAgZ2V0IHNjYWxlKCkge1xuICAgIHJldHVybiB0aGlzLnZpZXcuc2NhbGUgPz8gdGhpcy5fc2NhbGU7XG4gIH1cbiAgc2V0IHNjYWxlKGkpIHtcbiAgICB0aGlzLnJlYWR5ICYmICh0aGlzLnZpZXcuc2NhbGUgPSBpKSwgdGhpcy5fc2NhbGUgPSBpO1xuICB9XG4gIC8qKiBJbmRpY2F0aW9uIHdoZXRoZXIgdGhlIHZpZXcgaXMgYW5pbWF0aW5nLCBiZWluZyBuYXZpZ2F0ZWQgd2l0aCBvciByZXNpemluZy4gKi9cbiAgZ2V0IHN0YXRpb25hcnkoKSB7XG4gICAgcmV0dXJuIHRoaXMudmlldy5zdGF0aW9uYXJ5O1xuICB9XG4gIC8qKlxuICAgKiBSZXByZXNlbnRzIHRoZSBjdXJyZW50IHZpZXcgYXMgYSBWaWV3cG9pbnQgb3IgcG9pbnQgb2Ygb2JzZXJ2YXRpb24gb24gdGhlIHZpZXcuXG4gICAqIFNldHRpbmcgdGhlIHZpZXdwb2ludCBpbW1lZGlhdGVseSBjaGFuZ2VzIHRoZSBjdXJyZW50IHZpZXcuIEZvciBhbmltYXRpbmdcbiAgICogdGhlIHZpZXcsIHNlZSB0aGlzIGNvbXBvbmVudCdzIGdvVG8oKSBtZXRob2QuXG4gICAqL1xuICBnZXQgdmlld3BvaW50KCkge1xuICAgIHJldHVybiB0aGlzLnZpZXcudmlld3BvaW50ID8/IHRoaXMuX3ZpZXdwb2ludDtcbiAgfVxuICBzZXQgdmlld3BvaW50KGkpIHtcbiAgICB0aGlzLnJlYWR5ICYmIGcodGhpcy52aWV3cG9pbnQsIGkpICYmICh0aGlzLnZpZXcudmlld3BvaW50ID0gaSksIHRoaXMuX3ZpZXdwb2ludCA9IGk7XG4gIH1cbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgdGhlIGxldmVsIG9mIGRldGFpbCAoTE9EKSBhdCB0aGUgY2VudGVyIG9mIHRoZSB2aWV3LlxuICAgKiBBIHpvb20gbGV2ZWwgKG9yIHNjYWxlKSBpcyBhIG51bWJlciB0aGF0IGRlZmluZXMgaG93IGxhcmdlIG9yIHNtYWxsIHRoZSBjb250ZW50cyBvZiBhIGxpbmsgY2hhcnQgYXBwZWFyIGluIGEgbGluayBjaGFydCB2aWV3LlxuICAgKiBab29tIGxldmVsIGlzIGEgbnVtYmVyIHVzdWFsbHkgYmV0d2VlbiAwIChnbG9iYWwgdmlldykgYW5kIDIzICh2ZXJ5IGRldGFpbGVkIHZpZXcpIGFuZCBpcyB1c2VkIGFzIGEgc2hvcnRoYW5kIGZvciBwcmVkZXRlcm1pbmVkIHNjYWxlIHZhbHVlcy5cbiAgICogQSB2YWx1ZSBvZiAtMSBtZWFucyB0aGUgdmlldyBoYXMgbm8gTE9Ecy5cbiAgICogV2hlbiBzZXR0aW5nIHRoZSB6b29tIHZhbHVlLCB0aGUgTGlua0NoYXJ0VmlldyBjb252ZXJ0cyBpdCB0byB0aGUgY29ycmVzcG9uZGluZyBzY2FsZSwgb3IgaW50ZXJwb2xhdGVzIGl0IGlmIHRoZSB6b29tIGlzIGEgZnJhY3Rpb25hbCBudW1iZXIuXG4gICAqIExpbmtDaGFydFZpZXcgY2FuIGRpc3BsYXkgbGluayBjaGFydHMgd2l0aCBkaWZmZXJlbnQgcHJvamVjdGlvbnMgYXQgYSBmdWxsIHJhbmdlIG9mIHNjYWxlcywgYW5kIHNvIHVzZSB0aGUgc2NhbGUgcHJvcGVydHkgb24gdGhpcyBjb21wb25lbnQgcmF0aGVyIHRoYW4gem9vbSBsZXZlbC5cbiAgICpcbiAgICogU2V0dGluZyB0aGUgem9vbSBpbW1lZGlhdGVseSBjaGFuZ2VzIHRoZSBjdXJyZW50IHZpZXcuIEZvciBhbmltYXRpbmcgdGhlIHZpZXcsIHNlZSB0aGlzIGNvbXBvbmVudCdzIGdvVG8oKSBtZXRob2QuXG4gICAqIFNldHRpbmcgdGhpcyBwcm9wZXJ0eSBpbiBjb25qdW5jdGlvbiB3aXRoIGBjZW50ZXJgIGlzIGEgY29udmVuaWVudCB3YXkgdG8gc2V0IHRoZSBpbml0aWFsIGV4dGVudCBvZiB0aGUgdmlldy5cbiAgICovXG4gIGdldCB6b29tKCkge1xuICAgIHJldHVybiB0aGlzLnZpZXcuem9vbSA/PyB0aGlzLl96b29tO1xuICB9XG4gIHNldCB6b29tKGkpIHtcbiAgICB0aGlzLnJlYWR5ICYmICh0aGlzLnZpZXcuem9vbSA9IGkpLCB0aGlzLl96b29tID0gaTtcbiAgfVxuICAvLyNlbmRyZWdpb25cbiAgLy8jcmVnaW9uIFB1YmxpYyBNZXRob2RzXG4gIC8qKiBBZGRzIGEgbGF5ZXIgdG8gdGhlIGxheWVycyBjb2xsZWN0aW9uLiAqL1xuICBhc3luYyBhZGRMYXllcihpLCBlKSB7XG4gICAgdGhpcy5tYXA/LmFkZChpLCBlKTtcbiAgfVxuICAvKiogQWRkcyBhIGxheWVyIG9yIGFycmF5IG9mIGxheWVycyB0byB0aGUgbGF5ZXJzIGNvbGxlY3Rpb24uICovXG4gIGFzeW5jIGFkZExheWVycyhpLCBlKSB7XG4gICAgdGhpcy5tYXA/LmFkZE1hbnkoaSwgZSk7XG4gIH1cbiAgLyoqIENsb3NlcyB0aGUgcG9wdXAuICovXG4gIGFzeW5jIGNsb3NlUG9wdXAoKSB7XG4gICAgdGhpcy52aWV3Py5jbG9zZVBvcHVwKCk7XG4gIH1cbiAgLyoqIERlc3Ryb3lzIHRoZSB2aWV3LCBhbmQgYW55IGFzc29jaWF0ZWQgcmVzb3VyY2VzLCBpbmNsdWRpbmcgaXRzIG1hcCwgcG9wdXAsIGFuZCBVSSBlbGVtZW50cy4gKi9cbiAgYXN5bmMgZGVzdHJveSgpIHtcbiAgICBhd2FpdCB0aGlzLm1hbmFnZXIuZGVzdHJveSgpO1xuICB9XG4gIC8qKiBTZXRzIHRoZSB2aWV3IHRvIGEgZ2l2ZW4gdGFyZ2V0LiAqL1xuICBhc3luYyBnb1RvKGksIGUpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy52aWV3Py5nb1RvKGksIGUpO1xuICB9XG4gIC8qKlxuICAgKiBPcGVucyB0aGUgcG9wdXAgYXQgdGhlIGdpdmVuIGxvY2F0aW9uIHdpdGggY29udGVudCBkZWZpbmVkIGVpdGhlciBleHBsaWNpdGx5IHdpdGggY29udGVudCBvciBkcml2ZW5cbiAgICogZnJvbSB0aGUgUG9wdXBUZW1wbGF0ZSBvZiBpbnB1dCBmZWF0dXJlcy5cbiAgICovXG4gIGFzeW5jIG9wZW5Qb3B1cChpKSB7XG4gICAgYXdhaXQgdGhpcy52aWV3Py5vcGVuUG9wdXAoaSk7XG4gIH1cbiAgdG9NYXAoaSkge1xuICAgIHJldHVybiB0aGlzLnZpZXcudG9NYXAoaSk7XG4gIH1cbiAgdG9TY3JlZW4oaSwgZSkge1xuICAgIHJldHVybiB0aGlzLnZpZXcudG9TY3JlZW4oaSwgZSk7XG4gIH1cbiAgLyoqIENhbGwgdGhpcyBtZXRob2QgdG8gY2xlYXIgYW55IGZhdGFsIGVycm9ycyByZXN1bHRpbmcgZnJvbSBhIGxvc3QgV2ViR0wgY29udGV4dC4gKi9cbiAgYXN5bmMgdHJ5RmF0YWxFcnJvclJlY292ZXJ5KCkge1xuICAgIHRoaXMudmlldz8udHJ5RmF0YWxFcnJvclJlY292ZXJ5KCk7XG4gIH1cbiAgLyoqIEdldHMgdGhlIExheWVyVmlldyBjcmVhdGVkIG9uIHRoZSB2aWV3IGZvciB0aGUgZ2l2ZW4gbGF5ZXIuICovXG4gIGFzeW5jIHdoZW5MYXllclZpZXcoaSkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnZpZXc/LndoZW5MYXllclZpZXcoaSk7XG4gIH1cbiAgLy8jZW5kcmVnaW9uXG4gIC8vI3JlZ2lvbiBMaWZlY3ljbGVcbiAgbG9hZCgpIHtcbiAgICB0aGlzLmVsLmNoaWxkRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIHRoaXMuZWwuY2hpbGRFbGVtLmNsYXNzTGlzdC5hZGQoXCJhcmNnaXMtbGluay1jaGFydFwiKSwgdGhpcy5lbC5hcHBlbmQodGhpcy5lbC5jaGlsZEVsZW0pLCB0aGlzLnZpZXcuY29udGFpbmVyID8/PSB0aGlzLmVsLmNoaWxkRWxlbTtcbiAgfVxuICBsb2FkZWQoKSB7XG4gICAgdGhpcy5tYW5hZ2VyLm9uTGlmZWN5Y2xlKCgpID0+IFtcbiAgICAgIHMoKCkgPT4gdGhpcy52aWV3LnN0YXRpb25hcnksICgpID0+IHtcbiAgICAgICAgdGhpcy5hcmNnaXNWaWV3Q2hhbmdlLmVtaXQoKTtcbiAgICAgIH0sIHsgaW5pdGlhbDogITAgfSksXG4gICAgICBzKCgpID0+IHRoaXMudmlldy5yZWFkeSwgKCkgPT4ge1xuICAgICAgICB0aGlzLmFyY2dpc1ZpZXdSZWFkeUNoYW5nZS5lbWl0KCk7XG4gICAgICB9LCB7IGluaXRpYWw6IHRoaXMudmlldy5yZWFkeSB9KVxuICAgIF0pO1xuICB9XG4gIC8vI2VuZHJlZ2lvblxuICAvLyNyZWdpb24gUHJpdmF0ZSBNZXRob2RzXG4gIF9lZGl0TWFwUHJvcGVydGllcyhpKSB7XG4gICAgdGhpcy5tYXAgJiYgKHRoaXMuX21hcCA9IHRoaXMubWFwKSwgdGhpcy5pdGVtSWQgPyBpLnBvcnRhbEl0ZW0gPSB7IGlkOiB0aGlzLml0ZW1JZCB9IDogdGhpcy5iYXNlbWFwID8gdGhpcy5iYXNlbWFwID09PSBcIm5vbmVcIiAmJiAoaS5iYXNlbWFwID0gdm9pZCAwLCB0aGlzLmJhc2VtYXAgPSBudWxsKSA6IGkuYmFzZW1hcCA9IFwidG9wby12ZWN0b3JcIjtcbiAgICBjb25zdCB7IGJhc2VtYXA6IGUsIC4uLm4gfSA9IGk7XG4gICAgZSB8fCAoaSA9IG4pO1xuICAgIGNvbnN0IHsgZ3JvdW5kOiBvLCAuLi53IH0gPSBpO1xuICAgIHJldHVybiBvIHx8IChpID0gdyksIGk7XG4gIH1cbiAgYXN5bmMgX2VkaXRWaWV3UHJvcGVydGllcyhpKSB7XG4gICAgYXdhaXQgdGhpcy5tYW5hZ2VyLnVzZSh0aGlzLl9tYXApLCB0aGlzLnZpZXcudWkgfHwgKGkudWkgPSB7XG4gICAgICBjb21wb25lbnRzOiBbXCJhdHRyaWJ1dGlvblwiXVxuICAgIH0pLCBpLm1hcCA/Pz0gdGhpcy5fbWFwO1xuICAgIGNvbnN0IGUgPSBoKHRoaXMuY2VudGVyLCB2b2lkIDApO1xuICAgIHJldHVybiBlICYmIChpLmNlbnRlciA9IGUpLCB0aGlzLnZpZXdwb2ludCAmJiAoaS52aWV3cG9pbnQgPSB0aGlzLnZpZXdwb2ludCksIHRoaXMuc2NhbGUgIT09IHZvaWQgMCAmJiAoaS5zY2FsZSA9IHRoaXMuc2NhbGUpLCB0aGlzLmV4dGVudCAmJiAoaS5leHRlbnQgPSB0aGlzLmV4dGVudCksIHRoaXMuem9vbSAhPT0gdm9pZCAwICYmIChpLnpvb20gPSB0aGlzLnpvb20pLCBpO1xuICB9XG59XG5jKFwiYXJjZ2lzLWxpbmstY2hhcnRcIiwgXyk7XG5leHBvcnQge1xuICBfIGFzIEFyY2dpc0xpbmtDaGFydFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==