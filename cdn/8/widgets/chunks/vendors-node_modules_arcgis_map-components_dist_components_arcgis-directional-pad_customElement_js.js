"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_map-components_dist_components_arcgis-directional-pad_customElement_js"],{

/***/ "./node_modules/@arcgis/map-components/dist/chunks/globalCss.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/chunks/globalCss.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   g: () => (/* binding */ e)
/* harmony export */ });
/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
const e = {
  anchor: "esri-widget__anchor",
  anchorDisabled: "esri-widget__anchor--disabled",
  button: "esri-button",
  buttonDisabled: "esri-button--disabled",
  buttonHalf: "esri-button--half",
  buttonSecondary: "esri-button--secondary",
  buttonSmall: "esri-button--small",
  buttonTertiary: "esri-button--tertiary",
  buttonThird: "esri-button--third",
  disabled: "esri-disabled",
  disabledElement: "esri-disabled-element",
  empty: "esri-widget__content--empty",
  emptyIllustration: "esri-widget__content-illustration--empty",
  heading: "esri-widget__heading",
  hidden: "esri-hidden",
  input: "esri-input",
  interactive: "esri-interactive",
  loader: "esri-widget__loader",
  loaderAnimation: "esri-widget__loader-animation",
  loaderText: "esri-widget__loader-text",
  menu: "esri-menu",
  menuHeader: "esri-menu__header",
  menuItem: "esri-menu__list-item",
  menuItemActive: "esri-menu__list-item--active",
  menuItemFocus: "esri-menu__list-item--focus",
  menuList: "esri-menu__list",
  noBookmarksIcon: "esri-widget__no-bookmark-icon",
  panel: "esri-widget--panel",
  panelHeightOnly: "esri-widget--panel-height-only",
  primaryTick: "primary-tick",
  primaryTickAmPm: "primary-tick__ampm",
  primaryTickLabel: "primary-tick__label",
  rotating: "esri-rotating",
  secondaryTick: "secondary-tick",
  select: "esri-select",
  table: "esri-widget__table",
  ui: "esri-component",
  widget: "esri-widget esri-component",
  widgetButton: "esri-widget--button",
  widgetButtonActive: "esri-widget--button-active",
  widgetDisabled: "esri-widget--disabled"
};



/***/ }),

/***/ "./node_modules/@arcgis/map-components/dist/chunks/useView.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/chunks/useView.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   V: () => (/* binding */ v),
/* harmony export */   a: () => (/* binding */ _),
/* harmony export */   u: () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @arcgis/components-controllers */ "./node_modules/@arcgis/components-controllers/dist/index.js");
/* harmony import */ var _runtime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./runtime.js */ "./node_modules/@arcgis/map-components/dist/chunks/runtime.js");
/* harmony import */ var _arcgis_core_applications_Components_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arcgis/core/applications/Components/reactiveUtils.js */ "@arcgis/core/applications/Components/reactiveUtils.js");
/* harmony import */ var _arcgis_core_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @arcgis/core/core/reactiveUtils.js */ "@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _component_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./component-utils.js */ "./node_modules/@arcgis/map-components/dist/chunks/component-utils.js");





/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
const E = (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.makeT9nController)(_runtime_js__WEBPACK_IMPORTED_MODULE_1__.g), _ = (s) => u(s);
class v extends _arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.GenericController {
  constructor(e) {
    super(e), this._view$ = (0,_arcgis_core_applications_Components_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.signal)(void 0), this._viewDestroyHandle = void 0, this._arcgisReadyEmitted = !1;
    const { el: t } = e, r = t.view;
    this.setProvisionalExports(void 0), Object.defineProperty(t, "view", {
      get: () => this._view$.value,
      set: (o) => {
        if (this.exports === o)
          return;
        const c = t.view;
        this._view$.value = o, this.exports = o, this.component.requestUpdate("view", c), !this._arcgisReadyEmitted && o != null && (this._arcgisReadyEmitted = !0, this.component.arcgisReady.emit());
      },
      configurable: !0,
      enumerable: !0
    }), e !== t && Object.defineProperty(e, "view", {
      get: () => t.view,
      set: (o) => {
        t.view = o;
      }
    }), queueMicrotask(() => {
      r && (t.view = r);
    });
  }
  hostConnected() {
    this._viewDestroyHandle ??= _arcgis_core_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.when(
      () => this._view$.value?.destroyed,
      () => void this.component.destroy?.().catch(console.error),
      { sync: !0 }
    ), this.component.manager.loadedCalled && (0,_component_utils_js__WEBPACK_IMPORTED_MODULE_4__.a)(this.component);
  }
  hostLoad() {
    this.component.manager.destroyed || this._watchMetaProperties();
  }
  hostLoaded() {
    const { el: e } = this.component, t = e.shadowRoot?.firstElementChild ?? e.firstElementChild ?? void 0;
    e.childElem = t ?? e.childElem, e.isConnected && (0,_component_utils_js__WEBPACK_IMPORTED_MODULE_4__.a)(this.component);
  }
  hostDisconnected() {
    typeof this.component.el.childElem == "object" && this._view$.value?.ui?.remove(this.component.el.childElem);
  }
  hostDestroy() {
    this._viewDestroyHandle?.remove();
  }
  _watchMetaProperties() {
    (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.watch)(this.component, "position", (e) => {
      this.component.el.childElem != null && typeof e == "string" && (0,_component_utils_js__WEBPACK_IMPORTED_MODULE_4__.a)(this.component);
    }), (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.watch)(this.component, "referenceElement", () => (0,_component_utils_js__WEBPACK_IMPORTED_MODULE_4__.a)(this.component));
  }
}
const u = (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.proxyExports)(v);



/***/ }),

/***/ "./node_modules/@arcgis/map-components/dist/chunks/useViewModel.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/chunks/useViewModel.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   m: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @arcgis/components-controllers */ "./node_modules/@arcgis/components-controllers/dist/index.js");
/* harmony import */ var _arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @arcgis/components-controllers/accessor */ "./node_modules/@arcgis/components-controllers/dist/accessor/index.js");
/* harmony import */ var _useView_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useView.js */ "./node_modules/@arcgis/map-components/dist/chunks/useView.js");



/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
const m = (o, t) => (e, s) => l(e, o, s);
class a extends _arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.AccessorController {
  constructor() {
    super(...arguments), this.viewController = new _useView_js__WEBPACK_IMPORTED_MODULE_2__.V(this.component), this._viewWatchHandle = void 0;
  }
  async hostLoad() {
    await super.hostLoad(), this._viewWatchHandle = this.reactiveUtils.watch(
      () => this.component.el.view,
      (t) => {
        this._instance.view = t, this._instance.map = t?.map;
      },
      { sync: !0, initial: !0 }
    );
  }
  hostDestroy() {
    this._viewWatchHandle?.remove(), super.hostDestroy();
  }
}
const l = (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.proxyExports)(a);



/***/ }),

/***/ "./node_modules/@arcgis/map-components/dist/components/arcgis-directional-pad/customElement.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/components/arcgis-directional-pad/customElement.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArcgisDirectionalPad: () => (/* binding */ D)
/* harmony export */ });
/* harmony import */ var _chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/runtime.js */ "./node_modules/@arcgis/map-components/dist/chunks/runtime.js");
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit-html */ "./node_modules/lit-html/development/lit-html.js");
/* harmony import */ var lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit-html/directives/ref.js */ "./node_modules/lit-html/development/directives/ref.js");
/* harmony import */ var _arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @arcgis/components-controllers */ "./node_modules/@arcgis/components-controllers/dist/index.js");
/* harmony import */ var _arcgis_components_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @arcgis/components-utils */ "./node_modules/@arcgis/components-utils/dist/index.js");
/* harmony import */ var _arcgis_core_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @arcgis/core/core/reactiveUtils.js */ "@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _arcgis_core_widgets_DirectionalPad_DirectionalPadViewModel_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @arcgis/core/widgets/DirectionalPad/DirectionalPadViewModel.js */ "@arcgis/core/widgets/DirectionalPad/DirectionalPadViewModel.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/* harmony import */ var _chunks_useView_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../chunks/useView.js */ "./node_modules/@arcgis/map-components/dist/chunks/useView.js");
/* harmony import */ var _chunks_useViewModel_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../chunks/useViewModel.js */ "./node_modules/@arcgis/map-components/dist/chunks/useViewModel.js");
/* harmony import */ var _chunks_globalCss_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../chunks/globalCss.js */ "./node_modules/@arcgis/map-components/dist/chunks/globalCss.js");
/* harmony import */ var _lit_reactive_element_css_tag_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @lit/reactive-element/css-tag.js */ "./node_modules/@lit/reactive-element/development/css-tag.js");












/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
const h = [-45, 0, 45, -90, 90, -135, 180, 135], y = {
  0: { label: "north", iconName: "chevron-up" },
  45: { label: "northEast", iconName: "chevron-up-right" },
  90: { label: "east", iconName: "chevron-right" },
  135: { label: "southEast", iconName: "chevron-down-right" },
  180: { label: "south", iconName: "chevron-down" },
  "-135": { label: "southWest", iconName: "chevron-down-left" },
  "-90": { label: "west", iconName: "chevron-left" },
  "-45": { label: "northWest", iconName: "chevron-up-left" }
}, a = "arcgis-directional-pad", s = {
  base: a,
  buttonsContainer: `${a}__buttons-container`,
  button: `${a}__button`,
  compassButton: `${a}__compass`,
  rotationContainer: `${a}__rotation-container`,
  rotationSliderContainer: `${a}__rotation-slider-container`,
  rotationReset: `${a}__rotation-reset-button`,
  error: `${a}__error`
}, M = (0,_lit_reactive_element_css_tag_js__WEBPACK_IMPORTED_MODULE_10__.css)`@layer{.arcgis-directional-pad{display:flex;flex-direction:column;gap:var(--calcite-spacing-sm);outline:none;box-shadow:none!important;background-color:transparent!important;user-select:none;calcite-action-pad{display:contents}calcite-action-group{touch-action:none}calcite-action{aspect-ratio:1}}.arcgis-directional-pad__buttons-container{--calcite-color-background: transparent;--calcite-action-group-gap: 0;--calcite-action-group-padding: 0;calcite-action{--calcite-color-focus: var(--calcite-color-foreground-3)}calcite-action:not([active]){--calcite-action-background-color-press: var(--calcite-color-foreground-1)}calcite-action[active]{--calcite-action-background-color: var(--calcite-color-foreground-3)}calcite-icon{transform:var(--rotation, unset)}@media (hover: none){calcite-action{--calcite-action-background-color-hover: var(--calcite-color-foreground-1);--calcite-action-text-color-press: var(--calcite-color-text-3)}}}.arcgis-directional-pad__rotation-container{display:block;width:100%;calcite-action{flex:.3}}.arcgis-directional-pad__rotation-slider-container{display:flex;flex:1;align-items:center;calcite-slider{flex:1;padding-inline:var(--calcite-spacing-xxs)}}}`;
function S(c) {
  const { x: t, y: e, width: i, height: r } = c.getBoundingClientRect();
  return { x: t + i / 2, y: e + r / 2 };
}
function B(c) {
  return c?.spatialReference?.isWebMercator || c?.spatialReference?.isGeographic || !1;
}
const E = (0,_chunks_useViewModel_js__WEBPACK_IMPORTED_MODULE_8__.m)(_arcgis_core_widgets_DirectionalPad_DirectionalPadViewModel_js__WEBPACK_IMPORTED_MODULE_5__["default"]);
class D extends _arcgis_lumina__WEBPACK_IMPORTED_MODULE_6__.LitElement {
  constructor() {
    super(...arguments), this.messages = (0,_chunks_useView_js__WEBPACK_IMPORTED_MODULE_7__.u)({}), this._onContextMenu = (t) => t.preventDefault(), this._buttons = {}, this.viewModel = E(this), this.angle = this.viewModel.angle, this.rotation = this.viewModel.rotation, this.autoDestroyDisabled = !1, this.disabled = this.viewModel.disabled, this.hideDirectionalButtons = !1, this.icon = "move", this.position = "bottom-left", this.showRotationResetButton = !1, this.showRotationSlider = !1, this.state = this.viewModel.state, this.visualScale = "s", this.arcgisPropertyChange = (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_3__.usePropertyChange)()("state"), this.arcgisReady = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_6__.createEvent)();
  }
  static {
    this.properties = { _rotationEnabled: 16, angle: 16, rotation: 16, autoDestroyDisabled: 5, disabled: 5, hideDirectionalButtons: 5, icon: 3, label: 1, messageOverrides: 0, position: 3, referenceElement: 1, showRotationResetButton: 5, showRotationSlider: 5, state: 3, visualScale: 1 };
  }
  static {
    this.shadowRootOptions = _arcgis_lumina__WEBPACK_IMPORTED_MODULE_6__.noShadowRoot;
  }
  static {
    this.styles = M;
  }
  // #endregion
  // #region State Properties
  /**
   * When `false`, sets rotation-related controls to a disabled state so the
   * user  cannot interact with them.
   */
  get _rotationEnabled() {
    return this.view?.ready ? this.view.constraints.rotationEnabled ?? !1 : !0;
  }
  // #endregion
  // #region Public Methods
  /** Permanently destroy the component */
  async destroy() {
    await this.manager.destroy();
  }
  // #endregion
  // #region Lifecycle
  loaded() {
    this.manager.onLifecycle(() => [
      // Move focus when movement angle changed by touch/mouse (not keyboard!)
      (0,_arcgis_core_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)(() => this.viewModel.angle, () => {
        this._buttonsContainer?.contains(document.activeElement) && (this.viewModel.angle == null ? this.el.childElem?.focus() : (0,_arcgis_components_utils__WEBPACK_IMPORTED_MODULE_11__.focusElement)(this._buttons[this.viewModel.angle]));
      })
    ]);
  }
  // #endregion
  // #region Private Methods
  _rotateIcon(t) {
    return {
      "--rotation": `rotate(${t}deg)`
    };
  }
  _setButtonContainerRef(t) {
    t !== void 0 ? (this._buttonsContainer = t, queueMicrotask(() => {
      this._buttons = Object.fromEntries(Array.from(t.children, (e) => [
        Number.parseInt(e.getAttribute("data-angle") ?? ""),
        e
      ]));
    })) : (this._buttonsContainer = void 0, this._buttons = {});
  }
  /**
   * Find component center and start movement
   */
  _onButtonPointerDown(t) {
    if (this._buttonsContainer === void 0)
      return;
    t.composedPath().find((r) => r.hasPointerCapture?.(t.pointerId))?.releasePointerCapture(t.pointerId);
    const i = S(this._buttonsContainer);
    this.viewModel.beginFollowingPointer(t, i);
  }
  _onSliderInput({ currentTarget: t }) {
    typeof t.value == "number" && (this.viewModel.rotation = t.value);
  }
  /**
   * Reset angle of rotation
   */
  _onRotationReset() {
    this.viewModel.rotation = 0;
  }
  /**
   * Handle directional pad clicks only when using the keyboard
   */
  _onClick(t) {
    this.viewModel.moveOnce(t);
  }
  // #endregion
  // #region Rendering
  render() {
    const { label: t, disabled: e } = this, i = this.view == null || this.view.type === "2d";
    return (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.html)`<div .ariaLabel=${t ?? void 0} class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_6__.safeClassMap)({ [s.base]: !0, [_chunks_globalCss_js__WEBPACK_IMPORTED_MODULE_9__.g.widget]: !0, [_chunks_globalCss_js__WEBPACK_IMPORTED_MODULE_9__.g.disabled]: e })} tabindex=-1>${i ? this._renderContent() : this._renderUnsupportedMessage()}</div>`;
  }
  _renderUnsupportedMessage() {
    return (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.html)`<section class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_6__.safeClassMap)(s.error)}><p>${this.messages.unsupported}</p></section>`;
  }
  _renderContent() {
    return [
      this.hideDirectionalButtons ? void 0 : this._renderDirectionalButtons(),
      this.showRotationSlider ? this._renderRotation() : void 0
    ];
  }
  _renderDirectionalButtons() {
    return (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.html)`<calcite-action-pad expand-disabled layout=grid><calcite-action-group class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_6__.safeClassMap)(s.buttonsContainer)} dir=ltr @contextmenu=${{
      handleEvent: this._onContextMenu,
      capture: !0
    }} ${(0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_2__.ref)(this._setButtonContainerRef)}>${h.slice(0, 4).map(this._renderButton, this)}${this._renderCompass()}${h.slice(4).map(this._renderButton, this)}</calcite-action-group></calcite-action-pad>`;
  }
  _renderButton(t) {
    const { label: e, iconName: i } = y[t], r = this.messages[e];
    return (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.html)`<calcite-action .active=${this.angle === t} alignment=center class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_6__.safeClassMap)(s.button)} data-angle=${t ?? _arcgis_lumina__WEBPACK_IMPORTED_MODULE_6__.nothing} .disabled=${this.disabled} @click=${this._onClick.bind(this, t)} @pointerdown=${this._onButtonPointerDown} .scale=${this.visualScale} .text=${r ?? ""} title=${r ?? _arcgis_lumina__WEBPACK_IMPORTED_MODULE_6__.nothing}><calcite-icon .icon=${i} .scale=${this.visualScale}></calcite-icon></calcite-action>`;
  }
  _renderCompass() {
    const t = this.disabled || B(this.view) ? "compass-needle" : "arrow-up", e = this.rotation === 0, i = this.messages.resetHeading;
    return (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.html)`<calcite-action alignment=center class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_6__.safeClassMap)(s.compassButton)} .disabled=${this.disabled || !this._rotationEnabled || e} @click=${this._onRotationReset} .scale=${this.visualScale} style=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_6__.safeStyleMap)(this._rotateIcon(this.rotation))} .text=${i ?? ""} title=${i ?? _arcgis_lumina__WEBPACK_IMPORTED_MODULE_6__.nothing}>${!e && (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.html)`<calcite-icon .icon=${t} .scale=${this.visualScale}></calcite-icon>` || ""}</calcite-action>`;
  }
  _renderRotation() {
    return (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.html)`<calcite-action-pad expand-disabled layout=horizontal><calcite-action-group class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_6__.safeClassMap)(s.rotationContainer)}>${this.showRotationResetButton ? this._renderRotationResetButton() : null}${this._renderRotationSlider()}</calcite-action-group></calcite-action-pad>`;
  }
  _renderRotationResetButton() {
    const t = this.messages.resetHeading;
    return (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.html)`<calcite-action alignment=center class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_6__.safeClassMap)(s.rotationReset)} .disabled=${this.disabled || !this._rotationEnabled} @click=${this._onRotationReset} .scale=${this.visualScale} .text=${t ?? ""} title=${t ?? _arcgis_lumina__WEBPACK_IMPORTED_MODULE_6__.nothing}><calcite-icon flip-rtl icon=rotate .scale=${this.visualScale}></calcite-icon></calcite-action>`;
  }
  _renderRotationSlider() {
    return (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_6__.safeClassMap)(s.rotationSliderContainer)}><calcite-slider .ariaLabel=${this.messages.heading} .disabled=${this.disabled || !this._rotationEnabled} label-handles max=360 min=0 required .scale=${this.visualScale} .value=${Math.round(this.rotation)} @calciteSliderInput=${this._onSliderInput}></calcite-slider></div>`;
  }
}
(0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.c)("arcgis-directional-pad", D);



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvdmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX21hcC1jb21wb25lbnRzX2Rpc3RfY29tcG9uZW50c19hcmNnaXMtZGlyZWN0aW9uYWwtcGFkX2N1c3RvbUVsZW1lbnRfanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0U7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoRDZIO0FBQ3pGO0FBQzhDO0FBQzVCO0FBQ1Y7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsVUFBVSxpRkFBQyxDQUFDLDBDQUFDO0FBQ2IsZ0JBQWdCLDZFQUFDO0FBQ2pCO0FBQ0EsNEJBQTRCLDZGQUFDO0FBQzdCLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxnQ0FBZ0Msb0VBQU07QUFDdEM7QUFDQTtBQUNBLFFBQVE7QUFDUiw4Q0FBOEMsc0RBQUM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQixxREFBcUQsc0RBQUM7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUkscUVBQUM7QUFDTCxxRUFBcUUsc0RBQUM7QUFDdEUsS0FBSyxHQUFHLHFFQUFDLDJDQUEyQyxzREFBQztB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QUFDQTtBQUNBLE9BQU8sRUFBRSwrREFBQyw4QkFBOEIsR0FBRyw0Q0FBNEMsRUFBRSxzQkFBc0IsRUFBRSx5Q0FBeUM7QUFDMUo7QUFDQTtBQUNBLFlBQVksd0JBQXdCO0FBQ3BDLFdBQVcsOENBQUMsMkJBQTJCLGtCQUFrQix5QkFBeUIsNERBQUMsWUFBWSxhQUFhLEtBQUssbURBQUMsRUFBRSxZQUFZLGVBQWUsU0FBUyw2QkFBNkIsZUFBZSwyQkFBMkIsU0FBUyxrQkFBa0IsUUFBUSxTQUFTLFFBQVEsS0FBSyxtREFBQyxDQUFDLHVCQUF1QixHQUFHLFNBQVMsaUJBQWlCO0FBQzlVO0FBQ0E7QUFDQTtBQUNBLFdBQVcsOENBQUMsMENBQTBDLDREQUFDLG1CQUFtQixZQUFZLDhDQUE4QyxTQUFTLHVCQUF1QixTQUFTLGtCQUFrQixRQUFRLDREQUFDLG1DQUFtQyxRQUFRLFNBQVMsUUFBUSxLQUFLLG1EQUFDLENBQUMsR0FBRyxNQUFNLDhDQUFDLHVCQUF1QixHQUFHLFNBQVMsaUJBQWlCLHdCQUF3QjtBQUNqVztBQUNBO0FBQ0EsV0FBVyw4Q0FBQyxxRkFBcUYsNERBQUMsc0JBQXNCLEdBQUcsd0VBQXdFLEVBQUUsNkJBQTZCO0FBQ2xPO0FBQ0E7QUFDQTtBQUNBLFdBQVcsOENBQUMsMENBQTBDLDREQUFDLG1CQUFtQixZQUFZLHlDQUF5QyxTQUFTLHVCQUF1QixTQUFTLGtCQUFrQixRQUFRLFNBQVMsUUFBUSxLQUFLLG1EQUFDLENBQUMsNkNBQTZDLGlCQUFpQjtBQUN4UjtBQUNBO0FBQ0EsV0FBVyw4Q0FBQyxjQUFjLDREQUFDLDRCQUE0Qiw4QkFBOEIsdUJBQXVCLFlBQVkseUNBQXlDLDhDQUE4QyxrQkFBa0IsU0FBUywyQkFBMkIsc0JBQXNCLG9CQUFvQjtBQUMvUztBQUNBO0FBQ0EscURBQUM7QUFHQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9tYXAtY29tcG9uZW50cy9kaXN0L2NodW5rcy9nbG9iYWxDc3MuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL21hcC1jb21wb25lbnRzL2Rpc3QvY2h1bmtzL3VzZVZpZXcuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL21hcC1jb21wb25lbnRzL2Rpc3QvY2h1bmtzL3VzZVZpZXdNb2RlbC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvbWFwLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2FyY2dpcy1kaXJlY3Rpb25hbC1wYWQvY3VzdG9tRWxlbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFc3JpLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMi9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG52NC4zMi4xICovXG5jb25zdCBlID0ge1xuICBhbmNob3I6IFwiZXNyaS13aWRnZXRfX2FuY2hvclwiLFxuICBhbmNob3JEaXNhYmxlZDogXCJlc3JpLXdpZGdldF9fYW5jaG9yLS1kaXNhYmxlZFwiLFxuICBidXR0b246IFwiZXNyaS1idXR0b25cIixcbiAgYnV0dG9uRGlzYWJsZWQ6IFwiZXNyaS1idXR0b24tLWRpc2FibGVkXCIsXG4gIGJ1dHRvbkhhbGY6IFwiZXNyaS1idXR0b24tLWhhbGZcIixcbiAgYnV0dG9uU2Vjb25kYXJ5OiBcImVzcmktYnV0dG9uLS1zZWNvbmRhcnlcIixcbiAgYnV0dG9uU21hbGw6IFwiZXNyaS1idXR0b24tLXNtYWxsXCIsXG4gIGJ1dHRvblRlcnRpYXJ5OiBcImVzcmktYnV0dG9uLS10ZXJ0aWFyeVwiLFxuICBidXR0b25UaGlyZDogXCJlc3JpLWJ1dHRvbi0tdGhpcmRcIixcbiAgZGlzYWJsZWQ6IFwiZXNyaS1kaXNhYmxlZFwiLFxuICBkaXNhYmxlZEVsZW1lbnQ6IFwiZXNyaS1kaXNhYmxlZC1lbGVtZW50XCIsXG4gIGVtcHR5OiBcImVzcmktd2lkZ2V0X19jb250ZW50LS1lbXB0eVwiLFxuICBlbXB0eUlsbHVzdHJhdGlvbjogXCJlc3JpLXdpZGdldF9fY29udGVudC1pbGx1c3RyYXRpb24tLWVtcHR5XCIsXG4gIGhlYWRpbmc6IFwiZXNyaS13aWRnZXRfX2hlYWRpbmdcIixcbiAgaGlkZGVuOiBcImVzcmktaGlkZGVuXCIsXG4gIGlucHV0OiBcImVzcmktaW5wdXRcIixcbiAgaW50ZXJhY3RpdmU6IFwiZXNyaS1pbnRlcmFjdGl2ZVwiLFxuICBsb2FkZXI6IFwiZXNyaS13aWRnZXRfX2xvYWRlclwiLFxuICBsb2FkZXJBbmltYXRpb246IFwiZXNyaS13aWRnZXRfX2xvYWRlci1hbmltYXRpb25cIixcbiAgbG9hZGVyVGV4dDogXCJlc3JpLXdpZGdldF9fbG9hZGVyLXRleHRcIixcbiAgbWVudTogXCJlc3JpLW1lbnVcIixcbiAgbWVudUhlYWRlcjogXCJlc3JpLW1lbnVfX2hlYWRlclwiLFxuICBtZW51SXRlbTogXCJlc3JpLW1lbnVfX2xpc3QtaXRlbVwiLFxuICBtZW51SXRlbUFjdGl2ZTogXCJlc3JpLW1lbnVfX2xpc3QtaXRlbS0tYWN0aXZlXCIsXG4gIG1lbnVJdGVtRm9jdXM6IFwiZXNyaS1tZW51X19saXN0LWl0ZW0tLWZvY3VzXCIsXG4gIG1lbnVMaXN0OiBcImVzcmktbWVudV9fbGlzdFwiLFxuICBub0Jvb2ttYXJrc0ljb246IFwiZXNyaS13aWRnZXRfX25vLWJvb2ttYXJrLWljb25cIixcbiAgcGFuZWw6IFwiZXNyaS13aWRnZXQtLXBhbmVsXCIsXG4gIHBhbmVsSGVpZ2h0T25seTogXCJlc3JpLXdpZGdldC0tcGFuZWwtaGVpZ2h0LW9ubHlcIixcbiAgcHJpbWFyeVRpY2s6IFwicHJpbWFyeS10aWNrXCIsXG4gIHByaW1hcnlUaWNrQW1QbTogXCJwcmltYXJ5LXRpY2tfX2FtcG1cIixcbiAgcHJpbWFyeVRpY2tMYWJlbDogXCJwcmltYXJ5LXRpY2tfX2xhYmVsXCIsXG4gIHJvdGF0aW5nOiBcImVzcmktcm90YXRpbmdcIixcbiAgc2Vjb25kYXJ5VGljazogXCJzZWNvbmRhcnktdGlja1wiLFxuICBzZWxlY3Q6IFwiZXNyaS1zZWxlY3RcIixcbiAgdGFibGU6IFwiZXNyaS13aWRnZXRfX3RhYmxlXCIsXG4gIHVpOiBcImVzcmktY29tcG9uZW50XCIsXG4gIHdpZGdldDogXCJlc3JpLXdpZGdldCBlc3JpLWNvbXBvbmVudFwiLFxuICB3aWRnZXRCdXR0b246IFwiZXNyaS13aWRnZXQtLWJ1dHRvblwiLFxuICB3aWRnZXRCdXR0b25BY3RpdmU6IFwiZXNyaS13aWRnZXQtLWJ1dHRvbi1hY3RpdmVcIixcbiAgd2lkZ2V0RGlzYWJsZWQ6IFwiZXNyaS13aWRnZXQtLWRpc2FibGVkXCJcbn07XG5leHBvcnQge1xuICBlIGFzIGdcbn07XG4iLCJpbXBvcnQgeyBtYWtlVDluQ29udHJvbGxlciBhcyBhLCBwcm94eUV4cG9ydHMgYXMgaCwgR2VuZXJpY0NvbnRyb2xsZXIgYXMgbCwgd2F0Y2ggYXMgbiB9IGZyb20gXCJAYXJjZ2lzL2NvbXBvbmVudHMtY29udHJvbGxlcnNcIjtcbmltcG9ydCB7IGcgYXMgZCB9IGZyb20gXCIuL3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IHNpZ25hbCBhcyBtIH0gZnJvbSBcIkBhcmNnaXMvY29yZS9hcHBsaWNhdGlvbnMvQ29tcG9uZW50cy9yZWFjdGl2ZVV0aWxzLmpzXCI7XG5pbXBvcnQgKiBhcyBwIGZyb20gXCJAYXJjZ2lzL2NvcmUvY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7XG5pbXBvcnQgeyBhIGFzIGkgfSBmcm9tIFwiLi9jb21wb25lbnQtdXRpbHMuanNcIjtcbi8qISBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVzcmksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMyL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbnY0LjMyLjEgKi9cbmNvbnN0IEUgPSBhKGQpLCBfID0gKHMpID0+IHUocyk7XG5jbGFzcyB2IGV4dGVuZHMgbCB7XG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICBzdXBlcihlKSwgdGhpcy5fdmlldyQgPSBtKHZvaWQgMCksIHRoaXMuX3ZpZXdEZXN0cm95SGFuZGxlID0gdm9pZCAwLCB0aGlzLl9hcmNnaXNSZWFkeUVtaXR0ZWQgPSAhMTtcbiAgICBjb25zdCB7IGVsOiB0IH0gPSBlLCByID0gdC52aWV3O1xuICAgIHRoaXMuc2V0UHJvdmlzaW9uYWxFeHBvcnRzKHZvaWQgMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcInZpZXdcIiwge1xuICAgICAgZ2V0OiAoKSA9PiB0aGlzLl92aWV3JC52YWx1ZSxcbiAgICAgIHNldDogKG8pID0+IHtcbiAgICAgICAgaWYgKHRoaXMuZXhwb3J0cyA9PT0gbylcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGMgPSB0LnZpZXc7XG4gICAgICAgIHRoaXMuX3ZpZXckLnZhbHVlID0gbywgdGhpcy5leHBvcnRzID0gbywgdGhpcy5jb21wb25lbnQucmVxdWVzdFVwZGF0ZShcInZpZXdcIiwgYyksICF0aGlzLl9hcmNnaXNSZWFkeUVtaXR0ZWQgJiYgbyAhPSBudWxsICYmICh0aGlzLl9hcmNnaXNSZWFkeUVtaXR0ZWQgPSAhMCwgdGhpcy5jb21wb25lbnQuYXJjZ2lzUmVhZHkuZW1pdCgpKTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgZW51bWVyYWJsZTogITBcbiAgICB9KSwgZSAhPT0gdCAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJ2aWV3XCIsIHtcbiAgICAgIGdldDogKCkgPT4gdC52aWV3LFxuICAgICAgc2V0OiAobykgPT4ge1xuICAgICAgICB0LnZpZXcgPSBvO1xuICAgICAgfVxuICAgIH0pLCBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICByICYmICh0LnZpZXcgPSByKTtcbiAgICB9KTtcbiAgfVxuICBob3N0Q29ubmVjdGVkKCkge1xuICAgIHRoaXMuX3ZpZXdEZXN0cm95SGFuZGxlID8/PSBwLndoZW4oXG4gICAgICAoKSA9PiB0aGlzLl92aWV3JC52YWx1ZT8uZGVzdHJveWVkLFxuICAgICAgKCkgPT4gdm9pZCB0aGlzLmNvbXBvbmVudC5kZXN0cm95Py4oKS5jYXRjaChjb25zb2xlLmVycm9yKSxcbiAgICAgIHsgc3luYzogITAgfVxuICAgICksIHRoaXMuY29tcG9uZW50Lm1hbmFnZXIubG9hZGVkQ2FsbGVkICYmIGkodGhpcy5jb21wb25lbnQpO1xuICB9XG4gIGhvc3RMb2FkKCkge1xuICAgIHRoaXMuY29tcG9uZW50Lm1hbmFnZXIuZGVzdHJveWVkIHx8IHRoaXMuX3dhdGNoTWV0YVByb3BlcnRpZXMoKTtcbiAgfVxuICBob3N0TG9hZGVkKCkge1xuICAgIGNvbnN0IHsgZWw6IGUgfSA9IHRoaXMuY29tcG9uZW50LCB0ID0gZS5zaGFkb3dSb290Py5maXJzdEVsZW1lbnRDaGlsZCA/PyBlLmZpcnN0RWxlbWVudENoaWxkID8/IHZvaWQgMDtcbiAgICBlLmNoaWxkRWxlbSA9IHQgPz8gZS5jaGlsZEVsZW0sIGUuaXNDb25uZWN0ZWQgJiYgaSh0aGlzLmNvbXBvbmVudCk7XG4gIH1cbiAgaG9zdERpc2Nvbm5lY3RlZCgpIHtcbiAgICB0eXBlb2YgdGhpcy5jb21wb25lbnQuZWwuY2hpbGRFbGVtID09IFwib2JqZWN0XCIgJiYgdGhpcy5fdmlldyQudmFsdWU/LnVpPy5yZW1vdmUodGhpcy5jb21wb25lbnQuZWwuY2hpbGRFbGVtKTtcbiAgfVxuICBob3N0RGVzdHJveSgpIHtcbiAgICB0aGlzLl92aWV3RGVzdHJveUhhbmRsZT8ucmVtb3ZlKCk7XG4gIH1cbiAgX3dhdGNoTWV0YVByb3BlcnRpZXMoKSB7XG4gICAgbih0aGlzLmNvbXBvbmVudCwgXCJwb3NpdGlvblwiLCAoZSkgPT4ge1xuICAgICAgdGhpcy5jb21wb25lbnQuZWwuY2hpbGRFbGVtICE9IG51bGwgJiYgdHlwZW9mIGUgPT0gXCJzdHJpbmdcIiAmJiBpKHRoaXMuY29tcG9uZW50KTtcbiAgICB9KSwgbih0aGlzLmNvbXBvbmVudCwgXCJyZWZlcmVuY2VFbGVtZW50XCIsICgpID0+IGkodGhpcy5jb21wb25lbnQpKTtcbiAgfVxufVxuY29uc3QgdSA9IGgodik7XG5leHBvcnQge1xuICB2IGFzIFYsXG4gIF8gYXMgYSxcbiAgRSBhcyB1XG59O1xuIiwiaW1wb3J0IHsgcHJveHlFeHBvcnRzIGFzIHIgfSBmcm9tIFwiQGFyY2dpcy9jb21wb25lbnRzLWNvbnRyb2xsZXJzXCI7XG5pbXBvcnQgeyBBY2Nlc3NvckNvbnRyb2xsZXIgYXMgaSB9IGZyb20gXCJAYXJjZ2lzL2NvbXBvbmVudHMtY29udHJvbGxlcnMvYWNjZXNzb3JcIjtcbmltcG9ydCB7IFYgYXMgbiB9IGZyb20gXCIuL3VzZVZpZXcuanNcIjtcbi8qISBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVzcmksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMyL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbnY0LjMyLjEgKi9cbmNvbnN0IG0gPSAobywgdCkgPT4gKGUsIHMpID0+IGwoZSwgbywgcyk7XG5jbGFzcyBhIGV4dGVuZHMgaSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMudmlld0NvbnRyb2xsZXIgPSBuZXcgbih0aGlzLmNvbXBvbmVudCksIHRoaXMuX3ZpZXdXYXRjaEhhbmRsZSA9IHZvaWQgMDtcbiAgfVxuICBhc3luYyBob3N0TG9hZCgpIHtcbiAgICBhd2FpdCBzdXBlci5ob3N0TG9hZCgpLCB0aGlzLl92aWV3V2F0Y2hIYW5kbGUgPSB0aGlzLnJlYWN0aXZlVXRpbHMud2F0Y2goXG4gICAgICAoKSA9PiB0aGlzLmNvbXBvbmVudC5lbC52aWV3LFxuICAgICAgKHQpID0+IHtcbiAgICAgICAgdGhpcy5faW5zdGFuY2UudmlldyA9IHQsIHRoaXMuX2luc3RhbmNlLm1hcCA9IHQ/Lm1hcDtcbiAgICAgIH0sXG4gICAgICB7IHN5bmM6ICEwLCBpbml0aWFsOiAhMCB9XG4gICAgKTtcbiAgfVxuICBob3N0RGVzdHJveSgpIHtcbiAgICB0aGlzLl92aWV3V2F0Y2hIYW5kbGU/LnJlbW92ZSgpLCBzdXBlci5ob3N0RGVzdHJveSgpO1xuICB9XG59XG5jb25zdCBsID0gcihhKTtcbmV4cG9ydCB7XG4gIG1cbn07XG4iLCJpbXBvcnQgeyBjIGFzIHUgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IGh0bWwgYXMgbyB9IGZyb20gXCJsaXQtaHRtbFwiO1xuaW1wb3J0IHsgcmVmIGFzIHAgfSBmcm9tIFwibGl0LWh0bWwvZGlyZWN0aXZlcy9yZWYuanNcIjtcbmltcG9ydCB7IHVzZVByb3BlcnR5Q2hhbmdlIGFzIG0gfSBmcm9tIFwiQGFyY2dpcy9jb21wb25lbnRzLWNvbnRyb2xsZXJzXCI7XG5pbXBvcnQgeyBmb2N1c0VsZW1lbnQgYXMgYiB9IGZyb20gXCJAYXJjZ2lzL2NvbXBvbmVudHMtdXRpbHNcIjtcbmltcG9ydCB7IHdhdGNoIGFzIGcgfSBmcm9tIFwiQGFyY2dpcy9jb3JlL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO1xuaW1wb3J0IF8gZnJvbSBcIkBhcmNnaXMvY29yZS93aWRnZXRzL0RpcmVjdGlvbmFsUGFkL0RpcmVjdGlvbmFsUGFkVmlld01vZGVsLmpzXCI7XG5pbXBvcnQgeyBMaXRFbGVtZW50IGFzIHYsIGNyZWF0ZUV2ZW50IGFzIGYsIG5vU2hhZG93Um9vdCBhcyAkLCBzYWZlQ2xhc3NNYXAgYXMgbiwgbm90aGluZyBhcyBsLCBzYWZlU3R5bGVNYXAgYXMgdyB9IGZyb20gXCJAYXJjZ2lzL2x1bWluYVwiO1xuaW1wb3J0IHsgdSBhcyBSIH0gZnJvbSBcIi4uLy4uL2NodW5rcy91c2VWaWV3LmpzXCI7XG5pbXBvcnQgeyBtIGFzIEMgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL3VzZVZpZXdNb2RlbC5qc1wiO1xuaW1wb3J0IHsgZyBhcyBkIH0gZnJvbSBcIi4uLy4uL2NodW5rcy9nbG9iYWxDc3MuanNcIjtcbmltcG9ydCB7IGNzcyBhcyB4IH0gZnJvbSBcIkBsaXQvcmVhY3RpdmUtZWxlbWVudC9jc3MtdGFnLmpzXCI7XG4vKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFc3JpLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMi9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG52NC4zMi4xICovXG5jb25zdCBoID0gWy00NSwgMCwgNDUsIC05MCwgOTAsIC0xMzUsIDE4MCwgMTM1XSwgeSA9IHtcbiAgMDogeyBsYWJlbDogXCJub3J0aFwiLCBpY29uTmFtZTogXCJjaGV2cm9uLXVwXCIgfSxcbiAgNDU6IHsgbGFiZWw6IFwibm9ydGhFYXN0XCIsIGljb25OYW1lOiBcImNoZXZyb24tdXAtcmlnaHRcIiB9LFxuICA5MDogeyBsYWJlbDogXCJlYXN0XCIsIGljb25OYW1lOiBcImNoZXZyb24tcmlnaHRcIiB9LFxuICAxMzU6IHsgbGFiZWw6IFwic291dGhFYXN0XCIsIGljb25OYW1lOiBcImNoZXZyb24tZG93bi1yaWdodFwiIH0sXG4gIDE4MDogeyBsYWJlbDogXCJzb3V0aFwiLCBpY29uTmFtZTogXCJjaGV2cm9uLWRvd25cIiB9LFxuICBcIi0xMzVcIjogeyBsYWJlbDogXCJzb3V0aFdlc3RcIiwgaWNvbk5hbWU6IFwiY2hldnJvbi1kb3duLWxlZnRcIiB9LFxuICBcIi05MFwiOiB7IGxhYmVsOiBcIndlc3RcIiwgaWNvbk5hbWU6IFwiY2hldnJvbi1sZWZ0XCIgfSxcbiAgXCItNDVcIjogeyBsYWJlbDogXCJub3J0aFdlc3RcIiwgaWNvbk5hbWU6IFwiY2hldnJvbi11cC1sZWZ0XCIgfVxufSwgYSA9IFwiYXJjZ2lzLWRpcmVjdGlvbmFsLXBhZFwiLCBzID0ge1xuICBiYXNlOiBhLFxuICBidXR0b25zQ29udGFpbmVyOiBgJHthfV9fYnV0dG9ucy1jb250YWluZXJgLFxuICBidXR0b246IGAke2F9X19idXR0b25gLFxuICBjb21wYXNzQnV0dG9uOiBgJHthfV9fY29tcGFzc2AsXG4gIHJvdGF0aW9uQ29udGFpbmVyOiBgJHthfV9fcm90YXRpb24tY29udGFpbmVyYCxcbiAgcm90YXRpb25TbGlkZXJDb250YWluZXI6IGAke2F9X19yb3RhdGlvbi1zbGlkZXItY29udGFpbmVyYCxcbiAgcm90YXRpb25SZXNldDogYCR7YX1fX3JvdGF0aW9uLXJlc2V0LWJ1dHRvbmAsXG4gIGVycm9yOiBgJHthfV9fZXJyb3JgXG59LCBNID0geGBAbGF5ZXJ7LmFyY2dpcy1kaXJlY3Rpb25hbC1wYWR7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtnYXA6dmFyKC0tY2FsY2l0ZS1zcGFjaW5nLXNtKTtvdXRsaW5lOm5vbmU7Ym94LXNoYWRvdzpub25lIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50IWltcG9ydGFudDt1c2VyLXNlbGVjdDpub25lO2NhbGNpdGUtYWN0aW9uLXBhZHtkaXNwbGF5OmNvbnRlbnRzfWNhbGNpdGUtYWN0aW9uLWdyb3Vwe3RvdWNoLWFjdGlvbjpub25lfWNhbGNpdGUtYWN0aW9ue2FzcGVjdC1yYXRpbzoxfX0uYXJjZ2lzLWRpcmVjdGlvbmFsLXBhZF9fYnV0dG9ucy1jb250YWluZXJ7LS1jYWxjaXRlLWNvbG9yLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50Oy0tY2FsY2l0ZS1hY3Rpb24tZ3JvdXAtZ2FwOiAwOy0tY2FsY2l0ZS1hY3Rpb24tZ3JvdXAtcGFkZGluZzogMDtjYWxjaXRlLWFjdGlvbnstLWNhbGNpdGUtY29sb3ItZm9jdXM6IHZhcigtLWNhbGNpdGUtY29sb3ItZm9yZWdyb3VuZC0zKX1jYWxjaXRlLWFjdGlvbjpub3QoW2FjdGl2ZV0pey0tY2FsY2l0ZS1hY3Rpb24tYmFja2dyb3VuZC1jb2xvci1wcmVzczogdmFyKC0tY2FsY2l0ZS1jb2xvci1mb3JlZ3JvdW5kLTEpfWNhbGNpdGUtYWN0aW9uW2FjdGl2ZV17LS1jYWxjaXRlLWFjdGlvbi1iYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jYWxjaXRlLWNvbG9yLWZvcmVncm91bmQtMyl9Y2FsY2l0ZS1pY29ue3RyYW5zZm9ybTp2YXIoLS1yb3RhdGlvbiwgdW5zZXQpfUBtZWRpYSAoaG92ZXI6IG5vbmUpe2NhbGNpdGUtYWN0aW9uey0tY2FsY2l0ZS1hY3Rpb24tYmFja2dyb3VuZC1jb2xvci1ob3ZlcjogdmFyKC0tY2FsY2l0ZS1jb2xvci1mb3JlZ3JvdW5kLTEpOy0tY2FsY2l0ZS1hY3Rpb24tdGV4dC1jb2xvci1wcmVzczogdmFyKC0tY2FsY2l0ZS1jb2xvci10ZXh0LTMpfX19LmFyY2dpcy1kaXJlY3Rpb25hbC1wYWRfX3JvdGF0aW9uLWNvbnRhaW5lcntkaXNwbGF5OmJsb2NrO3dpZHRoOjEwMCU7Y2FsY2l0ZS1hY3Rpb257ZmxleDouM319LmFyY2dpcy1kaXJlY3Rpb25hbC1wYWRfX3JvdGF0aW9uLXNsaWRlci1jb250YWluZXJ7ZGlzcGxheTpmbGV4O2ZsZXg6MTthbGlnbi1pdGVtczpjZW50ZXI7Y2FsY2l0ZS1zbGlkZXJ7ZmxleDoxO3BhZGRpbmctaW5saW5lOnZhcigtLWNhbGNpdGUtc3BhY2luZy14eHMpfX19YDtcbmZ1bmN0aW9uIFMoYykge1xuICBjb25zdCB7IHg6IHQsIHk6IGUsIHdpZHRoOiBpLCBoZWlnaHQ6IHIgfSA9IGMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiB7IHg6IHQgKyBpIC8gMiwgeTogZSArIHIgLyAyIH07XG59XG5mdW5jdGlvbiBCKGMpIHtcbiAgcmV0dXJuIGM/LnNwYXRpYWxSZWZlcmVuY2U/LmlzV2ViTWVyY2F0b3IgfHwgYz8uc3BhdGlhbFJlZmVyZW5jZT8uaXNHZW9ncmFwaGljIHx8ICExO1xufVxuY29uc3QgRSA9IEMoXyk7XG5jbGFzcyBEIGV4dGVuZHMgdiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMubWVzc2FnZXMgPSBSKHt9KSwgdGhpcy5fb25Db250ZXh0TWVudSA9ICh0KSA9PiB0LnByZXZlbnREZWZhdWx0KCksIHRoaXMuX2J1dHRvbnMgPSB7fSwgdGhpcy52aWV3TW9kZWwgPSBFKHRoaXMpLCB0aGlzLmFuZ2xlID0gdGhpcy52aWV3TW9kZWwuYW5nbGUsIHRoaXMucm90YXRpb24gPSB0aGlzLnZpZXdNb2RlbC5yb3RhdGlvbiwgdGhpcy5hdXRvRGVzdHJveURpc2FibGVkID0gITEsIHRoaXMuZGlzYWJsZWQgPSB0aGlzLnZpZXdNb2RlbC5kaXNhYmxlZCwgdGhpcy5oaWRlRGlyZWN0aW9uYWxCdXR0b25zID0gITEsIHRoaXMuaWNvbiA9IFwibW92ZVwiLCB0aGlzLnBvc2l0aW9uID0gXCJib3R0b20tbGVmdFwiLCB0aGlzLnNob3dSb3RhdGlvblJlc2V0QnV0dG9uID0gITEsIHRoaXMuc2hvd1JvdGF0aW9uU2xpZGVyID0gITEsIHRoaXMuc3RhdGUgPSB0aGlzLnZpZXdNb2RlbC5zdGF0ZSwgdGhpcy52aXN1YWxTY2FsZSA9IFwic1wiLCB0aGlzLmFyY2dpc1Byb3BlcnR5Q2hhbmdlID0gbSgpKFwic3RhdGVcIiksIHRoaXMuYXJjZ2lzUmVhZHkgPSBmKCk7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLnByb3BlcnRpZXMgPSB7IF9yb3RhdGlvbkVuYWJsZWQ6IDE2LCBhbmdsZTogMTYsIHJvdGF0aW9uOiAxNiwgYXV0b0Rlc3Ryb3lEaXNhYmxlZDogNSwgZGlzYWJsZWQ6IDUsIGhpZGVEaXJlY3Rpb25hbEJ1dHRvbnM6IDUsIGljb246IDMsIGxhYmVsOiAxLCBtZXNzYWdlT3ZlcnJpZGVzOiAwLCBwb3NpdGlvbjogMywgcmVmZXJlbmNlRWxlbWVudDogMSwgc2hvd1JvdGF0aW9uUmVzZXRCdXR0b246IDUsIHNob3dSb3RhdGlvblNsaWRlcjogNSwgc3RhdGU6IDMsIHZpc3VhbFNjYWxlOiAxIH07XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLnNoYWRvd1Jvb3RPcHRpb25zID0gJDtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMuc3R5bGVzID0gTTtcbiAgfVxuICAvLyAjZW5kcmVnaW9uXG4gIC8vICNyZWdpb24gU3RhdGUgUHJvcGVydGllc1xuICAvKipcbiAgICogV2hlbiBgZmFsc2VgLCBzZXRzIHJvdGF0aW9uLXJlbGF0ZWQgY29udHJvbHMgdG8gYSBkaXNhYmxlZCBzdGF0ZSBzbyB0aGVcbiAgICogdXNlciAgY2Fubm90IGludGVyYWN0IHdpdGggdGhlbS5cbiAgICovXG4gIGdldCBfcm90YXRpb25FbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLnZpZXc/LnJlYWR5ID8gdGhpcy52aWV3LmNvbnN0cmFpbnRzLnJvdGF0aW9uRW5hYmxlZCA/PyAhMSA6ICEwO1xuICB9XG4gIC8vICNlbmRyZWdpb25cbiAgLy8gI3JlZ2lvbiBQdWJsaWMgTWV0aG9kc1xuICAvKiogUGVybWFuZW50bHkgZGVzdHJveSB0aGUgY29tcG9uZW50ICovXG4gIGFzeW5jIGRlc3Ryb3koKSB7XG4gICAgYXdhaXQgdGhpcy5tYW5hZ2VyLmRlc3Ryb3koKTtcbiAgfVxuICAvLyAjZW5kcmVnaW9uXG4gIC8vICNyZWdpb24gTGlmZWN5Y2xlXG4gIGxvYWRlZCgpIHtcbiAgICB0aGlzLm1hbmFnZXIub25MaWZlY3ljbGUoKCkgPT4gW1xuICAgICAgLy8gTW92ZSBmb2N1cyB3aGVuIG1vdmVtZW50IGFuZ2xlIGNoYW5nZWQgYnkgdG91Y2gvbW91c2UgKG5vdCBrZXlib2FyZCEpXG4gICAgICBnKCgpID0+IHRoaXMudmlld01vZGVsLmFuZ2xlLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2J1dHRvbnNDb250YWluZXI/LmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpICYmICh0aGlzLnZpZXdNb2RlbC5hbmdsZSA9PSBudWxsID8gdGhpcy5lbC5jaGlsZEVsZW0/LmZvY3VzKCkgOiBiKHRoaXMuX2J1dHRvbnNbdGhpcy52aWV3TW9kZWwuYW5nbGVdKSk7XG4gICAgICB9KVxuICAgIF0pO1xuICB9XG4gIC8vICNlbmRyZWdpb25cbiAgLy8gI3JlZ2lvbiBQcml2YXRlIE1ldGhvZHNcbiAgX3JvdGF0ZUljb24odCkge1xuICAgIHJldHVybiB7XG4gICAgICBcIi0tcm90YXRpb25cIjogYHJvdGF0ZSgke3R9ZGVnKWBcbiAgICB9O1xuICB9XG4gIF9zZXRCdXR0b25Db250YWluZXJSZWYodCkge1xuICAgIHQgIT09IHZvaWQgMCA/ICh0aGlzLl9idXR0b25zQ29udGFpbmVyID0gdCwgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgdGhpcy5fYnV0dG9ucyA9IE9iamVjdC5mcm9tRW50cmllcyhBcnJheS5mcm9tKHQuY2hpbGRyZW4sIChlKSA9PiBbXG4gICAgICAgIE51bWJlci5wYXJzZUludChlLmdldEF0dHJpYnV0ZShcImRhdGEtYW5nbGVcIikgPz8gXCJcIiksXG4gICAgICAgIGVcbiAgICAgIF0pKTtcbiAgICB9KSkgOiAodGhpcy5fYnV0dG9uc0NvbnRhaW5lciA9IHZvaWQgMCwgdGhpcy5fYnV0dG9ucyA9IHt9KTtcbiAgfVxuICAvKipcbiAgICogRmluZCBjb21wb25lbnQgY2VudGVyIGFuZCBzdGFydCBtb3ZlbWVudFxuICAgKi9cbiAgX29uQnV0dG9uUG9pbnRlckRvd24odCkge1xuICAgIGlmICh0aGlzLl9idXR0b25zQ29udGFpbmVyID09PSB2b2lkIDApXG4gICAgICByZXR1cm47XG4gICAgdC5jb21wb3NlZFBhdGgoKS5maW5kKChyKSA9PiByLmhhc1BvaW50ZXJDYXB0dXJlPy4odC5wb2ludGVySWQpKT8ucmVsZWFzZVBvaW50ZXJDYXB0dXJlKHQucG9pbnRlcklkKTtcbiAgICBjb25zdCBpID0gUyh0aGlzLl9idXR0b25zQ29udGFpbmVyKTtcbiAgICB0aGlzLnZpZXdNb2RlbC5iZWdpbkZvbGxvd2luZ1BvaW50ZXIodCwgaSk7XG4gIH1cbiAgX29uU2xpZGVySW5wdXQoeyBjdXJyZW50VGFyZ2V0OiB0IH0pIHtcbiAgICB0eXBlb2YgdC52YWx1ZSA9PSBcIm51bWJlclwiICYmICh0aGlzLnZpZXdNb2RlbC5yb3RhdGlvbiA9IHQudmFsdWUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXNldCBhbmdsZSBvZiByb3RhdGlvblxuICAgKi9cbiAgX29uUm90YXRpb25SZXNldCgpIHtcbiAgICB0aGlzLnZpZXdNb2RlbC5yb3RhdGlvbiA9IDA7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBkaXJlY3Rpb25hbCBwYWQgY2xpY2tzIG9ubHkgd2hlbiB1c2luZyB0aGUga2V5Ym9hcmRcbiAgICovXG4gIF9vbkNsaWNrKHQpIHtcbiAgICB0aGlzLnZpZXdNb2RlbC5tb3ZlT25jZSh0KTtcbiAgfVxuICAvLyAjZW5kcmVnaW9uXG4gIC8vICNyZWdpb24gUmVuZGVyaW5nXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGxhYmVsOiB0LCBkaXNhYmxlZDogZSB9ID0gdGhpcywgaSA9IHRoaXMudmlldyA9PSBudWxsIHx8IHRoaXMudmlldy50eXBlID09PSBcIjJkXCI7XG4gICAgcmV0dXJuIG9gPGRpdiAuYXJpYUxhYmVsPSR7dCA/PyB2b2lkIDB9IGNsYXNzPSR7bih7IFtzLmJhc2VdOiAhMCwgW2Qud2lkZ2V0XTogITAsIFtkLmRpc2FibGVkXTogZSB9KX0gdGFiaW5kZXg9LTE+JHtpID8gdGhpcy5fcmVuZGVyQ29udGVudCgpIDogdGhpcy5fcmVuZGVyVW5zdXBwb3J0ZWRNZXNzYWdlKCl9PC9kaXY+YDtcbiAgfVxuICBfcmVuZGVyVW5zdXBwb3J0ZWRNZXNzYWdlKCkge1xuICAgIHJldHVybiBvYDxzZWN0aW9uIGNsYXNzPSR7bihzLmVycm9yKX0+PHA+JHt0aGlzLm1lc3NhZ2VzLnVuc3VwcG9ydGVkfTwvcD48L3NlY3Rpb24+YDtcbiAgfVxuICBfcmVuZGVyQ29udGVudCgpIHtcbiAgICByZXR1cm4gW1xuICAgICAgdGhpcy5oaWRlRGlyZWN0aW9uYWxCdXR0b25zID8gdm9pZCAwIDogdGhpcy5fcmVuZGVyRGlyZWN0aW9uYWxCdXR0b25zKCksXG4gICAgICB0aGlzLnNob3dSb3RhdGlvblNsaWRlciA/IHRoaXMuX3JlbmRlclJvdGF0aW9uKCkgOiB2b2lkIDBcbiAgICBdO1xuICB9XG4gIF9yZW5kZXJEaXJlY3Rpb25hbEJ1dHRvbnMoKSB7XG4gICAgcmV0dXJuIG9gPGNhbGNpdGUtYWN0aW9uLXBhZCBleHBhbmQtZGlzYWJsZWQgbGF5b3V0PWdyaWQ+PGNhbGNpdGUtYWN0aW9uLWdyb3VwIGNsYXNzPSR7bihzLmJ1dHRvbnNDb250YWluZXIpfSBkaXI9bHRyIEBjb250ZXh0bWVudT0ke3tcbiAgICAgIGhhbmRsZUV2ZW50OiB0aGlzLl9vbkNvbnRleHRNZW51LFxuICAgICAgY2FwdHVyZTogITBcbiAgICB9fSAke3AodGhpcy5fc2V0QnV0dG9uQ29udGFpbmVyUmVmKX0+JHtoLnNsaWNlKDAsIDQpLm1hcCh0aGlzLl9yZW5kZXJCdXR0b24sIHRoaXMpfSR7dGhpcy5fcmVuZGVyQ29tcGFzcygpfSR7aC5zbGljZSg0KS5tYXAodGhpcy5fcmVuZGVyQnV0dG9uLCB0aGlzKX08L2NhbGNpdGUtYWN0aW9uLWdyb3VwPjwvY2FsY2l0ZS1hY3Rpb24tcGFkPmA7XG4gIH1cbiAgX3JlbmRlckJ1dHRvbih0KSB7XG4gICAgY29uc3QgeyBsYWJlbDogZSwgaWNvbk5hbWU6IGkgfSA9IHlbdF0sIHIgPSB0aGlzLm1lc3NhZ2VzW2VdO1xuICAgIHJldHVybiBvYDxjYWxjaXRlLWFjdGlvbiAuYWN0aXZlPSR7dGhpcy5hbmdsZSA9PT0gdH0gYWxpZ25tZW50PWNlbnRlciBjbGFzcz0ke24ocy5idXR0b24pfSBkYXRhLWFuZ2xlPSR7dCA/PyBsfSAuZGlzYWJsZWQ9JHt0aGlzLmRpc2FibGVkfSBAY2xpY2s9JHt0aGlzLl9vbkNsaWNrLmJpbmQodGhpcywgdCl9IEBwb2ludGVyZG93bj0ke3RoaXMuX29uQnV0dG9uUG9pbnRlckRvd259IC5zY2FsZT0ke3RoaXMudmlzdWFsU2NhbGV9IC50ZXh0PSR7ciA/PyBcIlwifSB0aXRsZT0ke3IgPz8gbH0+PGNhbGNpdGUtaWNvbiAuaWNvbj0ke2l9IC5zY2FsZT0ke3RoaXMudmlzdWFsU2NhbGV9PjwvY2FsY2l0ZS1pY29uPjwvY2FsY2l0ZS1hY3Rpb24+YDtcbiAgfVxuICBfcmVuZGVyQ29tcGFzcygpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5kaXNhYmxlZCB8fCBCKHRoaXMudmlldykgPyBcImNvbXBhc3MtbmVlZGxlXCIgOiBcImFycm93LXVwXCIsIGUgPSB0aGlzLnJvdGF0aW9uID09PSAwLCBpID0gdGhpcy5tZXNzYWdlcy5yZXNldEhlYWRpbmc7XG4gICAgcmV0dXJuIG9gPGNhbGNpdGUtYWN0aW9uIGFsaWdubWVudD1jZW50ZXIgY2xhc3M9JHtuKHMuY29tcGFzc0J1dHRvbil9IC5kaXNhYmxlZD0ke3RoaXMuZGlzYWJsZWQgfHwgIXRoaXMuX3JvdGF0aW9uRW5hYmxlZCB8fCBlfSBAY2xpY2s9JHt0aGlzLl9vblJvdGF0aW9uUmVzZXR9IC5zY2FsZT0ke3RoaXMudmlzdWFsU2NhbGV9IHN0eWxlPSR7dyh0aGlzLl9yb3RhdGVJY29uKHRoaXMucm90YXRpb24pKX0gLnRleHQ9JHtpID8/IFwiXCJ9IHRpdGxlPSR7aSA/PyBsfT4keyFlICYmIG9gPGNhbGNpdGUtaWNvbiAuaWNvbj0ke3R9IC5zY2FsZT0ke3RoaXMudmlzdWFsU2NhbGV9PjwvY2FsY2l0ZS1pY29uPmAgfHwgXCJcIn08L2NhbGNpdGUtYWN0aW9uPmA7XG4gIH1cbiAgX3JlbmRlclJvdGF0aW9uKCkge1xuICAgIHJldHVybiBvYDxjYWxjaXRlLWFjdGlvbi1wYWQgZXhwYW5kLWRpc2FibGVkIGxheW91dD1ob3Jpem9udGFsPjxjYWxjaXRlLWFjdGlvbi1ncm91cCBjbGFzcz0ke24ocy5yb3RhdGlvbkNvbnRhaW5lcil9PiR7dGhpcy5zaG93Um90YXRpb25SZXNldEJ1dHRvbiA/IHRoaXMuX3JlbmRlclJvdGF0aW9uUmVzZXRCdXR0b24oKSA6IG51bGx9JHt0aGlzLl9yZW5kZXJSb3RhdGlvblNsaWRlcigpfTwvY2FsY2l0ZS1hY3Rpb24tZ3JvdXA+PC9jYWxjaXRlLWFjdGlvbi1wYWQ+YDtcbiAgfVxuICBfcmVuZGVyUm90YXRpb25SZXNldEJ1dHRvbigpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5tZXNzYWdlcy5yZXNldEhlYWRpbmc7XG4gICAgcmV0dXJuIG9gPGNhbGNpdGUtYWN0aW9uIGFsaWdubWVudD1jZW50ZXIgY2xhc3M9JHtuKHMucm90YXRpb25SZXNldCl9IC5kaXNhYmxlZD0ke3RoaXMuZGlzYWJsZWQgfHwgIXRoaXMuX3JvdGF0aW9uRW5hYmxlZH0gQGNsaWNrPSR7dGhpcy5fb25Sb3RhdGlvblJlc2V0fSAuc2NhbGU9JHt0aGlzLnZpc3VhbFNjYWxlfSAudGV4dD0ke3QgPz8gXCJcIn0gdGl0bGU9JHt0ID8/IGx9PjxjYWxjaXRlLWljb24gZmxpcC1ydGwgaWNvbj1yb3RhdGUgLnNjYWxlPSR7dGhpcy52aXN1YWxTY2FsZX0+PC9jYWxjaXRlLWljb24+PC9jYWxjaXRlLWFjdGlvbj5gO1xuICB9XG4gIF9yZW5kZXJSb3RhdGlvblNsaWRlcigpIHtcbiAgICByZXR1cm4gb2A8ZGl2IGNsYXNzPSR7bihzLnJvdGF0aW9uU2xpZGVyQ29udGFpbmVyKX0+PGNhbGNpdGUtc2xpZGVyIC5hcmlhTGFiZWw9JHt0aGlzLm1lc3NhZ2VzLmhlYWRpbmd9IC5kaXNhYmxlZD0ke3RoaXMuZGlzYWJsZWQgfHwgIXRoaXMuX3JvdGF0aW9uRW5hYmxlZH0gbGFiZWwtaGFuZGxlcyBtYXg9MzYwIG1pbj0wIHJlcXVpcmVkIC5zY2FsZT0ke3RoaXMudmlzdWFsU2NhbGV9IC52YWx1ZT0ke01hdGgucm91bmQodGhpcy5yb3RhdGlvbil9IEBjYWxjaXRlU2xpZGVySW5wdXQ9JHt0aGlzLl9vblNsaWRlcklucHV0fT48L2NhbGNpdGUtc2xpZGVyPjwvZGl2PmA7XG4gIH1cbn1cbnUoXCJhcmNnaXMtZGlyZWN0aW9uYWwtcGFkXCIsIEQpO1xuZXhwb3J0IHtcbiAgRCBhcyBBcmNnaXNEaXJlY3Rpb25hbFBhZFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==