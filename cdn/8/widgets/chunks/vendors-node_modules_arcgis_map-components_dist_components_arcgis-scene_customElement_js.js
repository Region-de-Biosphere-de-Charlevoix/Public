"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_map-components_dist_components_arcgis-scene_customElement_js"],{

/***/ "./node_modules/@arcgis/map-components/dist/components/arcgis-scene/customElement.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/components/arcgis-scene/customElement.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArcgisScene: () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/runtime.js */ "./node_modules/@arcgis/map-components/dist/chunks/runtime.js");
/* harmony import */ var _arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @arcgis/components-controllers/accessor */ "./node_modules/@arcgis/components-controllers/dist/accessor/index.js");
/* harmony import */ var _arcgis_core_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arcgis/core/core/reactiveUtils.js */ "@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _arcgis_core_views_SceneView_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @arcgis/core/views/SceneView.js */ "@arcgis/core/views/SceneView.js");
/* harmony import */ var _arcgis_core_WebScene_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @arcgis/core/WebScene.js */ "@arcgis/core/WebScene.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/* harmony import */ var _chunks_component_utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../chunks/component-utils.js */ "./node_modules/@arcgis/map-components/dist/chunks/component-utils.js");
/* harmony import */ var _lit_reactive_element_css_tag_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @lit/reactive-element/css-tag.js */ "./node_modules/@lit/reactive-element/development/css-tag.js");








/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
const u = (0,_lit_reactive_element_css_tag_js__WEBPACK_IMPORTED_MODULE_7__.css)`@layer{arcgis-scene{display:block;height:100%;.esri-view{height:100%;width:100%}}}`, f = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.makeAccessorController)(_arcgis_core_WebScene_js__WEBPACK_IMPORTED_MODULE_4__["default"], {}), _ = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.makeAccessorController)(_arcgis_core_views_SceneView_js__WEBPACK_IMPORTED_MODULE_3__["default"], {});
class b extends _arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.LitElement {
  constructor() {
    super(...arguments), this._camera = void 0, this._center = void 0, this._extent = void 0, this._itemId = void 0, this._scale = void 0, this._viewpoint = void 0, this._zoom = void 0, this._cameraFov = void 0, this._cameraHeading = void 0, this._cameraPosition = void 0, this._cameraTilt = void 0, this._map = f(this, { editConstructorProperties: this._editMapProperties }), this.view = _(this, { editConstructorProperties: this._editViewProperties }), this.allLayerViews = this.view.allLayerViews, this.alphaCompositingEnabled = this.view.alphaCompositingEnabled, this.analyses = this.view.analyses, this.autoDestroyDisabled = !1, this.basemap = this._map.basemap, this.basemapView = this.view.basemapView, this.clippingArea = this.view.clippingArea, this.constraints = this.view.constraints, this.displayFilterDisabled = this.view.displayFilterEnabled, this.environment = this.view.environment, this.fatalError = this.view.fatalError, this.floors = this.view.floors, this.graphics = this.view.graphics, this.ground = this._map.ground, this.groundView = this.view.groundView, this.highlights = this.view.highlights, this.highlightOptions = this.view.highlightOptions, this.layerViews = this.view.layerViews, this.magnifier = this.view.magnifier, this.map = this.view.map, this.navigation = this.view.navigation, this.padding = this.view.padding, this.popup = this.view.popup, this.popupDisabled = this.view.popupEnabled, this.qualityProfile = this.view.qualityProfile, this.ready = this.view.ready, this.spatialReference = this.view.spatialReference, this.suspended = this.view.suspended, this.theme = this.view.theme, this.timeExtent = this.view.timeExtent, this.updating = this.view.updating, this.viewingMode = this.view.viewingMode, this.arcgisViewChange = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.createEvent)(), this.arcgisViewClick = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "click"), this.arcgisViewDoubleClick = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "double-click"), this.arcgisViewDrag = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "drag"), this.arcgisViewHold = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "hold"), this.arcgisViewImmediateClick = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "immediate-click"), this.arcgisViewImmediateDoubleClick = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "immediate-double-click"), this.arcgisViewKeyDown = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "key-down"), this.arcgisViewKeyUp = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "key-up"), this.arcgisViewLayerviewCreate = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "layerview-create"), this.arcgisViewLayerviewCreateError = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "layerview-create-error"), this.arcgisViewLayerviewDestroy = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "layerview-destroy"), this.arcgisViewMouseWheel = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "mouse-wheel"), this.arcgisViewPointerDown = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "pointer-down"), this.arcgisViewPointerEnter = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "pointer-enter"), this.arcgisViewPointerLeave = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "pointer-leave"), this.arcgisViewPointerMove = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "pointer-move"), this.arcgisViewPointerUp = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.reEmitEvent)(() => this.view, "pointer-up"), this.arcgisViewReadyChange = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.createEvent)();
  }
  static {
    this.properties = { _map: 16, view: 32, allLayerViews: 0, alphaCompositingEnabled: 5, analyses: 0, autoDestroyDisabled: 5, basemap: 1, basemapView: 0, camera: 0, cameraFov: 9, cameraHeading: 9, cameraPosition: 1, cameraTilt: 9, center: 1, clippingArea: 0, constraints: 0, displayFilterDisabled: 5, environment: 0, extent: 0, fatalError: 0, floors: 0, gamepad: 32, graphics: 0, ground: 1, groundView: 0, highlights: 0, highlightOptions: 0, interacting: 32, itemId: 3, layerViews: 0, magnifier: 0, map: 0, navigating: 32, navigation: 0, padding: 0, performanceInfo: 32, popup: 0, popupDisabled: 5, qualityProfile: 1, ready: 4, resolution: 32, scale: 9, spatialReference: 0, stationary: 32, suspended: 7, theme: 0, timeExtent: 0, updating: 7, viewingMode: 1, viewpoint: 0, zoom: 9 };
  }
  static {
    this.shadowRootOptions = _arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.noShadowRoot;
  }
  static {
    this.styles = u;
  }
  /** The [camera](https://developers.arcgis.com/javascript/latest/api-reference/esri-Camera.html) allows to set the observation point from which the visible portion (or perspective)
   * of the view is determined. When set in the constructor, this property overrides the
   * [center](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#center),
   * [extent](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#extent),
   * [scale](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#scale),
   * [viewpoint](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#viewpoint), and
   * [zoom](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#zoom) properties.
   *
   * Setting the camera immediately changes the current view. For animating the view, see this component's
   * [goTo()](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#goTo) method.
   */
  get camera() {
    return this.view.camera ?? this._camera;
  }
  set camera(i) {
    this._camera = i, this.ready && !(0,_chunks_component_utils_js__WEBPACK_IMPORTED_MODULE_6__.c)(this.camera, i) && (this.view.camera = i);
  }
  /**
   * The diagonal field of view (fov) angle for the camera. The range of angles must be between 1 and 170 degrees.
   *
   * Setting the camera fov immediately changes the current view. For animating the view, see this component's
   * [goTo()](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#goTo) method.
   *
   * [Read more](https://developers.arcgis.com/javascript/latest/api-reference/esri-Camera.html#fov)
   */
  get cameraFov() {
    return this.view.camera?.fov ?? this._cameraFov;
  }
  set cameraFov(i) {
    this.ready && i != null && this._mutateCamera((e) => {
      e.fov = i;
    }), this._cameraFov = i;
  }
  /**
   * The compass heading of the camera in degrees.
   *
   * Setting the camera heading immediately changes the current view. For animating the view, see this component's
   * [goTo()](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#goTo) method.
   *
   * [Read more](https://developers.arcgis.com/javascript/latest/api-reference/esri-Camera.html#heading)
   */
  get cameraHeading() {
    return this.view.camera?.heading ?? this._cameraHeading;
  }
  set cameraHeading(i) {
    this.ready && i != null && this._mutateCamera((e) => {
      e.heading = i;
    }), this._cameraHeading = i;
  }
  /**
   * The position of the camera defined by a map point. It can be a string with the format `"<longitude>, <latitude>, <elevation>"`
   * or a [Point](https://developers.arcgis.com/javascript/latest/api-reference/esri-geometry-Point.html) instance.
   *
   * Setting the camera position immediately changes the current view. For animating the view, see this component's
   * [goTo()](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#goTo) method.
   *
   * [Read more](https://developers.arcgis.com/javascript/latest/api-reference/esri-Camera.html#position)
   *
   */
  get cameraPosition() {
    return this.view.camera?.position ?? this._cameraPosition;
  }
  set cameraPosition(i) {
    if (this.ready) {
      const e = (0,_chunks_component_utils_js__WEBPACK_IMPORTED_MODULE_6__.p)(this.view.camera?.position, i);
      e && this._mutateCamera((s) => {
        s.position = e;
      });
    } else
      this._cameraPosition = i;
  }
  /**
   * The tilt of the camera in degrees with respect to the surface as projected down from the camera position.
   *
   * Setting the camera tilt immediately changes the current view. For animating the view, see this component's
   * [goTo()](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#goTo) method.
   *
   * [Read more](https://developers.arcgis.com/javascript/latest/api-reference/esri-Camera.html#tilt)
   */
  get cameraTilt() {
    return this.view.camera?.tilt ?? this._cameraTilt;
  }
  set cameraTilt(i) {
    this.ready && i != null && this._mutateCamera((e) => {
      e.tilt = i;
    }), this._cameraTilt = i;
  }
  /**
   * Represents the center point of the view. It can be a string with the format `"<longitude>, <latitude>"`
   * or a [Point](https://developers.arcgis.com/javascript/latest/api-reference/esri-geometry-Point.html) instance.
   *
   * Setting the center immediately changes the current view. For animating the view, see this component's
   * [goTo()](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#goTo) method.
   *
   * [Read more](https://developers.arcgis.com/javascript/latest/api-reference/esri-views-SceneView.html#center)
   */
  get center() {
    return this.view.center ?? this._center;
  }
  set center(i) {
    const e = (0,_chunks_component_utils_js__WEBPACK_IMPORTED_MODULE_6__.e)(i, this.ready ? this.view : void 0);
    e && (this.ready && (this.view.center = e), this._center = e);
  }
  /**
   * The extent represents the visible portion of a map within the view as an instance of
   * [Extent](https://developers.arcgis.com/javascript/latest/api-reference/esri-geometry-Extent.html).
   *
   * Setting the extent immediately changes the view without animation. To animate
   * the view, see this component's [goTo()](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#goTo) method.
   * When the view is rotated, the extent does not update to include the newly visible portions of the map.
   *
   * [Read more](https://developers.arcgis.com/javascript/latest/api-reference/esri-views-SceneView.html#extent)
   */
  get extent() {
    return this.view.extent ?? this._extent;
  }
  set extent(i) {
    this.ready && i && !this.extent?.equals(i) && (this.view.extent = i), this._extent = i;
  }
  /** Gamepad input specific configuration settings. */
  get gamepad() {
    return this.ready ? this.view.input.gamepad : void 0;
  }
  /** Indication whether the view is being interacted with (for example when panning or by an interactive tool). */
  get interacting() {
    return this.view.interacting;
  }
  /**
   * The ID of a [WebScene](https://developers.arcgis.com/javascript/latest/api-reference/esri-WebScene.html) item from either
   * [ArcGIS Online](https://www.arcgis.com/home/index.html) or [ArcGIS Enterprise portal](https://enterprise.arcgis.com/en/portal/latest/administer/windows/what-is-portal-for-arcgis-.htm).
   *
   * To configure the portal url you must set the [config.portalUrl](https://developers.arcgis.com/javascript/latest/api-reference/esri-config.html#portalUrl) property before the Scene component loads.
   * */
  get itemId() {
    return this._map.portalItem?.id ?? this._itemId;
  }
  set itemId(i) {
    this._itemId = i, this.ready && _arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.accessorSupport.reCreate(this._map, this).then(() => {
      this.view.map = this._map;
    }).catch(console.error);
  }
  /** Indication whether the view is being navigated (for example when panning). */
  get navigating() {
    return this.view.navigating;
  }
  /**
   * This property contains performance information of the view, e.g. global memory usage and additional
   * details for layers about memory consumption and number of features.
   */
  get performanceInfo() {
    return this.view.performanceInfo;
  }
  /**
   * Represents the current value of one pixel in the unit of the view's
   * [spatialReference](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#spatialReference).
   * The resolution is calculated by dividing the view's [extent width](https://developers.arcgis.com/javascript/latest/api-reference/esri-geometry-Extent.html#width)
   * by [its width](https://developers.arcgis.com/javascript/latest/api-reference/esri-views-SceneView.html#width).
   */
  get resolution() {
    return this.view.resolution;
  }
  /**
   * Represents the map scale at the center of the view.
   *
   * Setting the scale immediately changes the view. For animating
   * the view, see this component's [goTo()](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#goTo) method.
   *
   * [Read more](https://developers.arcgis.com/javascript/latest/api-reference/esri-views-SceneView.html#scale)
   */
  get scale() {
    return this.view.scale ?? this._scale;
  }
  set scale(i) {
    this.ready && (this.view.scale = i), this._scale = i;
  }
  /** Indication whether the view is animating, being navigated with or resizing. */
  get stationary() {
    return this.view.stationary;
  }
  /**
   * Represents the current view as a [Viewpoint](https://developers.arcgis.com/javascript/latest/api-reference/esri-Viewpoint.html)
   * or point of observation on the view.
   *
   * Setting the viewpoint immediately changes the current view. For animating
   * the view, see this component's [goTo()](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#goTo) method.
   *
   * [Read more](https://developers.arcgis.com/javascript/latest/api-reference/esri-views-SceneView.html#viewpoint)
   */
  get viewpoint() {
    return this.view.viewpoint ?? this._viewpoint;
  }
  set viewpoint(i) {
    this.ready && (0,_chunks_component_utils_js__WEBPACK_IMPORTED_MODULE_6__.i)(this.viewpoint, i) && (this.view.viewpoint = i), this._viewpoint = i;
  }
  /**
   * Represents the level of detail (LOD) at the center of the view.
   *
   * Setting the zoom immediately changes the current view. For animating the view, see this component's [goTo()](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#goTo) method.
   * Setting this property in conjunction with [center](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#center)
   * is a convenient way to set the initial extent of the view.
   *
   * [Read more](https://developers.arcgis.com/javascript/latest/api-reference/esri-views-SceneView.html#zoom)
   */
  get zoom() {
    return this.view.zoom ?? this._zoom;
  }
  set zoom(i) {
    this.ready && (this.view.zoom = i), this._zoom = i;
  }
  // #endregion
  // #region Public Methods
  /** Adds a layer to the [map's](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#map) `layers` collection. */
  async addLayer(i, e) {
    this.map?.add(i, e);
  }
  /** Adds a layer or array of layers to the [map's](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#map) `layers` collection. */
  async addLayers(i, e) {
    this.map?.addMany(i, e);
  }
  /** Adds a table to the [map's](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#map) `tables` collection. */
  async addTable(i) {
    this.map?.tables.add(i);
  }
  /** Adds a table or array of tables to the [map's](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#map) `tables` collection. */
  async addTables(i, e) {
    this.map?.tables.addMany(i, e);
  }
  /** Closes the [popup](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#popup). */
  async closePopup() {
    this.view?.closePopup();
  }
  /** Destroys the Scene component, and any associated resources, including its
   * [map](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#map),
   * [popup](https://developers.arcgis.com/javascript/latest/references/map-components/arcgis-scene/#popup),
   * and removes components or other UI DOM elements added to it.
   */
  async destroy() {
    await this.manager.destroy();
  }
  /** Sets the view to a given target.
   *
   * [Read more](https://developers.arcgis.com/javascript/latest/api-reference/esri-views-SceneView.html#goTo)
   */
  async goTo(i, e) {
    return await this.view?.goTo(i, e);
  }
  /** Returns [hit test results](https://developers.arcgis.com/javascript/latest/api-reference/esri-views-SceneView.html#HitTestResult)
   * from each layer that intersects the specified screen coordinates.
   *
   * ```
   * arcgisScene.addEventListener("arcgisViewClick", (event) => {
   *    arcgisScene.hitTest(event.detail).then((response) => {
   *       const result = response.results[0];
   *       if (result?.type === "graphic") {
   *          const { longitude, latitude } = result.mapPoint;
   *          console.log("Hit graphic at (" + longitude + ", " + latitude + ")", result.graphic);
   *       } else {
   *          console.log("Did not hit any graphic");
   *       }
   *    });
   * });
   * ```
   *
   * [Read more](https://developers.arcgis.com/javascript/latest/api-reference/esri-views-SceneView.html#hitTest)
   */
  async hitTest(i, e) {
    return await this.view?.hitTest(i, e);
  }
  /**
   * Opens the popup based on input options.
   *
   * [Read more](https://developers.arcgis.com/javascript/latest/api-reference/esri-views-SceneView.html#openPopup)
   */
  async openPopup(i) {
    await this.view?.openPopup(i);
  }
  /** Creates a screenshot of the current view.
   *
   * [Read more](https://developers.arcgis.com/javascript/latest/api-reference/esri-views-SceneView.html#takeScreenshot)
   */
  async takeScreenshot(i) {
    return await this.view?.takeScreenshot(i);
  }
  /**
   * Converts the given screen point to a [map point](https://developers.arcgis.com/javascript/latest/api-reference/esri-geometry-Point.html).
   */
  toMap(i, e) {
    return this.view.toMap(i, e);
  }
  /**
   * Converts the given [map point](https://developers.arcgis.com/javascript/latest/api-reference/esri-geometry-Point.html) to a screen point.
   */
  toScreen(i) {
    return this.view.toScreen(i);
  }
  /** Call this method to clear any fatal errors resulting from a lost WebGL context. */
  async tryFatalErrorRecovery() {
    this.view?.tryFatalErrorRecovery();
  }
  /**
   * Gets the analysis view created for the given analysis object.
   *
   * [Read more](https://developers.arcgis.com/javascript/latest/api-reference/esri-views-SceneView.html#whenAnalysisView)
   */
  async whenAnalysisView(i) {
    return await this.view?.whenAnalysisView(i);
  }
  /** Gets the layer view created on the view for the given layer.
   *
   * [Read more](https://developers.arcgis.com/javascript/latest/api-reference/esri-views-SceneView.html#whenLayerView)
   */
  async whenLayerView(i) {
    return await this.view?.whenLayerView(i);
  }
  // #endregion
  // #region Lifecycle
  load() {
    this.el.childElem = document.createElement("div"), this.el.append(this.el.childElem), this.view.container ??= this.el.childElem;
  }
  loaded() {
    this.manager.onLifecycle(() => [
      (0,_arcgis_core_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)(() => this.view.stationary, () => {
        this.arcgisViewChange.emit();
      }, { initial: !0 }),
      (0,_arcgis_core_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)(() => this.view.ready, () => this.arcgisViewReadyChange.emit(), { initial: this.view.ready })
    ]);
  }
  // #endregion
  // #region Private Methods
  _editMapProperties(i) {
    this.map && (this._map = this.map), this.itemId && (i.portalItem = { id: this.itemId });
    const { basemap: e, ...s } = i;
    return e || (i = s), i;
  }
  async _editViewProperties(i) {
    await this.manager.use(this._map), this.view.ui || (i.ui = {
      components: ["attribution"]
    }), i.map ??= this._map;
    const e = (0,_chunks_component_utils_js__WEBPACK_IMPORTED_MODULE_6__.e)(this.center, void 0);
    e && (i.center = e), this.viewpoint && (i.viewpoint = this.viewpoint), this.scale !== void 0 && (i.scale = this.scale), this.extent && (i.extent = this.extent), this.camera && (i.camera = this.camera);
    const s = (0,_chunks_component_utils_js__WEBPACK_IMPORTED_MODULE_6__.p)(void 0, this.cameraPosition);
    return s && (i.camera ??= {}, i.camera.position = s), this.cameraHeading != null && (i.camera ??= {}, i.camera.heading = this.cameraHeading), this.cameraTilt != null && (i.camera ??= {}, i.camera.tilt = this.cameraTilt), this.cameraFov != null && (i.camera ??= {}, i.camera.fov = this.cameraFov), this.zoom !== void 0 && (i.zoom = this.zoom), i;
  }
  _mutateCamera(i) {
    const e = this.view.camera.clone();
    i(e), (0,_chunks_component_utils_js__WEBPACK_IMPORTED_MODULE_6__.c)(this.view.camera, e) || (this.view.camera = e);
  }
}
(0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.c)("arcgis-scene", b);



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvdmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX21hcC1jb21wb25lbnRzX2Rpc3RfY29tcG9uZW50c19hcmNnaXMtc2NlbmVfY3VzdG9tRWxlbWVudF9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUQ7QUFDNkU7QUFDOUQ7QUFDaEI7QUFDUDtBQUM2QztBQUNMO0FBQ3JCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBLFVBQVUscUVBQUMsUUFBUSxhQUFhLGNBQWMsWUFBWSxXQUFXLFlBQVksYUFBYSxPQUFPLCtGQUFDLENBQUMsZ0VBQUMsSUFBSSxPQUFPLCtGQUFDLENBQUMsdUVBQUMsSUFBSTtBQUMxSCxnQkFBZ0Isc0RBQUM7QUFDakI7QUFDQSxrVUFBa1Usb0RBQW9ELHlCQUF5QixxREFBcUQsZ3lDQUFneUMsMkRBQUMsMkJBQTJCLG9GQUFDLHlEQUF5RCxvRkFBQyx5REFBeUQsb0ZBQUMsaURBQWlELG9GQUFDLDJEQUEyRCxvRkFBQyw0RUFBNEUsb0ZBQUMsc0VBQXNFLG9GQUFDLHNEQUFzRCxvRkFBQyw4REFBOEQsb0ZBQUMsNkVBQTZFLG9GQUFDLCtFQUErRSxvRkFBQyxvRUFBb0Usb0ZBQUMsK0RBQStELG9GQUFDLGlFQUFpRSxvRkFBQyxrRUFBa0Usb0ZBQUMsaUVBQWlFLG9GQUFDLDhEQUE4RCxvRkFBQyw4REFBOEQsMkRBQUM7QUFDcjFGO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLDZCQUE2Qix3REFBQztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw2REFBQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDZEQUFDO0FBQ2pCO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZEQUFDO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG9GQUFDO0FBQ3JDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDZEQUFDO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNCQUFzQjtBQUM1QztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNULE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHlFQUFDO0FBQ1A7QUFDQSxPQUFPLElBQUksYUFBYTtBQUN4QixNQUFNLHlFQUFDLG1FQUFtRSwwQkFBMEI7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxpQkFBaUI7QUFDMUYsWUFBWSxtQkFBbUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxjQUFjLDZEQUFDO0FBQ2Y7QUFDQSxjQUFjLDZEQUFDO0FBQ2YsZ0NBQWdDLHdFQUF3RSxxRkFBcUYsOEVBQThFO0FBQzNRO0FBQ0E7QUFDQTtBQUNBLFVBQVUsNkRBQUM7QUFDWDtBQUNBO0FBQ0EscURBQUM7QUFHQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9tYXAtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvYXJjZ2lzLXNjZW5lL2N1c3RvbUVsZW1lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYyBhcyBtIH0gZnJvbSBcIi4uLy4uL2NodW5rcy9ydW50aW1lLmpzXCI7XG5pbXBvcnQgeyBtYWtlQWNjZXNzb3JDb250cm9sbGVyIGFzIGMsIHJlRW1pdEV2ZW50IGFzIHQsIGFjY2Vzc29yU3VwcG9ydCBhcyB3IH0gZnJvbSBcIkBhcmNnaXMvY29tcG9uZW50cy1jb250cm9sbGVycy9hY2Nlc3NvclwiO1xuaW1wb3J0IHsgd2F0Y2ggYXMgYSB9IGZyb20gXCJAYXJjZ2lzL2NvcmUvY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7XG5pbXBvcnQgdiBmcm9tIFwiQGFyY2dpcy9jb3JlL3ZpZXdzL1NjZW5lVmlldy5qc1wiO1xuaW1wb3J0IGQgZnJvbSBcIkBhcmNnaXMvY29yZS9XZWJTY2VuZS5qc1wiO1xuaW1wb3J0IHsgTGl0RWxlbWVudCBhcyBsLCBjcmVhdGVFdmVudCBhcyByLCBub1NoYWRvd1Jvb3QgYXMgZyB9IGZyb20gXCJAYXJjZ2lzL2x1bWluYVwiO1xuaW1wb3J0IHsgYyBhcyBoLCBwIGFzIG4sIGUgYXMgbywgaSBhcyBwIH0gZnJvbSBcIi4uLy4uL2NodW5rcy9jb21wb25lbnQtdXRpbHMuanNcIjtcbmltcG9ydCB7IGNzcyBhcyB5IH0gZnJvbSBcIkBsaXQvcmVhY3RpdmUtZWxlbWVudC9jc3MtdGFnLmpzXCI7XG4vKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFc3JpLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMi9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG52NC4zMi4xICovXG5jb25zdCB1ID0geWBAbGF5ZXJ7YXJjZ2lzLXNjZW5le2Rpc3BsYXk6YmxvY2s7aGVpZ2h0OjEwMCU7LmVzcmktdmlld3toZWlnaHQ6MTAwJTt3aWR0aDoxMDAlfX19YCwgZiA9IGMoZCwge30pLCBfID0gYyh2LCB7fSk7XG5jbGFzcyBiIGV4dGVuZHMgbCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMuX2NhbWVyYSA9IHZvaWQgMCwgdGhpcy5fY2VudGVyID0gdm9pZCAwLCB0aGlzLl9leHRlbnQgPSB2b2lkIDAsIHRoaXMuX2l0ZW1JZCA9IHZvaWQgMCwgdGhpcy5fc2NhbGUgPSB2b2lkIDAsIHRoaXMuX3ZpZXdwb2ludCA9IHZvaWQgMCwgdGhpcy5fem9vbSA9IHZvaWQgMCwgdGhpcy5fY2FtZXJhRm92ID0gdm9pZCAwLCB0aGlzLl9jYW1lcmFIZWFkaW5nID0gdm9pZCAwLCB0aGlzLl9jYW1lcmFQb3NpdGlvbiA9IHZvaWQgMCwgdGhpcy5fY2FtZXJhVGlsdCA9IHZvaWQgMCwgdGhpcy5fbWFwID0gZih0aGlzLCB7IGVkaXRDb25zdHJ1Y3RvclByb3BlcnRpZXM6IHRoaXMuX2VkaXRNYXBQcm9wZXJ0aWVzIH0pLCB0aGlzLnZpZXcgPSBfKHRoaXMsIHsgZWRpdENvbnN0cnVjdG9yUHJvcGVydGllczogdGhpcy5fZWRpdFZpZXdQcm9wZXJ0aWVzIH0pLCB0aGlzLmFsbExheWVyVmlld3MgPSB0aGlzLnZpZXcuYWxsTGF5ZXJWaWV3cywgdGhpcy5hbHBoYUNvbXBvc2l0aW5nRW5hYmxlZCA9IHRoaXMudmlldy5hbHBoYUNvbXBvc2l0aW5nRW5hYmxlZCwgdGhpcy5hbmFseXNlcyA9IHRoaXMudmlldy5hbmFseXNlcywgdGhpcy5hdXRvRGVzdHJveURpc2FibGVkID0gITEsIHRoaXMuYmFzZW1hcCA9IHRoaXMuX21hcC5iYXNlbWFwLCB0aGlzLmJhc2VtYXBWaWV3ID0gdGhpcy52aWV3LmJhc2VtYXBWaWV3LCB0aGlzLmNsaXBwaW5nQXJlYSA9IHRoaXMudmlldy5jbGlwcGluZ0FyZWEsIHRoaXMuY29uc3RyYWludHMgPSB0aGlzLnZpZXcuY29uc3RyYWludHMsIHRoaXMuZGlzcGxheUZpbHRlckRpc2FibGVkID0gdGhpcy52aWV3LmRpc3BsYXlGaWx0ZXJFbmFibGVkLCB0aGlzLmVudmlyb25tZW50ID0gdGhpcy52aWV3LmVudmlyb25tZW50LCB0aGlzLmZhdGFsRXJyb3IgPSB0aGlzLnZpZXcuZmF0YWxFcnJvciwgdGhpcy5mbG9vcnMgPSB0aGlzLnZpZXcuZmxvb3JzLCB0aGlzLmdyYXBoaWNzID0gdGhpcy52aWV3LmdyYXBoaWNzLCB0aGlzLmdyb3VuZCA9IHRoaXMuX21hcC5ncm91bmQsIHRoaXMuZ3JvdW5kVmlldyA9IHRoaXMudmlldy5ncm91bmRWaWV3LCB0aGlzLmhpZ2hsaWdodHMgPSB0aGlzLnZpZXcuaGlnaGxpZ2h0cywgdGhpcy5oaWdobGlnaHRPcHRpb25zID0gdGhpcy52aWV3LmhpZ2hsaWdodE9wdGlvbnMsIHRoaXMubGF5ZXJWaWV3cyA9IHRoaXMudmlldy5sYXllclZpZXdzLCB0aGlzLm1hZ25pZmllciA9IHRoaXMudmlldy5tYWduaWZpZXIsIHRoaXMubWFwID0gdGhpcy52aWV3Lm1hcCwgdGhpcy5uYXZpZ2F0aW9uID0gdGhpcy52aWV3Lm5hdmlnYXRpb24sIHRoaXMucGFkZGluZyA9IHRoaXMudmlldy5wYWRkaW5nLCB0aGlzLnBvcHVwID0gdGhpcy52aWV3LnBvcHVwLCB0aGlzLnBvcHVwRGlzYWJsZWQgPSB0aGlzLnZpZXcucG9wdXBFbmFibGVkLCB0aGlzLnF1YWxpdHlQcm9maWxlID0gdGhpcy52aWV3LnF1YWxpdHlQcm9maWxlLCB0aGlzLnJlYWR5ID0gdGhpcy52aWV3LnJlYWR5LCB0aGlzLnNwYXRpYWxSZWZlcmVuY2UgPSB0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSwgdGhpcy5zdXNwZW5kZWQgPSB0aGlzLnZpZXcuc3VzcGVuZGVkLCB0aGlzLnRoZW1lID0gdGhpcy52aWV3LnRoZW1lLCB0aGlzLnRpbWVFeHRlbnQgPSB0aGlzLnZpZXcudGltZUV4dGVudCwgdGhpcy51cGRhdGluZyA9IHRoaXMudmlldy51cGRhdGluZywgdGhpcy52aWV3aW5nTW9kZSA9IHRoaXMudmlldy52aWV3aW5nTW9kZSwgdGhpcy5hcmNnaXNWaWV3Q2hhbmdlID0gcigpLCB0aGlzLmFyY2dpc1ZpZXdDbGljayA9IHQoKCkgPT4gdGhpcy52aWV3LCBcImNsaWNrXCIpLCB0aGlzLmFyY2dpc1ZpZXdEb3VibGVDbGljayA9IHQoKCkgPT4gdGhpcy52aWV3LCBcImRvdWJsZS1jbGlja1wiKSwgdGhpcy5hcmNnaXNWaWV3RHJhZyA9IHQoKCkgPT4gdGhpcy52aWV3LCBcImRyYWdcIiksIHRoaXMuYXJjZ2lzVmlld0hvbGQgPSB0KCgpID0+IHRoaXMudmlldywgXCJob2xkXCIpLCB0aGlzLmFyY2dpc1ZpZXdJbW1lZGlhdGVDbGljayA9IHQoKCkgPT4gdGhpcy52aWV3LCBcImltbWVkaWF0ZS1jbGlja1wiKSwgdGhpcy5hcmNnaXNWaWV3SW1tZWRpYXRlRG91YmxlQ2xpY2sgPSB0KCgpID0+IHRoaXMudmlldywgXCJpbW1lZGlhdGUtZG91YmxlLWNsaWNrXCIpLCB0aGlzLmFyY2dpc1ZpZXdLZXlEb3duID0gdCgoKSA9PiB0aGlzLnZpZXcsIFwia2V5LWRvd25cIiksIHRoaXMuYXJjZ2lzVmlld0tleVVwID0gdCgoKSA9PiB0aGlzLnZpZXcsIFwia2V5LXVwXCIpLCB0aGlzLmFyY2dpc1ZpZXdMYXllcnZpZXdDcmVhdGUgPSB0KCgpID0+IHRoaXMudmlldywgXCJsYXllcnZpZXctY3JlYXRlXCIpLCB0aGlzLmFyY2dpc1ZpZXdMYXllcnZpZXdDcmVhdGVFcnJvciA9IHQoKCkgPT4gdGhpcy52aWV3LCBcImxheWVydmlldy1jcmVhdGUtZXJyb3JcIiksIHRoaXMuYXJjZ2lzVmlld0xheWVydmlld0Rlc3Ryb3kgPSB0KCgpID0+IHRoaXMudmlldywgXCJsYXllcnZpZXctZGVzdHJveVwiKSwgdGhpcy5hcmNnaXNWaWV3TW91c2VXaGVlbCA9IHQoKCkgPT4gdGhpcy52aWV3LCBcIm1vdXNlLXdoZWVsXCIpLCB0aGlzLmFyY2dpc1ZpZXdQb2ludGVyRG93biA9IHQoKCkgPT4gdGhpcy52aWV3LCBcInBvaW50ZXItZG93blwiKSwgdGhpcy5hcmNnaXNWaWV3UG9pbnRlckVudGVyID0gdCgoKSA9PiB0aGlzLnZpZXcsIFwicG9pbnRlci1lbnRlclwiKSwgdGhpcy5hcmNnaXNWaWV3UG9pbnRlckxlYXZlID0gdCgoKSA9PiB0aGlzLnZpZXcsIFwicG9pbnRlci1sZWF2ZVwiKSwgdGhpcy5hcmNnaXNWaWV3UG9pbnRlck1vdmUgPSB0KCgpID0+IHRoaXMudmlldywgXCJwb2ludGVyLW1vdmVcIiksIHRoaXMuYXJjZ2lzVmlld1BvaW50ZXJVcCA9IHQoKCkgPT4gdGhpcy52aWV3LCBcInBvaW50ZXItdXBcIiksIHRoaXMuYXJjZ2lzVmlld1JlYWR5Q2hhbmdlID0gcigpO1xuICB9XG4gIHN0YXRpYyB7XG4gICAgdGhpcy5wcm9wZXJ0aWVzID0geyBfbWFwOiAxNiwgdmlldzogMzIsIGFsbExheWVyVmlld3M6IDAsIGFscGhhQ29tcG9zaXRpbmdFbmFibGVkOiA1LCBhbmFseXNlczogMCwgYXV0b0Rlc3Ryb3lEaXNhYmxlZDogNSwgYmFzZW1hcDogMSwgYmFzZW1hcFZpZXc6IDAsIGNhbWVyYTogMCwgY2FtZXJhRm92OiA5LCBjYW1lcmFIZWFkaW5nOiA5LCBjYW1lcmFQb3NpdGlvbjogMSwgY2FtZXJhVGlsdDogOSwgY2VudGVyOiAxLCBjbGlwcGluZ0FyZWE6IDAsIGNvbnN0cmFpbnRzOiAwLCBkaXNwbGF5RmlsdGVyRGlzYWJsZWQ6IDUsIGVudmlyb25tZW50OiAwLCBleHRlbnQ6IDAsIGZhdGFsRXJyb3I6IDAsIGZsb29yczogMCwgZ2FtZXBhZDogMzIsIGdyYXBoaWNzOiAwLCBncm91bmQ6IDEsIGdyb3VuZFZpZXc6IDAsIGhpZ2hsaWdodHM6IDAsIGhpZ2hsaWdodE9wdGlvbnM6IDAsIGludGVyYWN0aW5nOiAzMiwgaXRlbUlkOiAzLCBsYXllclZpZXdzOiAwLCBtYWduaWZpZXI6IDAsIG1hcDogMCwgbmF2aWdhdGluZzogMzIsIG5hdmlnYXRpb246IDAsIHBhZGRpbmc6IDAsIHBlcmZvcm1hbmNlSW5mbzogMzIsIHBvcHVwOiAwLCBwb3B1cERpc2FibGVkOiA1LCBxdWFsaXR5UHJvZmlsZTogMSwgcmVhZHk6IDQsIHJlc29sdXRpb246IDMyLCBzY2FsZTogOSwgc3BhdGlhbFJlZmVyZW5jZTogMCwgc3RhdGlvbmFyeTogMzIsIHN1c3BlbmRlZDogNywgdGhlbWU6IDAsIHRpbWVFeHRlbnQ6IDAsIHVwZGF0aW5nOiA3LCB2aWV3aW5nTW9kZTogMSwgdmlld3BvaW50OiAwLCB6b29tOiA5IH07XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLnNoYWRvd1Jvb3RPcHRpb25zID0gZztcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMuc3R5bGVzID0gdTtcbiAgfVxuICAvKiogVGhlIFtjYW1lcmFdKGh0dHBzOi8vZGV2ZWxvcGVycy5hcmNnaXMuY29tL2phdmFzY3JpcHQvbGF0ZXN0L2FwaS1yZWZlcmVuY2UvZXNyaS1DYW1lcmEuaHRtbCkgYWxsb3dzIHRvIHNldCB0aGUgb2JzZXJ2YXRpb24gcG9pbnQgZnJvbSB3aGljaCB0aGUgdmlzaWJsZSBwb3J0aW9uIChvciBwZXJzcGVjdGl2ZSlcbiAgICogb2YgdGhlIHZpZXcgaXMgZGV0ZXJtaW5lZC4gV2hlbiBzZXQgaW4gdGhlIGNvbnN0cnVjdG9yLCB0aGlzIHByb3BlcnR5IG92ZXJyaWRlcyB0aGVcbiAgICogW2NlbnRlcl0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvcmVmZXJlbmNlcy9tYXAtY29tcG9uZW50cy9hcmNnaXMtc2NlbmUvI2NlbnRlciksXG4gICAqIFtleHRlbnRdKGh0dHBzOi8vZGV2ZWxvcGVycy5hcmNnaXMuY29tL2phdmFzY3JpcHQvbGF0ZXN0L3JlZmVyZW5jZXMvbWFwLWNvbXBvbmVudHMvYXJjZ2lzLXNjZW5lLyNleHRlbnQpLFxuICAgKiBbc2NhbGVdKGh0dHBzOi8vZGV2ZWxvcGVycy5hcmNnaXMuY29tL2phdmFzY3JpcHQvbGF0ZXN0L3JlZmVyZW5jZXMvbWFwLWNvbXBvbmVudHMvYXJjZ2lzLXNjZW5lLyNzY2FsZSksXG4gICAqIFt2aWV3cG9pbnRdKGh0dHBzOi8vZGV2ZWxvcGVycy5hcmNnaXMuY29tL2phdmFzY3JpcHQvbGF0ZXN0L3JlZmVyZW5jZXMvbWFwLWNvbXBvbmVudHMvYXJjZ2lzLXNjZW5lLyN2aWV3cG9pbnQpLCBhbmRcbiAgICogW3pvb21dKGh0dHBzOi8vZGV2ZWxvcGVycy5hcmNnaXMuY29tL2phdmFzY3JpcHQvbGF0ZXN0L3JlZmVyZW5jZXMvbWFwLWNvbXBvbmVudHMvYXJjZ2lzLXNjZW5lLyN6b29tKSBwcm9wZXJ0aWVzLlxuICAgKlxuICAgKiBTZXR0aW5nIHRoZSBjYW1lcmEgaW1tZWRpYXRlbHkgY2hhbmdlcyB0aGUgY3VycmVudCB2aWV3LiBGb3IgYW5pbWF0aW5nIHRoZSB2aWV3LCBzZWUgdGhpcyBjb21wb25lbnQnc1xuICAgKiBbZ29UbygpXShodHRwczovL2RldmVsb3BlcnMuYXJjZ2lzLmNvbS9qYXZhc2NyaXB0L2xhdGVzdC9yZWZlcmVuY2VzL21hcC1jb21wb25lbnRzL2FyY2dpcy1zY2VuZS8jZ29UbykgbWV0aG9kLlxuICAgKi9cbiAgZ2V0IGNhbWVyYSgpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3LmNhbWVyYSA/PyB0aGlzLl9jYW1lcmE7XG4gIH1cbiAgc2V0IGNhbWVyYShpKSB7XG4gICAgdGhpcy5fY2FtZXJhID0gaSwgdGhpcy5yZWFkeSAmJiAhaCh0aGlzLmNhbWVyYSwgaSkgJiYgKHRoaXMudmlldy5jYW1lcmEgPSBpKTtcbiAgfVxuICAvKipcbiAgICogVGhlIGRpYWdvbmFsIGZpZWxkIG9mIHZpZXcgKGZvdikgYW5nbGUgZm9yIHRoZSBjYW1lcmEuIFRoZSByYW5nZSBvZiBhbmdsZXMgbXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDE3MCBkZWdyZWVzLlxuICAgKlxuICAgKiBTZXR0aW5nIHRoZSBjYW1lcmEgZm92IGltbWVkaWF0ZWx5IGNoYW5nZXMgdGhlIGN1cnJlbnQgdmlldy4gRm9yIGFuaW1hdGluZyB0aGUgdmlldywgc2VlIHRoaXMgY29tcG9uZW50J3NcbiAgICogW2dvVG8oKV0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvcmVmZXJlbmNlcy9tYXAtY29tcG9uZW50cy9hcmNnaXMtc2NlbmUvI2dvVG8pIG1ldGhvZC5cbiAgICpcbiAgICogW1JlYWQgbW9yZV0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvYXBpLXJlZmVyZW5jZS9lc3JpLUNhbWVyYS5odG1sI2ZvdilcbiAgICovXG4gIGdldCBjYW1lcmFGb3YoKSB7XG4gICAgcmV0dXJuIHRoaXMudmlldy5jYW1lcmE/LmZvdiA/PyB0aGlzLl9jYW1lcmFGb3Y7XG4gIH1cbiAgc2V0IGNhbWVyYUZvdihpKSB7XG4gICAgdGhpcy5yZWFkeSAmJiBpICE9IG51bGwgJiYgdGhpcy5fbXV0YXRlQ2FtZXJhKChlKSA9PiB7XG4gICAgICBlLmZvdiA9IGk7XG4gICAgfSksIHRoaXMuX2NhbWVyYUZvdiA9IGk7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBjb21wYXNzIGhlYWRpbmcgb2YgdGhlIGNhbWVyYSBpbiBkZWdyZWVzLlxuICAgKlxuICAgKiBTZXR0aW5nIHRoZSBjYW1lcmEgaGVhZGluZyBpbW1lZGlhdGVseSBjaGFuZ2VzIHRoZSBjdXJyZW50IHZpZXcuIEZvciBhbmltYXRpbmcgdGhlIHZpZXcsIHNlZSB0aGlzIGNvbXBvbmVudCdzXG4gICAqIFtnb1RvKCldKGh0dHBzOi8vZGV2ZWxvcGVycy5hcmNnaXMuY29tL2phdmFzY3JpcHQvbGF0ZXN0L3JlZmVyZW5jZXMvbWFwLWNvbXBvbmVudHMvYXJjZ2lzLXNjZW5lLyNnb1RvKSBtZXRob2QuXG4gICAqXG4gICAqIFtSZWFkIG1vcmVdKGh0dHBzOi8vZGV2ZWxvcGVycy5hcmNnaXMuY29tL2phdmFzY3JpcHQvbGF0ZXN0L2FwaS1yZWZlcmVuY2UvZXNyaS1DYW1lcmEuaHRtbCNoZWFkaW5nKVxuICAgKi9cbiAgZ2V0IGNhbWVyYUhlYWRpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMudmlldy5jYW1lcmE/LmhlYWRpbmcgPz8gdGhpcy5fY2FtZXJhSGVhZGluZztcbiAgfVxuICBzZXQgY2FtZXJhSGVhZGluZyhpKSB7XG4gICAgdGhpcy5yZWFkeSAmJiBpICE9IG51bGwgJiYgdGhpcy5fbXV0YXRlQ2FtZXJhKChlKSA9PiB7XG4gICAgICBlLmhlYWRpbmcgPSBpO1xuICAgIH0pLCB0aGlzLl9jYW1lcmFIZWFkaW5nID0gaTtcbiAgfVxuICAvKipcbiAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBjYW1lcmEgZGVmaW5lZCBieSBhIG1hcCBwb2ludC4gSXQgY2FuIGJlIGEgc3RyaW5nIHdpdGggdGhlIGZvcm1hdCBgXCI8bG9uZ2l0dWRlPiwgPGxhdGl0dWRlPiwgPGVsZXZhdGlvbj5cImBcbiAgICogb3IgYSBbUG9pbnRdKGh0dHBzOi8vZGV2ZWxvcGVycy5hcmNnaXMuY29tL2phdmFzY3JpcHQvbGF0ZXN0L2FwaS1yZWZlcmVuY2UvZXNyaS1nZW9tZXRyeS1Qb2ludC5odG1sKSBpbnN0YW5jZS5cbiAgICpcbiAgICogU2V0dGluZyB0aGUgY2FtZXJhIHBvc2l0aW9uIGltbWVkaWF0ZWx5IGNoYW5nZXMgdGhlIGN1cnJlbnQgdmlldy4gRm9yIGFuaW1hdGluZyB0aGUgdmlldywgc2VlIHRoaXMgY29tcG9uZW50J3NcbiAgICogW2dvVG8oKV0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvcmVmZXJlbmNlcy9tYXAtY29tcG9uZW50cy9hcmNnaXMtc2NlbmUvI2dvVG8pIG1ldGhvZC5cbiAgICpcbiAgICogW1JlYWQgbW9yZV0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvYXBpLXJlZmVyZW5jZS9lc3JpLUNhbWVyYS5odG1sI3Bvc2l0aW9uKVxuICAgKlxuICAgKi9cbiAgZ2V0IGNhbWVyYVBvc2l0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnZpZXcuY2FtZXJhPy5wb3NpdGlvbiA/PyB0aGlzLl9jYW1lcmFQb3NpdGlvbjtcbiAgfVxuICBzZXQgY2FtZXJhUG9zaXRpb24oaSkge1xuICAgIGlmICh0aGlzLnJlYWR5KSB7XG4gICAgICBjb25zdCBlID0gbih0aGlzLnZpZXcuY2FtZXJhPy5wb3NpdGlvbiwgaSk7XG4gICAgICBlICYmIHRoaXMuX211dGF0ZUNhbWVyYSgocykgPT4ge1xuICAgICAgICBzLnBvc2l0aW9uID0gZTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZVxuICAgICAgdGhpcy5fY2FtZXJhUG9zaXRpb24gPSBpO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgdGlsdCBvZiB0aGUgY2FtZXJhIGluIGRlZ3JlZXMgd2l0aCByZXNwZWN0IHRvIHRoZSBzdXJmYWNlIGFzIHByb2plY3RlZCBkb3duIGZyb20gdGhlIGNhbWVyYSBwb3NpdGlvbi5cbiAgICpcbiAgICogU2V0dGluZyB0aGUgY2FtZXJhIHRpbHQgaW1tZWRpYXRlbHkgY2hhbmdlcyB0aGUgY3VycmVudCB2aWV3LiBGb3IgYW5pbWF0aW5nIHRoZSB2aWV3LCBzZWUgdGhpcyBjb21wb25lbnQnc1xuICAgKiBbZ29UbygpXShodHRwczovL2RldmVsb3BlcnMuYXJjZ2lzLmNvbS9qYXZhc2NyaXB0L2xhdGVzdC9yZWZlcmVuY2VzL21hcC1jb21wb25lbnRzL2FyY2dpcy1zY2VuZS8jZ29UbykgbWV0aG9kLlxuICAgKlxuICAgKiBbUmVhZCBtb3JlXShodHRwczovL2RldmVsb3BlcnMuYXJjZ2lzLmNvbS9qYXZhc2NyaXB0L2xhdGVzdC9hcGktcmVmZXJlbmNlL2VzcmktQ2FtZXJhLmh0bWwjdGlsdClcbiAgICovXG4gIGdldCBjYW1lcmFUaWx0KCkge1xuICAgIHJldHVybiB0aGlzLnZpZXcuY2FtZXJhPy50aWx0ID8/IHRoaXMuX2NhbWVyYVRpbHQ7XG4gIH1cbiAgc2V0IGNhbWVyYVRpbHQoaSkge1xuICAgIHRoaXMucmVhZHkgJiYgaSAhPSBudWxsICYmIHRoaXMuX211dGF0ZUNhbWVyYSgoZSkgPT4ge1xuICAgICAgZS50aWx0ID0gaTtcbiAgICB9KSwgdGhpcy5fY2FtZXJhVGlsdCA9IGk7XG4gIH1cbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgdGhlIGNlbnRlciBwb2ludCBvZiB0aGUgdmlldy4gSXQgY2FuIGJlIGEgc3RyaW5nIHdpdGggdGhlIGZvcm1hdCBgXCI8bG9uZ2l0dWRlPiwgPGxhdGl0dWRlPlwiYFxuICAgKiBvciBhIFtQb2ludF0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvYXBpLXJlZmVyZW5jZS9lc3JpLWdlb21ldHJ5LVBvaW50Lmh0bWwpIGluc3RhbmNlLlxuICAgKlxuICAgKiBTZXR0aW5nIHRoZSBjZW50ZXIgaW1tZWRpYXRlbHkgY2hhbmdlcyB0aGUgY3VycmVudCB2aWV3LiBGb3IgYW5pbWF0aW5nIHRoZSB2aWV3LCBzZWUgdGhpcyBjb21wb25lbnQnc1xuICAgKiBbZ29UbygpXShodHRwczovL2RldmVsb3BlcnMuYXJjZ2lzLmNvbS9qYXZhc2NyaXB0L2xhdGVzdC9yZWZlcmVuY2VzL21hcC1jb21wb25lbnRzL2FyY2dpcy1zY2VuZS8jZ29UbykgbWV0aG9kLlxuICAgKlxuICAgKiBbUmVhZCBtb3JlXShodHRwczovL2RldmVsb3BlcnMuYXJjZ2lzLmNvbS9qYXZhc2NyaXB0L2xhdGVzdC9hcGktcmVmZXJlbmNlL2Vzcmktdmlld3MtU2NlbmVWaWV3Lmh0bWwjY2VudGVyKVxuICAgKi9cbiAgZ2V0IGNlbnRlcigpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3LmNlbnRlciA/PyB0aGlzLl9jZW50ZXI7XG4gIH1cbiAgc2V0IGNlbnRlcihpKSB7XG4gICAgY29uc3QgZSA9IG8oaSwgdGhpcy5yZWFkeSA/IHRoaXMudmlldyA6IHZvaWQgMCk7XG4gICAgZSAmJiAodGhpcy5yZWFkeSAmJiAodGhpcy52aWV3LmNlbnRlciA9IGUpLCB0aGlzLl9jZW50ZXIgPSBlKTtcbiAgfVxuICAvKipcbiAgICogVGhlIGV4dGVudCByZXByZXNlbnRzIHRoZSB2aXNpYmxlIHBvcnRpb24gb2YgYSBtYXAgd2l0aGluIHRoZSB2aWV3IGFzIGFuIGluc3RhbmNlIG9mXG4gICAqIFtFeHRlbnRdKGh0dHBzOi8vZGV2ZWxvcGVycy5hcmNnaXMuY29tL2phdmFzY3JpcHQvbGF0ZXN0L2FwaS1yZWZlcmVuY2UvZXNyaS1nZW9tZXRyeS1FeHRlbnQuaHRtbCkuXG4gICAqXG4gICAqIFNldHRpbmcgdGhlIGV4dGVudCBpbW1lZGlhdGVseSBjaGFuZ2VzIHRoZSB2aWV3IHdpdGhvdXQgYW5pbWF0aW9uLiBUbyBhbmltYXRlXG4gICAqIHRoZSB2aWV3LCBzZWUgdGhpcyBjb21wb25lbnQncyBbZ29UbygpXShodHRwczovL2RldmVsb3BlcnMuYXJjZ2lzLmNvbS9qYXZhc2NyaXB0L2xhdGVzdC9yZWZlcmVuY2VzL21hcC1jb21wb25lbnRzL2FyY2dpcy1zY2VuZS8jZ29UbykgbWV0aG9kLlxuICAgKiBXaGVuIHRoZSB2aWV3IGlzIHJvdGF0ZWQsIHRoZSBleHRlbnQgZG9lcyBub3QgdXBkYXRlIHRvIGluY2x1ZGUgdGhlIG5ld2x5IHZpc2libGUgcG9ydGlvbnMgb2YgdGhlIG1hcC5cbiAgICpcbiAgICogW1JlYWQgbW9yZV0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvYXBpLXJlZmVyZW5jZS9lc3JpLXZpZXdzLVNjZW5lVmlldy5odG1sI2V4dGVudClcbiAgICovXG4gIGdldCBleHRlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMudmlldy5leHRlbnQgPz8gdGhpcy5fZXh0ZW50O1xuICB9XG4gIHNldCBleHRlbnQoaSkge1xuICAgIHRoaXMucmVhZHkgJiYgaSAmJiAhdGhpcy5leHRlbnQ/LmVxdWFscyhpKSAmJiAodGhpcy52aWV3LmV4dGVudCA9IGkpLCB0aGlzLl9leHRlbnQgPSBpO1xuICB9XG4gIC8qKiBHYW1lcGFkIGlucHV0IHNwZWNpZmljIGNvbmZpZ3VyYXRpb24gc2V0dGluZ3MuICovXG4gIGdldCBnYW1lcGFkKCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5ID8gdGhpcy52aWV3LmlucHV0LmdhbWVwYWQgOiB2b2lkIDA7XG4gIH1cbiAgLyoqIEluZGljYXRpb24gd2hldGhlciB0aGUgdmlldyBpcyBiZWluZyBpbnRlcmFjdGVkIHdpdGggKGZvciBleGFtcGxlIHdoZW4gcGFubmluZyBvciBieSBhbiBpbnRlcmFjdGl2ZSB0b29sKS4gKi9cbiAgZ2V0IGludGVyYWN0aW5nKCkge1xuICAgIHJldHVybiB0aGlzLnZpZXcuaW50ZXJhY3Rpbmc7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiBhIFtXZWJTY2VuZV0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvYXBpLXJlZmVyZW5jZS9lc3JpLVdlYlNjZW5lLmh0bWwpIGl0ZW0gZnJvbSBlaXRoZXJcbiAgICogW0FyY0dJUyBPbmxpbmVdKGh0dHBzOi8vd3d3LmFyY2dpcy5jb20vaG9tZS9pbmRleC5odG1sKSBvciBbQXJjR0lTIEVudGVycHJpc2UgcG9ydGFsXShodHRwczovL2VudGVycHJpc2UuYXJjZ2lzLmNvbS9lbi9wb3J0YWwvbGF0ZXN0L2FkbWluaXN0ZXIvd2luZG93cy93aGF0LWlzLXBvcnRhbC1mb3ItYXJjZ2lzLS5odG0pLlxuICAgKlxuICAgKiBUbyBjb25maWd1cmUgdGhlIHBvcnRhbCB1cmwgeW91IG11c3Qgc2V0IHRoZSBbY29uZmlnLnBvcnRhbFVybF0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvYXBpLXJlZmVyZW5jZS9lc3JpLWNvbmZpZy5odG1sI3BvcnRhbFVybCkgcHJvcGVydHkgYmVmb3JlIHRoZSBTY2VuZSBjb21wb25lbnQgbG9hZHMuXG4gICAqICovXG4gIGdldCBpdGVtSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hcC5wb3J0YWxJdGVtPy5pZCA/PyB0aGlzLl9pdGVtSWQ7XG4gIH1cbiAgc2V0IGl0ZW1JZChpKSB7XG4gICAgdGhpcy5faXRlbUlkID0gaSwgdGhpcy5yZWFkeSAmJiB3LnJlQ3JlYXRlKHRoaXMuX21hcCwgdGhpcykudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLnZpZXcubWFwID0gdGhpcy5fbWFwO1xuICAgIH0pLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICB9XG4gIC8qKiBJbmRpY2F0aW9uIHdoZXRoZXIgdGhlIHZpZXcgaXMgYmVpbmcgbmF2aWdhdGVkIChmb3IgZXhhbXBsZSB3aGVuIHBhbm5pbmcpLiAqL1xuICBnZXQgbmF2aWdhdGluZygpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3Lm5hdmlnYXRpbmc7XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgcHJvcGVydHkgY29udGFpbnMgcGVyZm9ybWFuY2UgaW5mb3JtYXRpb24gb2YgdGhlIHZpZXcsIGUuZy4gZ2xvYmFsIG1lbW9yeSB1c2FnZSBhbmQgYWRkaXRpb25hbFxuICAgKiBkZXRhaWxzIGZvciBsYXllcnMgYWJvdXQgbWVtb3J5IGNvbnN1bXB0aW9uIGFuZCBudW1iZXIgb2YgZmVhdHVyZXMuXG4gICAqL1xuICBnZXQgcGVyZm9ybWFuY2VJbmZvKCkge1xuICAgIHJldHVybiB0aGlzLnZpZXcucGVyZm9ybWFuY2VJbmZvO1xuICB9XG4gIC8qKlxuICAgKiBSZXByZXNlbnRzIHRoZSBjdXJyZW50IHZhbHVlIG9mIG9uZSBwaXhlbCBpbiB0aGUgdW5pdCBvZiB0aGUgdmlldydzXG4gICAqIFtzcGF0aWFsUmVmZXJlbmNlXShodHRwczovL2RldmVsb3BlcnMuYXJjZ2lzLmNvbS9qYXZhc2NyaXB0L2xhdGVzdC9yZWZlcmVuY2VzL21hcC1jb21wb25lbnRzL2FyY2dpcy1zY2VuZS8jc3BhdGlhbFJlZmVyZW5jZSkuXG4gICAqIFRoZSByZXNvbHV0aW9uIGlzIGNhbGN1bGF0ZWQgYnkgZGl2aWRpbmcgdGhlIHZpZXcncyBbZXh0ZW50IHdpZHRoXShodHRwczovL2RldmVsb3BlcnMuYXJjZ2lzLmNvbS9qYXZhc2NyaXB0L2xhdGVzdC9hcGktcmVmZXJlbmNlL2VzcmktZ2VvbWV0cnktRXh0ZW50Lmh0bWwjd2lkdGgpXG4gICAqIGJ5IFtpdHMgd2lkdGhdKGh0dHBzOi8vZGV2ZWxvcGVycy5hcmNnaXMuY29tL2phdmFzY3JpcHQvbGF0ZXN0L2FwaS1yZWZlcmVuY2UvZXNyaS12aWV3cy1TY2VuZVZpZXcuaHRtbCN3aWR0aCkuXG4gICAqL1xuICBnZXQgcmVzb2x1dGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3LnJlc29sdXRpb247XG4gIH1cbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgdGhlIG1hcCBzY2FsZSBhdCB0aGUgY2VudGVyIG9mIHRoZSB2aWV3LlxuICAgKlxuICAgKiBTZXR0aW5nIHRoZSBzY2FsZSBpbW1lZGlhdGVseSBjaGFuZ2VzIHRoZSB2aWV3LiBGb3IgYW5pbWF0aW5nXG4gICAqIHRoZSB2aWV3LCBzZWUgdGhpcyBjb21wb25lbnQncyBbZ29UbygpXShodHRwczovL2RldmVsb3BlcnMuYXJjZ2lzLmNvbS9qYXZhc2NyaXB0L2xhdGVzdC9yZWZlcmVuY2VzL21hcC1jb21wb25lbnRzL2FyY2dpcy1zY2VuZS8jZ29UbykgbWV0aG9kLlxuICAgKlxuICAgKiBbUmVhZCBtb3JlXShodHRwczovL2RldmVsb3BlcnMuYXJjZ2lzLmNvbS9qYXZhc2NyaXB0L2xhdGVzdC9hcGktcmVmZXJlbmNlL2Vzcmktdmlld3MtU2NlbmVWaWV3Lmh0bWwjc2NhbGUpXG4gICAqL1xuICBnZXQgc2NhbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMudmlldy5zY2FsZSA/PyB0aGlzLl9zY2FsZTtcbiAgfVxuICBzZXQgc2NhbGUoaSkge1xuICAgIHRoaXMucmVhZHkgJiYgKHRoaXMudmlldy5zY2FsZSA9IGkpLCB0aGlzLl9zY2FsZSA9IGk7XG4gIH1cbiAgLyoqIEluZGljYXRpb24gd2hldGhlciB0aGUgdmlldyBpcyBhbmltYXRpbmcsIGJlaW5nIG5hdmlnYXRlZCB3aXRoIG9yIHJlc2l6aW5nLiAqL1xuICBnZXQgc3RhdGlvbmFyeSgpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3LnN0YXRpb25hcnk7XG4gIH1cbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgdGhlIGN1cnJlbnQgdmlldyBhcyBhIFtWaWV3cG9pbnRdKGh0dHBzOi8vZGV2ZWxvcGVycy5hcmNnaXMuY29tL2phdmFzY3JpcHQvbGF0ZXN0L2FwaS1yZWZlcmVuY2UvZXNyaS1WaWV3cG9pbnQuaHRtbClcbiAgICogb3IgcG9pbnQgb2Ygb2JzZXJ2YXRpb24gb24gdGhlIHZpZXcuXG4gICAqXG4gICAqIFNldHRpbmcgdGhlIHZpZXdwb2ludCBpbW1lZGlhdGVseSBjaGFuZ2VzIHRoZSBjdXJyZW50IHZpZXcuIEZvciBhbmltYXRpbmdcbiAgICogdGhlIHZpZXcsIHNlZSB0aGlzIGNvbXBvbmVudCdzIFtnb1RvKCldKGh0dHBzOi8vZGV2ZWxvcGVycy5hcmNnaXMuY29tL2phdmFzY3JpcHQvbGF0ZXN0L3JlZmVyZW5jZXMvbWFwLWNvbXBvbmVudHMvYXJjZ2lzLXNjZW5lLyNnb1RvKSBtZXRob2QuXG4gICAqXG4gICAqIFtSZWFkIG1vcmVdKGh0dHBzOi8vZGV2ZWxvcGVycy5hcmNnaXMuY29tL2phdmFzY3JpcHQvbGF0ZXN0L2FwaS1yZWZlcmVuY2UvZXNyaS12aWV3cy1TY2VuZVZpZXcuaHRtbCN2aWV3cG9pbnQpXG4gICAqL1xuICBnZXQgdmlld3BvaW50KCkge1xuICAgIHJldHVybiB0aGlzLnZpZXcudmlld3BvaW50ID8/IHRoaXMuX3ZpZXdwb2ludDtcbiAgfVxuICBzZXQgdmlld3BvaW50KGkpIHtcbiAgICB0aGlzLnJlYWR5ICYmIHAodGhpcy52aWV3cG9pbnQsIGkpICYmICh0aGlzLnZpZXcudmlld3BvaW50ID0gaSksIHRoaXMuX3ZpZXdwb2ludCA9IGk7XG4gIH1cbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgdGhlIGxldmVsIG9mIGRldGFpbCAoTE9EKSBhdCB0aGUgY2VudGVyIG9mIHRoZSB2aWV3LlxuICAgKlxuICAgKiBTZXR0aW5nIHRoZSB6b29tIGltbWVkaWF0ZWx5IGNoYW5nZXMgdGhlIGN1cnJlbnQgdmlldy4gRm9yIGFuaW1hdGluZyB0aGUgdmlldywgc2VlIHRoaXMgY29tcG9uZW50J3MgW2dvVG8oKV0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvcmVmZXJlbmNlcy9tYXAtY29tcG9uZW50cy9hcmNnaXMtc2NlbmUvI2dvVG8pIG1ldGhvZC5cbiAgICogU2V0dGluZyB0aGlzIHByb3BlcnR5IGluIGNvbmp1bmN0aW9uIHdpdGggW2NlbnRlcl0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvcmVmZXJlbmNlcy9tYXAtY29tcG9uZW50cy9hcmNnaXMtc2NlbmUvI2NlbnRlcilcbiAgICogaXMgYSBjb252ZW5pZW50IHdheSB0byBzZXQgdGhlIGluaXRpYWwgZXh0ZW50IG9mIHRoZSB2aWV3LlxuICAgKlxuICAgKiBbUmVhZCBtb3JlXShodHRwczovL2RldmVsb3BlcnMuYXJjZ2lzLmNvbS9qYXZhc2NyaXB0L2xhdGVzdC9hcGktcmVmZXJlbmNlL2Vzcmktdmlld3MtU2NlbmVWaWV3Lmh0bWwjem9vbSlcbiAgICovXG4gIGdldCB6b29tKCkge1xuICAgIHJldHVybiB0aGlzLnZpZXcuem9vbSA/PyB0aGlzLl96b29tO1xuICB9XG4gIHNldCB6b29tKGkpIHtcbiAgICB0aGlzLnJlYWR5ICYmICh0aGlzLnZpZXcuem9vbSA9IGkpLCB0aGlzLl96b29tID0gaTtcbiAgfVxuICAvLyAjZW5kcmVnaW9uXG4gIC8vICNyZWdpb24gUHVibGljIE1ldGhvZHNcbiAgLyoqIEFkZHMgYSBsYXllciB0byB0aGUgW21hcCdzXShodHRwczovL2RldmVsb3BlcnMuYXJjZ2lzLmNvbS9qYXZhc2NyaXB0L2xhdGVzdC9yZWZlcmVuY2VzL21hcC1jb21wb25lbnRzL2FyY2dpcy1zY2VuZS8jbWFwKSBgbGF5ZXJzYCBjb2xsZWN0aW9uLiAqL1xuICBhc3luYyBhZGRMYXllcihpLCBlKSB7XG4gICAgdGhpcy5tYXA/LmFkZChpLCBlKTtcbiAgfVxuICAvKiogQWRkcyBhIGxheWVyIG9yIGFycmF5IG9mIGxheWVycyB0byB0aGUgW21hcCdzXShodHRwczovL2RldmVsb3BlcnMuYXJjZ2lzLmNvbS9qYXZhc2NyaXB0L2xhdGVzdC9yZWZlcmVuY2VzL21hcC1jb21wb25lbnRzL2FyY2dpcy1zY2VuZS8jbWFwKSBgbGF5ZXJzYCBjb2xsZWN0aW9uLiAqL1xuICBhc3luYyBhZGRMYXllcnMoaSwgZSkge1xuICAgIHRoaXMubWFwPy5hZGRNYW55KGksIGUpO1xuICB9XG4gIC8qKiBBZGRzIGEgdGFibGUgdG8gdGhlIFttYXAnc10oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvcmVmZXJlbmNlcy9tYXAtY29tcG9uZW50cy9hcmNnaXMtc2NlbmUvI21hcCkgYHRhYmxlc2AgY29sbGVjdGlvbi4gKi9cbiAgYXN5bmMgYWRkVGFibGUoaSkge1xuICAgIHRoaXMubWFwPy50YWJsZXMuYWRkKGkpO1xuICB9XG4gIC8qKiBBZGRzIGEgdGFibGUgb3IgYXJyYXkgb2YgdGFibGVzIHRvIHRoZSBbbWFwJ3NdKGh0dHBzOi8vZGV2ZWxvcGVycy5hcmNnaXMuY29tL2phdmFzY3JpcHQvbGF0ZXN0L3JlZmVyZW5jZXMvbWFwLWNvbXBvbmVudHMvYXJjZ2lzLXNjZW5lLyNtYXApIGB0YWJsZXNgIGNvbGxlY3Rpb24uICovXG4gIGFzeW5jIGFkZFRhYmxlcyhpLCBlKSB7XG4gICAgdGhpcy5tYXA/LnRhYmxlcy5hZGRNYW55KGksIGUpO1xuICB9XG4gIC8qKiBDbG9zZXMgdGhlIFtwb3B1cF0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvcmVmZXJlbmNlcy9tYXAtY29tcG9uZW50cy9hcmNnaXMtc2NlbmUvI3BvcHVwKS4gKi9cbiAgYXN5bmMgY2xvc2VQb3B1cCgpIHtcbiAgICB0aGlzLnZpZXc/LmNsb3NlUG9wdXAoKTtcbiAgfVxuICAvKiogRGVzdHJveXMgdGhlIFNjZW5lIGNvbXBvbmVudCwgYW5kIGFueSBhc3NvY2lhdGVkIHJlc291cmNlcywgaW5jbHVkaW5nIGl0c1xuICAgKiBbbWFwXShodHRwczovL2RldmVsb3BlcnMuYXJjZ2lzLmNvbS9qYXZhc2NyaXB0L2xhdGVzdC9yZWZlcmVuY2VzL21hcC1jb21wb25lbnRzL2FyY2dpcy1zY2VuZS8jbWFwKSxcbiAgICogW3BvcHVwXShodHRwczovL2RldmVsb3BlcnMuYXJjZ2lzLmNvbS9qYXZhc2NyaXB0L2xhdGVzdC9yZWZlcmVuY2VzL21hcC1jb21wb25lbnRzL2FyY2dpcy1zY2VuZS8jcG9wdXApLFxuICAgKiBhbmQgcmVtb3ZlcyBjb21wb25lbnRzIG9yIG90aGVyIFVJIERPTSBlbGVtZW50cyBhZGRlZCB0byBpdC5cbiAgICovXG4gIGFzeW5jIGRlc3Ryb3koKSB7XG4gICAgYXdhaXQgdGhpcy5tYW5hZ2VyLmRlc3Ryb3koKTtcbiAgfVxuICAvKiogU2V0cyB0aGUgdmlldyB0byBhIGdpdmVuIHRhcmdldC5cbiAgICpcbiAgICogW1JlYWQgbW9yZV0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvYXBpLXJlZmVyZW5jZS9lc3JpLXZpZXdzLVNjZW5lVmlldy5odG1sI2dvVG8pXG4gICAqL1xuICBhc3luYyBnb1RvKGksIGUpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy52aWV3Py5nb1RvKGksIGUpO1xuICB9XG4gIC8qKiBSZXR1cm5zIFtoaXQgdGVzdCByZXN1bHRzXShodHRwczovL2RldmVsb3BlcnMuYXJjZ2lzLmNvbS9qYXZhc2NyaXB0L2xhdGVzdC9hcGktcmVmZXJlbmNlL2Vzcmktdmlld3MtU2NlbmVWaWV3Lmh0bWwjSGl0VGVzdFJlc3VsdClcbiAgICogZnJvbSBlYWNoIGxheWVyIHRoYXQgaW50ZXJzZWN0cyB0aGUgc3BlY2lmaWVkIHNjcmVlbiBjb29yZGluYXRlcy5cbiAgICpcbiAgICogYGBgXG4gICAqIGFyY2dpc1NjZW5lLmFkZEV2ZW50TGlzdGVuZXIoXCJhcmNnaXNWaWV3Q2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAqICAgIGFyY2dpc1NjZW5lLmhpdFRlc3QoZXZlbnQuZGV0YWlsKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgKiAgICAgICBjb25zdCByZXN1bHQgPSByZXNwb25zZS5yZXN1bHRzWzBdO1xuICAgKiAgICAgICBpZiAocmVzdWx0Py50eXBlID09PSBcImdyYXBoaWNcIikge1xuICAgKiAgICAgICAgICBjb25zdCB7IGxvbmdpdHVkZSwgbGF0aXR1ZGUgfSA9IHJlc3VsdC5tYXBQb2ludDtcbiAgICogICAgICAgICAgY29uc29sZS5sb2coXCJIaXQgZ3JhcGhpYyBhdCAoXCIgKyBsb25naXR1ZGUgKyBcIiwgXCIgKyBsYXRpdHVkZSArIFwiKVwiLCByZXN1bHQuZ3JhcGhpYyk7XG4gICAqICAgICAgIH0gZWxzZSB7XG4gICAqICAgICAgICAgIGNvbnNvbGUubG9nKFwiRGlkIG5vdCBoaXQgYW55IGdyYXBoaWNcIik7XG4gICAqICAgICAgIH1cbiAgICogICAgfSk7XG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogW1JlYWQgbW9yZV0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvYXBpLXJlZmVyZW5jZS9lc3JpLXZpZXdzLVNjZW5lVmlldy5odG1sI2hpdFRlc3QpXG4gICAqL1xuICBhc3luYyBoaXRUZXN0KGksIGUpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy52aWV3Py5oaXRUZXN0KGksIGUpO1xuICB9XG4gIC8qKlxuICAgKiBPcGVucyB0aGUgcG9wdXAgYmFzZWQgb24gaW5wdXQgb3B0aW9ucy5cbiAgICpcbiAgICogW1JlYWQgbW9yZV0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvYXBpLXJlZmVyZW5jZS9lc3JpLXZpZXdzLVNjZW5lVmlldy5odG1sI29wZW5Qb3B1cClcbiAgICovXG4gIGFzeW5jIG9wZW5Qb3B1cChpKSB7XG4gICAgYXdhaXQgdGhpcy52aWV3Py5vcGVuUG9wdXAoaSk7XG4gIH1cbiAgLyoqIENyZWF0ZXMgYSBzY3JlZW5zaG90IG9mIHRoZSBjdXJyZW50IHZpZXcuXG4gICAqXG4gICAqIFtSZWFkIG1vcmVdKGh0dHBzOi8vZGV2ZWxvcGVycy5hcmNnaXMuY29tL2phdmFzY3JpcHQvbGF0ZXN0L2FwaS1yZWZlcmVuY2UvZXNyaS12aWV3cy1TY2VuZVZpZXcuaHRtbCN0YWtlU2NyZWVuc2hvdClcbiAgICovXG4gIGFzeW5jIHRha2VTY3JlZW5zaG90KGkpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy52aWV3Py50YWtlU2NyZWVuc2hvdChpKTtcbiAgfVxuICAvKipcbiAgICogQ29udmVydHMgdGhlIGdpdmVuIHNjcmVlbiBwb2ludCB0byBhIFttYXAgcG9pbnRdKGh0dHBzOi8vZGV2ZWxvcGVycy5hcmNnaXMuY29tL2phdmFzY3JpcHQvbGF0ZXN0L2FwaS1yZWZlcmVuY2UvZXNyaS1nZW9tZXRyeS1Qb2ludC5odG1sKS5cbiAgICovXG4gIHRvTWFwKGksIGUpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3LnRvTWFwKGksIGUpO1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0cyB0aGUgZ2l2ZW4gW21hcCBwb2ludF0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvYXBpLXJlZmVyZW5jZS9lc3JpLWdlb21ldHJ5LVBvaW50Lmh0bWwpIHRvIGEgc2NyZWVuIHBvaW50LlxuICAgKi9cbiAgdG9TY3JlZW4oaSkge1xuICAgIHJldHVybiB0aGlzLnZpZXcudG9TY3JlZW4oaSk7XG4gIH1cbiAgLyoqIENhbGwgdGhpcyBtZXRob2QgdG8gY2xlYXIgYW55IGZhdGFsIGVycm9ycyByZXN1bHRpbmcgZnJvbSBhIGxvc3QgV2ViR0wgY29udGV4dC4gKi9cbiAgYXN5bmMgdHJ5RmF0YWxFcnJvclJlY292ZXJ5KCkge1xuICAgIHRoaXMudmlldz8udHJ5RmF0YWxFcnJvclJlY292ZXJ5KCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgdGhlIGFuYWx5c2lzIHZpZXcgY3JlYXRlZCBmb3IgdGhlIGdpdmVuIGFuYWx5c2lzIG9iamVjdC5cbiAgICpcbiAgICogW1JlYWQgbW9yZV0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvYXBpLXJlZmVyZW5jZS9lc3JpLXZpZXdzLVNjZW5lVmlldy5odG1sI3doZW5BbmFseXNpc1ZpZXcpXG4gICAqL1xuICBhc3luYyB3aGVuQW5hbHlzaXNWaWV3KGkpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy52aWV3Py53aGVuQW5hbHlzaXNWaWV3KGkpO1xuICB9XG4gIC8qKiBHZXRzIHRoZSBsYXllciB2aWV3IGNyZWF0ZWQgb24gdGhlIHZpZXcgZm9yIHRoZSBnaXZlbiBsYXllci5cbiAgICpcbiAgICogW1JlYWQgbW9yZV0oaHR0cHM6Ly9kZXZlbG9wZXJzLmFyY2dpcy5jb20vamF2YXNjcmlwdC9sYXRlc3QvYXBpLXJlZmVyZW5jZS9lc3JpLXZpZXdzLVNjZW5lVmlldy5odG1sI3doZW5MYXllclZpZXcpXG4gICAqL1xuICBhc3luYyB3aGVuTGF5ZXJWaWV3KGkpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy52aWV3Py53aGVuTGF5ZXJWaWV3KGkpO1xuICB9XG4gIC8vICNlbmRyZWdpb25cbiAgLy8gI3JlZ2lvbiBMaWZlY3ljbGVcbiAgbG9hZCgpIHtcbiAgICB0aGlzLmVsLmNoaWxkRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIHRoaXMuZWwuYXBwZW5kKHRoaXMuZWwuY2hpbGRFbGVtKSwgdGhpcy52aWV3LmNvbnRhaW5lciA/Pz0gdGhpcy5lbC5jaGlsZEVsZW07XG4gIH1cbiAgbG9hZGVkKCkge1xuICAgIHRoaXMubWFuYWdlci5vbkxpZmVjeWNsZSgoKSA9PiBbXG4gICAgICBhKCgpID0+IHRoaXMudmlldy5zdGF0aW9uYXJ5LCAoKSA9PiB7XG4gICAgICAgIHRoaXMuYXJjZ2lzVmlld0NoYW5nZS5lbWl0KCk7XG4gICAgICB9LCB7IGluaXRpYWw6ICEwIH0pLFxuICAgICAgYSgoKSA9PiB0aGlzLnZpZXcucmVhZHksICgpID0+IHRoaXMuYXJjZ2lzVmlld1JlYWR5Q2hhbmdlLmVtaXQoKSwgeyBpbml0aWFsOiB0aGlzLnZpZXcucmVhZHkgfSlcbiAgICBdKTtcbiAgfVxuICAvLyAjZW5kcmVnaW9uXG4gIC8vICNyZWdpb24gUHJpdmF0ZSBNZXRob2RzXG4gIF9lZGl0TWFwUHJvcGVydGllcyhpKSB7XG4gICAgdGhpcy5tYXAgJiYgKHRoaXMuX21hcCA9IHRoaXMubWFwKSwgdGhpcy5pdGVtSWQgJiYgKGkucG9ydGFsSXRlbSA9IHsgaWQ6IHRoaXMuaXRlbUlkIH0pO1xuICAgIGNvbnN0IHsgYmFzZW1hcDogZSwgLi4ucyB9ID0gaTtcbiAgICByZXR1cm4gZSB8fCAoaSA9IHMpLCBpO1xuICB9XG4gIGFzeW5jIF9lZGl0Vmlld1Byb3BlcnRpZXMoaSkge1xuICAgIGF3YWl0IHRoaXMubWFuYWdlci51c2UodGhpcy5fbWFwKSwgdGhpcy52aWV3LnVpIHx8IChpLnVpID0ge1xuICAgICAgY29tcG9uZW50czogW1wiYXR0cmlidXRpb25cIl1cbiAgICB9KSwgaS5tYXAgPz89IHRoaXMuX21hcDtcbiAgICBjb25zdCBlID0gbyh0aGlzLmNlbnRlciwgdm9pZCAwKTtcbiAgICBlICYmIChpLmNlbnRlciA9IGUpLCB0aGlzLnZpZXdwb2ludCAmJiAoaS52aWV3cG9pbnQgPSB0aGlzLnZpZXdwb2ludCksIHRoaXMuc2NhbGUgIT09IHZvaWQgMCAmJiAoaS5zY2FsZSA9IHRoaXMuc2NhbGUpLCB0aGlzLmV4dGVudCAmJiAoaS5leHRlbnQgPSB0aGlzLmV4dGVudCksIHRoaXMuY2FtZXJhICYmIChpLmNhbWVyYSA9IHRoaXMuY2FtZXJhKTtcbiAgICBjb25zdCBzID0gbih2b2lkIDAsIHRoaXMuY2FtZXJhUG9zaXRpb24pO1xuICAgIHJldHVybiBzICYmIChpLmNhbWVyYSA/Pz0ge30sIGkuY2FtZXJhLnBvc2l0aW9uID0gcyksIHRoaXMuY2FtZXJhSGVhZGluZyAhPSBudWxsICYmIChpLmNhbWVyYSA/Pz0ge30sIGkuY2FtZXJhLmhlYWRpbmcgPSB0aGlzLmNhbWVyYUhlYWRpbmcpLCB0aGlzLmNhbWVyYVRpbHQgIT0gbnVsbCAmJiAoaS5jYW1lcmEgPz89IHt9LCBpLmNhbWVyYS50aWx0ID0gdGhpcy5jYW1lcmFUaWx0KSwgdGhpcy5jYW1lcmFGb3YgIT0gbnVsbCAmJiAoaS5jYW1lcmEgPz89IHt9LCBpLmNhbWVyYS5mb3YgPSB0aGlzLmNhbWVyYUZvdiksIHRoaXMuem9vbSAhPT0gdm9pZCAwICYmIChpLnpvb20gPSB0aGlzLnpvb20pLCBpO1xuICB9XG4gIF9tdXRhdGVDYW1lcmEoaSkge1xuICAgIGNvbnN0IGUgPSB0aGlzLnZpZXcuY2FtZXJhLmNsb25lKCk7XG4gICAgaShlKSwgaCh0aGlzLnZpZXcuY2FtZXJhLCBlKSB8fCAodGhpcy52aWV3LmNhbWVyYSA9IGUpO1xuICB9XG59XG5tKFwiYXJjZ2lzLXNjZW5lXCIsIGIpO1xuZXhwb3J0IHtcbiAgYiBhcyBBcmNnaXNTY2VuZVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==