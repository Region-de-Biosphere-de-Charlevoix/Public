"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["node_modules_arcgis_map-components_dist_components_arcgis-search_customElement_js"],{

/***/ "./node_modules/@arcgis/map-components/dist/chunks/useWidget.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/chunks/useWidget.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   m: () => (/* binding */ P)
/* harmony export */ });
/* harmony import */ var _arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @arcgis/components-controllers */ "./node_modules/@arcgis/components-controllers/dist/index.js");
/* harmony import */ var _arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @arcgis/components-controllers/accessor */ "./node_modules/@arcgis/components-controllers/dist/accessor/index.js");
/* harmony import */ var _component_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./component-utils.js */ "./node_modules/@arcgis/map-components/dist/chunks/component-utils.js");



/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
const P = (d, s) => (i, e) => _(i, d, e);
class y extends _arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.AccessorController {
  constructor(s, i, e) {
    super(s, i, e), this._watchedViewModelProperties = /* @__PURE__ */ new Map(), this._watchedVisibleElementsProperties = {}, this._isBindingViewModel = { value: !0 }, Object.defineProperty(this.exports, "viewModel", {
      value: _arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.accessorSupport.makeGetterProxy(s, this._watchedViewModelProperties, this._isBindingViewModel)
    }), Object.defineProperty(this.exports, "visibleElements", {
      value: this._makeVisibleElementsBinder()
    });
  }
  hostConnected() {
    super.hostConnected(), this._isBindingViewModel.value = !1, this.component.manager.loadedCalled && (0,_component_utils_js__WEBPACK_IMPORTED_MODULE_2__.a)(this.component);
  }
  async hostLoad() {
    if (this._watchedProperties.delete("viewModel"), await super.hostLoad(), this.component.manager.destroyed)
      return;
    this._watchMetaProperties(), this.onLifecycle(() => this.reactiveUtils.watch(() => this._instance.viewModel, (e) => {
      this.component.viewModel = e;
    }, { initial: !0 }));
    const s = this._instance.viewModel;
    typeof s == "object" && (_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.accessorSupport.watchComponentUpdates(this, s, this._watchedViewModelProperties), _arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.accessorSupport.watchAccessorUpdates(this, s, this._watchedViewModelProperties));
    const i = Object.entries(this._watchedVisibleElementsProperties);
    i.length > 0 && this.onLifecycle(() => i.map(([e, t]) => {
      let n = this._instance.visibleElements ?? {}, o;
      for (const c of t.slice(0, -1))
        if (typeof n[c] == "object" && n[c] !== null)
          n = n[c];
        else {
          o = !!n[c];
          break;
        }
      o === void 0 && (o = !!(n[t.slice(-1)[0]] ?? !0)), e.startsWith("hide");
      const m = e.startsWith("hide") || e.startsWith("show") ? e.startsWith("hide") : o, h = this.component;
      return typeof h[e] == "boolean" ? this._updateWidgetVisibleElement(t, h[e], m) : h[e] = !1, (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.watch)(this.component, e, (c) => this._updateWidgetVisibleElement(t, c, m));
    }));
  }
  _updateWidgetVisibleElement(s, i, e) {
    let t = this._instance.visibleElements ?? {};
    for (const o of s.slice(0, -1))
      (typeof t[o] != "object" || t[o] === null) && (t[o] = {}), t = t[o];
    const n = !!(e ? !i : i);
    t[s.at(-1)] = n;
  }
  hostLoaded() {
    const { el: s } = this.component;
    s.childElem ??= document.createElement("div"), this._instance.container = s.childElem;
    let i = !1;
    const e = this.component.el.view;
    Object.defineProperty(this.component.el, "view", {
      get: () => this._instance.view ?? this._instance.viewModel?.view,
      set: (t) => {
        !("view" in this._instance) && typeof this._instance.viewModel == "object" ? this._instance.viewModel.view = t : this._instance.view = t, !("map" in this._instance) && typeof this._instance.viewModel == "object" ? this._instance.viewModel.map = t.map : this._instance.map = t.map, this._watchViewDestroy(), t && !i && (i = !0, this.component.arcgisReady.emit());
      },
      configurable: !0,
      enumerable: !0
    }), e && (this._instance.view = e), this.component.el.isConnected && ((0,_component_utils_js__WEBPACK_IMPORTED_MODULE_2__.a)(this.component), this._watchViewDestroy());
  }
  hostDisconnected() {
    typeof this.component.el.childElem == "object" && this.component.el.view?.ui?.remove(this.component.el.childElem);
  }
  hostDestroy() {
    super.hostDestroy(), this._watchViewDestroyHandle?.remove();
  }
  _watchMetaProperties() {
    (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.watch)(this.component, "position", (s) => {
      this.component.el.childElem != null && typeof s == "string" && (0,_component_utils_js__WEBPACK_IMPORTED_MODULE_2__.a)(this.component);
    }), (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.watch)(this.component, "referenceElement", () => (0,_component_utils_js__WEBPACK_IMPORTED_MODULE_2__.a)(this.component));
  }
  _makeVisibleElementsBinder() {
    return new Proxy({}, {
      has: (s, i) => typeof i == "string" || Reflect.has(s, i),
      get: (s, i) => {
        if (typeof i == "symbol" || i in Promise.prototype)
          return Reflect.get(s, i);
        const e = [i], t = this._makeRecursiveProxy(e);
        return (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.trackPropKey)(this.component, (n) => {
          const o = n;
          this.component[o] = !1, this._watchedVisibleElementsProperties[o] = e;
        }, t);
      }
    });
  }
  _makeRecursiveProxy(s) {
    const i = new Proxy({}, {
      get: (e, t) => {
        const n = Reflect.get(e, t);
        return typeof t == "symbol" || t in Promise.prototype ? n : (s.push(t), i);
      }
    });
    return i;
  }
  /**
   * Destroy the component if view gets destroyed.
   *
   * When view is destroyed, component disconnect is triggered, which will
   * destroy the component in 1s but that can be too late, because in the
   * meanwhile, a watcher on the widget/viewModel instance may get triggered,
   * and throw an error if it's not able to access this.view.map or etc
   * (happens in VersionManagementViewModel for example).
   *
   * We can't check for this in disconnectedCallback though as, if the entire
   * component tree is removed, the disconnect for the component will be
   * triggered before that of arcgis-map, so the view might not be destroyed
   * yet at that point.
   */
  _watchViewDestroy() {
    this._watchViewDestroyHandle?.remove(), this._watchViewDestroyHandle = this.reactiveUtils.when(() => this.component.el.view?.destroyed === !0, () => void this.component.destroy().catch(console.error), { sync: !0 });
  }
}
const _ = (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.proxyExports)(y);



/***/ }),

/***/ "./node_modules/@arcgis/map-components/dist/components/arcgis-search/customElement.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/components/arcgis-search/customElement.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArcgisSearch: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/runtime.js */ "./node_modules/@arcgis/map-components/dist/chunks/runtime.js");
/* harmony import */ var _arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @arcgis/components-controllers */ "./node_modules/@arcgis/components-controllers/dist/index.js");
/* harmony import */ var _arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arcgis/components-controllers/accessor */ "./node_modules/@arcgis/components-controllers/dist/accessor/index.js");
/* harmony import */ var _arcgis_core_widgets_Search_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @arcgis/core/widgets/Search.js */ "@arcgis/core/widgets/Search.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/* harmony import */ var _chunks_useWidget_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../chunks/useWidget.js */ "./node_modules/@arcgis/map-components/dist/chunks/useWidget.js");
/* harmony import */ var _lit_reactive_element_css_tag_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @lit/reactive-element/css-tag.js */ "./node_modules/@lit/reactive-element/development/css-tag.js");







/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
const g = (0,_lit_reactive_element_css_tag_js__WEBPACK_IMPORTED_MODULE_6__.css)`@layer{arcgis-search{display:block}}`, d = (0,_chunks_useWidget_js__WEBPACK_IMPORTED_MODULE_5__.m)(_arcgis_core_widgets_Search_js__WEBPACK_IMPORTED_MODULE_3__["default"]);
class u extends _arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.LitElement {
  constructor() {
    super(...arguments), this.widget = d(this), this.viewModel = this.widget.viewModel, this.activeMenu = this.widget.activeMenu, this.activeSource = this.widget.activeSource, this.activeSourceIndex = this.widget.activeSourceIndex, this.allPlaceholder = this.widget.allPlaceholder, this.allSources = this.widget.allSources, this.autoDestroyDisabled = !1, this.autoSelectDisabled = this.widget.autoSelect, this.defaultSources = this.widget.defaultSources, this.disabled = this.widget.disabled, this.icon = this.widget.icon, this.includeDefaultSourcesDisabled = this.widget.includeDefaultSources, this.label = this.widget.label, this.locationDisabled = this.widget.locationEnabled, this.maxResults = this.widget.maxResults, this.maxSuggestions = this.widget.maxSuggestions, this.minSuggestCharacters = this.widget.minSuggestCharacters, this.popupDisabled = this.widget.popupEnabled, this.popupTemplate = this.widget.popupTemplate, this.portal = this.widget.portal, this.position = "top-right", this.resultGraphic = this.widget.resultGraphic, this.resultGraphicDisabled = this.widget.resultGraphicEnabled, this.results = this.widget.results, this.searchAllDisabled = this.widget.searchAllEnabled, this.searchTerm = this.widget.searchTerm, this.selectedResult = this.widget.selectedResult, this.sources = this.widget.sources, this.state = this.viewModel.state, this.suggestions = this.widget.suggestions, this.suggestionsDisabled = this.widget.suggestionsEnabled, this.arcgisBlur = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_2__.reEmitEvent)(() => this.widget, "search-blur"), this.arcgisClear = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_2__.reEmitEvent)(() => this.widget, "search-clear"), this.arcgisComplete = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_2__.reEmitEvent)(() => this.widget, "search-complete"), this.arcgisFocus = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_2__.reEmitEvent)(() => this.widget, "search-focus"), this.arcgisPropertyChange = (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_1__.usePropertyChange)()("state"), this.arcgisReady = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.createEvent)(), this.arcgisSelectResult = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_2__.reEmitEvent)(() => this.widget, "select-result"), this.arcgisStart = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_2__.reEmitEvent)(() => this.widget, "search-start"), this.arcgisSuggestComplete = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_2__.reEmitEvent)(() => this.widget, "suggest-complete"), this.arcgisSuggestStart = (0,_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_2__.reEmitEvent)(() => this.widget, "suggest-start");
  }
  static {
    this.properties = { activeMenu: 1, activeSource: 0, activeSourceIndex: 9, allPlaceholder: 1, allSources: 0, autoDestroyDisabled: 5, autoSelectDisabled: 5, defaultSources: 0, disabled: 7, icon: 1, includeDefaultSourcesDisabled: 5, label: 1, locationDisabled: 5, maxResults: 9, maxSuggestions: 9, minSuggestCharacters: 9, popupDisabled: 5, popupTemplate: 0, portal: 0, position: 1, referenceElement: 1, resultGraphic: 0, resultGraphicDisabled: 5, results: 0, searchAllDisabled: 5, searchTerm: 1, selectedResult: 0, sources: 0, state: 3, suggestions: 0, suggestionsDisabled: 5 };
  }
  static {
    this.shadowRootOptions = _arcgis_lumina__WEBPACK_IMPORTED_MODULE_4__.noShadowRoot;
  }
  static {
    this.styles = g;
  }
  // #endregion
  // #region Public Methods
  async blurSearch() {
    this.widget?.blur();
  }
  async clearSearch() {
    this.widget?.clear();
  }
  /** Permanently destroy the component */
  async destroy() {
    await this.manager.destroy();
  }
  async focusSearch() {
    this.widget?.focus();
  }
  async search(e) {
    return await this.widget?.search(e);
  }
  async suggest(e) {
    return await this.widget?.suggest(e);
  }
}
(0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.c)("arcgis-search", u);



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3Mvbm9kZV9tb2R1bGVzX2FyY2dpc19tYXAtY29tcG9uZW50c19kaXN0X2NvbXBvbmVudHNfYXJjZ2lzLXNlYXJjaF9jdXN0b21FbGVtZW50X2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBa0c7QUFDTTtBQUMxRDtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix1RkFBQztBQUNqQjtBQUNBLDZIQUE2SCwrQkFBK0IsV0FBVztBQUN2SyxhQUFhLG9GQUFDO0FBQ2QsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx1R0FBdUcsc0RBQUM7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJLGFBQWE7QUFDdEI7QUFDQSw2QkFBNkIsb0ZBQUMsbUVBQW1FLG9GQUFDO0FBQ2xHO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0dBQWtHLHFFQUFDO0FBQ25HLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSyxxRUFBcUUsc0RBQUM7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUkscUVBQUM7QUFDTCxxRUFBcUUsc0RBQUM7QUFDdEUsS0FBSyxHQUFHLHFFQUFDLDJDQUEyQyxzREFBQztBQUNyRDtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDRFQUFDO0FBQ2hCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK01BQStNLFVBQVU7QUFDek47QUFDQTtBQUNBLFVBQVUsNEVBQUM7QUFHVDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JIK0M7QUFDdUI7QUFDRztBQUM1QjtBQUN1QztBQUNuQztBQUNTO0FBQzVEO0FBQ0E7QUFDQTtBQUNBLFVBQVUscUVBQUMsUUFBUSxjQUFjLGVBQWUsT0FBTyx1REFBQyxDQUFDLHNFQUFDO0FBQzFELGdCQUFnQixzREFBQztBQUNqQjtBQUNBLHM4Q0FBczhDLG9GQUFDLHVEQUF1RCxvRkFBQywyREFBMkQsb0ZBQUMsMkRBQTJELG9GQUFDLGlFQUFpRSxpRkFBQyxnQ0FBZ0MsMkRBQUMsOEJBQThCLG9GQUFDLHlEQUF5RCxvRkFBQyxrRUFBa0Usb0ZBQUMsbUVBQW1FLG9GQUFDO0FBQzE3RDtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSw2QkFBNkIsd0RBQUM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFDO0FBR0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvbWFwLWNvbXBvbmVudHMvZGlzdC9jaHVua3MvdXNlV2lkZ2V0LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9tYXAtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvYXJjZ2lzLXNlYXJjaC9jdXN0b21FbGVtZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5RXhwb3J0cyBhcyB3LCB3YXRjaCBhcyByLCB0cmFja1Byb3BLZXkgYXMgZiB9IGZyb20gXCJAYXJjZ2lzL2NvbXBvbmVudHMtY29udHJvbGxlcnNcIjtcbmltcG9ydCB7IEFjY2Vzc29yQ29udHJvbGxlciBhcyBwLCBhY2Nlc3NvclN1cHBvcnQgYXMgYSB9IGZyb20gXCJAYXJjZ2lzL2NvbXBvbmVudHMtY29udHJvbGxlcnMvYWNjZXNzb3JcIjtcbmltcG9ydCB7IGEgYXMgbCB9IGZyb20gXCIuL2NvbXBvbmVudC11dGlscy5qc1wiO1xuLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRXNyaSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzIvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxudjQuMzIuMSAqL1xuY29uc3QgUCA9IChkLCBzKSA9PiAoaSwgZSkgPT4gXyhpLCBkLCBlKTtcbmNsYXNzIHkgZXh0ZW5kcyBwIHtcbiAgY29uc3RydWN0b3IocywgaSwgZSkge1xuICAgIHN1cGVyKHMsIGksIGUpLCB0aGlzLl93YXRjaGVkVmlld01vZGVsUHJvcGVydGllcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIHRoaXMuX3dhdGNoZWRWaXNpYmxlRWxlbWVudHNQcm9wZXJ0aWVzID0ge30sIHRoaXMuX2lzQmluZGluZ1ZpZXdNb2RlbCA9IHsgdmFsdWU6ICEwIH0sIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLmV4cG9ydHMsIFwidmlld01vZGVsXCIsIHtcbiAgICAgIHZhbHVlOiBhLm1ha2VHZXR0ZXJQcm94eShzLCB0aGlzLl93YXRjaGVkVmlld01vZGVsUHJvcGVydGllcywgdGhpcy5faXNCaW5kaW5nVmlld01vZGVsKVxuICAgIH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5leHBvcnRzLCBcInZpc2libGVFbGVtZW50c1wiLCB7XG4gICAgICB2YWx1ZTogdGhpcy5fbWFrZVZpc2libGVFbGVtZW50c0JpbmRlcigpXG4gICAgfSk7XG4gIH1cbiAgaG9zdENvbm5lY3RlZCgpIHtcbiAgICBzdXBlci5ob3N0Q29ubmVjdGVkKCksIHRoaXMuX2lzQmluZGluZ1ZpZXdNb2RlbC52YWx1ZSA9ICExLCB0aGlzLmNvbXBvbmVudC5tYW5hZ2VyLmxvYWRlZENhbGxlZCAmJiBsKHRoaXMuY29tcG9uZW50KTtcbiAgfVxuICBhc3luYyBob3N0TG9hZCgpIHtcbiAgICBpZiAodGhpcy5fd2F0Y2hlZFByb3BlcnRpZXMuZGVsZXRlKFwidmlld01vZGVsXCIpLCBhd2FpdCBzdXBlci5ob3N0TG9hZCgpLCB0aGlzLmNvbXBvbmVudC5tYW5hZ2VyLmRlc3Ryb3llZClcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLl93YXRjaE1ldGFQcm9wZXJ0aWVzKCksIHRoaXMub25MaWZlY3ljbGUoKCkgPT4gdGhpcy5yZWFjdGl2ZVV0aWxzLndhdGNoKCgpID0+IHRoaXMuX2luc3RhbmNlLnZpZXdNb2RlbCwgKGUpID0+IHtcbiAgICAgIHRoaXMuY29tcG9uZW50LnZpZXdNb2RlbCA9IGU7XG4gICAgfSwgeyBpbml0aWFsOiAhMCB9KSk7XG4gICAgY29uc3QgcyA9IHRoaXMuX2luc3RhbmNlLnZpZXdNb2RlbDtcbiAgICB0eXBlb2YgcyA9PSBcIm9iamVjdFwiICYmIChhLndhdGNoQ29tcG9uZW50VXBkYXRlcyh0aGlzLCBzLCB0aGlzLl93YXRjaGVkVmlld01vZGVsUHJvcGVydGllcyksIGEud2F0Y2hBY2Nlc3NvclVwZGF0ZXModGhpcywgcywgdGhpcy5fd2F0Y2hlZFZpZXdNb2RlbFByb3BlcnRpZXMpKTtcbiAgICBjb25zdCBpID0gT2JqZWN0LmVudHJpZXModGhpcy5fd2F0Y2hlZFZpc2libGVFbGVtZW50c1Byb3BlcnRpZXMpO1xuICAgIGkubGVuZ3RoID4gMCAmJiB0aGlzLm9uTGlmZWN5Y2xlKCgpID0+IGkubWFwKChbZSwgdF0pID0+IHtcbiAgICAgIGxldCBuID0gdGhpcy5faW5zdGFuY2UudmlzaWJsZUVsZW1lbnRzID8/IHt9LCBvO1xuICAgICAgZm9yIChjb25zdCBjIG9mIHQuc2xpY2UoMCwgLTEpKVxuICAgICAgICBpZiAodHlwZW9mIG5bY10gPT0gXCJvYmplY3RcIiAmJiBuW2NdICE9PSBudWxsKVxuICAgICAgICAgIG4gPSBuW2NdO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBvID0gISFuW2NdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBvID09PSB2b2lkIDAgJiYgKG8gPSAhIShuW3Quc2xpY2UoLTEpWzBdXSA/PyAhMCkpLCBlLnN0YXJ0c1dpdGgoXCJoaWRlXCIpO1xuICAgICAgY29uc3QgbSA9IGUuc3RhcnRzV2l0aChcImhpZGVcIikgfHwgZS5zdGFydHNXaXRoKFwic2hvd1wiKSA/IGUuc3RhcnRzV2l0aChcImhpZGVcIikgOiBvLCBoID0gdGhpcy5jb21wb25lbnQ7XG4gICAgICByZXR1cm4gdHlwZW9mIGhbZV0gPT0gXCJib29sZWFuXCIgPyB0aGlzLl91cGRhdGVXaWRnZXRWaXNpYmxlRWxlbWVudCh0LCBoW2VdLCBtKSA6IGhbZV0gPSAhMSwgcih0aGlzLmNvbXBvbmVudCwgZSwgKGMpID0+IHRoaXMuX3VwZGF0ZVdpZGdldFZpc2libGVFbGVtZW50KHQsIGMsIG0pKTtcbiAgICB9KSk7XG4gIH1cbiAgX3VwZGF0ZVdpZGdldFZpc2libGVFbGVtZW50KHMsIGksIGUpIHtcbiAgICBsZXQgdCA9IHRoaXMuX2luc3RhbmNlLnZpc2libGVFbGVtZW50cyA/PyB7fTtcbiAgICBmb3IgKGNvbnN0IG8gb2Ygcy5zbGljZSgwLCAtMSkpXG4gICAgICAodHlwZW9mIHRbb10gIT0gXCJvYmplY3RcIiB8fCB0W29dID09PSBudWxsKSAmJiAodFtvXSA9IHt9KSwgdCA9IHRbb107XG4gICAgY29uc3QgbiA9ICEhKGUgPyAhaSA6IGkpO1xuICAgIHRbcy5hdCgtMSldID0gbjtcbiAgfVxuICBob3N0TG9hZGVkKCkge1xuICAgIGNvbnN0IHsgZWw6IHMgfSA9IHRoaXMuY29tcG9uZW50O1xuICAgIHMuY2hpbGRFbGVtID8/PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCB0aGlzLl9pbnN0YW5jZS5jb250YWluZXIgPSBzLmNoaWxkRWxlbTtcbiAgICBsZXQgaSA9ICExO1xuICAgIGNvbnN0IGUgPSB0aGlzLmNvbXBvbmVudC5lbC52aWV3O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLmNvbXBvbmVudC5lbCwgXCJ2aWV3XCIsIHtcbiAgICAgIGdldDogKCkgPT4gdGhpcy5faW5zdGFuY2UudmlldyA/PyB0aGlzLl9pbnN0YW5jZS52aWV3TW9kZWw/LnZpZXcsXG4gICAgICBzZXQ6ICh0KSA9PiB7XG4gICAgICAgICEoXCJ2aWV3XCIgaW4gdGhpcy5faW5zdGFuY2UpICYmIHR5cGVvZiB0aGlzLl9pbnN0YW5jZS52aWV3TW9kZWwgPT0gXCJvYmplY3RcIiA/IHRoaXMuX2luc3RhbmNlLnZpZXdNb2RlbC52aWV3ID0gdCA6IHRoaXMuX2luc3RhbmNlLnZpZXcgPSB0LCAhKFwibWFwXCIgaW4gdGhpcy5faW5zdGFuY2UpICYmIHR5cGVvZiB0aGlzLl9pbnN0YW5jZS52aWV3TW9kZWwgPT0gXCJvYmplY3RcIiA/IHRoaXMuX2luc3RhbmNlLnZpZXdNb2RlbC5tYXAgPSB0Lm1hcCA6IHRoaXMuX2luc3RhbmNlLm1hcCA9IHQubWFwLCB0aGlzLl93YXRjaFZpZXdEZXN0cm95KCksIHQgJiYgIWkgJiYgKGkgPSAhMCwgdGhpcy5jb21wb25lbnQuYXJjZ2lzUmVhZHkuZW1pdCgpKTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgZW51bWVyYWJsZTogITBcbiAgICB9KSwgZSAmJiAodGhpcy5faW5zdGFuY2UudmlldyA9IGUpLCB0aGlzLmNvbXBvbmVudC5lbC5pc0Nvbm5lY3RlZCAmJiAobCh0aGlzLmNvbXBvbmVudCksIHRoaXMuX3dhdGNoVmlld0Rlc3Ryb3koKSk7XG4gIH1cbiAgaG9zdERpc2Nvbm5lY3RlZCgpIHtcbiAgICB0eXBlb2YgdGhpcy5jb21wb25lbnQuZWwuY2hpbGRFbGVtID09IFwib2JqZWN0XCIgJiYgdGhpcy5jb21wb25lbnQuZWwudmlldz8udWk/LnJlbW92ZSh0aGlzLmNvbXBvbmVudC5lbC5jaGlsZEVsZW0pO1xuICB9XG4gIGhvc3REZXN0cm95KCkge1xuICAgIHN1cGVyLmhvc3REZXN0cm95KCksIHRoaXMuX3dhdGNoVmlld0Rlc3Ryb3lIYW5kbGU/LnJlbW92ZSgpO1xuICB9XG4gIF93YXRjaE1ldGFQcm9wZXJ0aWVzKCkge1xuICAgIHIodGhpcy5jb21wb25lbnQsIFwicG9zaXRpb25cIiwgKHMpID0+IHtcbiAgICAgIHRoaXMuY29tcG9uZW50LmVsLmNoaWxkRWxlbSAhPSBudWxsICYmIHR5cGVvZiBzID09IFwic3RyaW5nXCIgJiYgbCh0aGlzLmNvbXBvbmVudCk7XG4gICAgfSksIHIodGhpcy5jb21wb25lbnQsIFwicmVmZXJlbmNlRWxlbWVudFwiLCAoKSA9PiBsKHRoaXMuY29tcG9uZW50KSk7XG4gIH1cbiAgX21ha2VWaXNpYmxlRWxlbWVudHNCaW5kZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm94eSh7fSwge1xuICAgICAgaGFzOiAocywgaSkgPT4gdHlwZW9mIGkgPT0gXCJzdHJpbmdcIiB8fCBSZWZsZWN0LmhhcyhzLCBpKSxcbiAgICAgIGdldDogKHMsIGkpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBpID09IFwic3ltYm9sXCIgfHwgaSBpbiBQcm9taXNlLnByb3RvdHlwZSlcbiAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQocywgaSk7XG4gICAgICAgIGNvbnN0IGUgPSBbaV0sIHQgPSB0aGlzLl9tYWtlUmVjdXJzaXZlUHJveHkoZSk7XG4gICAgICAgIHJldHVybiBmKHRoaXMuY29tcG9uZW50LCAobikgPT4ge1xuICAgICAgICAgIGNvbnN0IG8gPSBuO1xuICAgICAgICAgIHRoaXMuY29tcG9uZW50W29dID0gITEsIHRoaXMuX3dhdGNoZWRWaXNpYmxlRWxlbWVudHNQcm9wZXJ0aWVzW29dID0gZTtcbiAgICAgICAgfSwgdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgX21ha2VSZWN1cnNpdmVQcm94eShzKSB7XG4gICAgY29uc3QgaSA9IG5ldyBQcm94eSh7fSwge1xuICAgICAgZ2V0OiAoZSwgdCkgPT4ge1xuICAgICAgICBjb25zdCBuID0gUmVmbGVjdC5nZXQoZSwgdCk7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdCA9PSBcInN5bWJvbFwiIHx8IHQgaW4gUHJvbWlzZS5wcm90b3R5cGUgPyBuIDogKHMucHVzaCh0KSwgaSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGk7XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3kgdGhlIGNvbXBvbmVudCBpZiB2aWV3IGdldHMgZGVzdHJveWVkLlxuICAgKlxuICAgKiBXaGVuIHZpZXcgaXMgZGVzdHJveWVkLCBjb21wb25lbnQgZGlzY29ubmVjdCBpcyB0cmlnZ2VyZWQsIHdoaWNoIHdpbGxcbiAgICogZGVzdHJveSB0aGUgY29tcG9uZW50IGluIDFzIGJ1dCB0aGF0IGNhbiBiZSB0b28gbGF0ZSwgYmVjYXVzZSBpbiB0aGVcbiAgICogbWVhbndoaWxlLCBhIHdhdGNoZXIgb24gdGhlIHdpZGdldC92aWV3TW9kZWwgaW5zdGFuY2UgbWF5IGdldCB0cmlnZ2VyZWQsXG4gICAqIGFuZCB0aHJvdyBhbiBlcnJvciBpZiBpdCdzIG5vdCBhYmxlIHRvIGFjY2VzcyB0aGlzLnZpZXcubWFwIG9yIGV0Y1xuICAgKiAoaGFwcGVucyBpbiBWZXJzaW9uTWFuYWdlbWVudFZpZXdNb2RlbCBmb3IgZXhhbXBsZSkuXG4gICAqXG4gICAqIFdlIGNhbid0IGNoZWNrIGZvciB0aGlzIGluIGRpc2Nvbm5lY3RlZENhbGxiYWNrIHRob3VnaCBhcywgaWYgdGhlIGVudGlyZVxuICAgKiBjb21wb25lbnQgdHJlZSBpcyByZW1vdmVkLCB0aGUgZGlzY29ubmVjdCBmb3IgdGhlIGNvbXBvbmVudCB3aWxsIGJlXG4gICAqIHRyaWdnZXJlZCBiZWZvcmUgdGhhdCBvZiBhcmNnaXMtbWFwLCBzbyB0aGUgdmlldyBtaWdodCBub3QgYmUgZGVzdHJveWVkXG4gICAqIHlldCBhdCB0aGF0IHBvaW50LlxuICAgKi9cbiAgX3dhdGNoVmlld0Rlc3Ryb3koKSB7XG4gICAgdGhpcy5fd2F0Y2hWaWV3RGVzdHJveUhhbmRsZT8ucmVtb3ZlKCksIHRoaXMuX3dhdGNoVmlld0Rlc3Ryb3lIYW5kbGUgPSB0aGlzLnJlYWN0aXZlVXRpbHMud2hlbigoKSA9PiB0aGlzLmNvbXBvbmVudC5lbC52aWV3Py5kZXN0cm95ZWQgPT09ICEwLCAoKSA9PiB2b2lkIHRoaXMuY29tcG9uZW50LmRlc3Ryb3koKS5jYXRjaChjb25zb2xlLmVycm9yKSwgeyBzeW5jOiAhMCB9KTtcbiAgfVxufVxuY29uc3QgXyA9IHcoeSk7XG5leHBvcnQge1xuICBQIGFzIG1cbn07XG4iLCJpbXBvcnQgeyBjIGFzIHMgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IHVzZVByb3BlcnR5Q2hhbmdlIGFzIGkgfSBmcm9tIFwiQGFyY2dpcy9jb21wb25lbnRzLWNvbnRyb2xsZXJzXCI7XG5pbXBvcnQgeyByZUVtaXRFdmVudCBhcyB0IH0gZnJvbSBcIkBhcmNnaXMvY29tcG9uZW50cy1jb250cm9sbGVycy9hY2Nlc3NvclwiO1xuaW1wb3J0IGEgZnJvbSBcIkBhcmNnaXMvY29yZS93aWRnZXRzL1NlYXJjaC5qc1wiO1xuaW1wb3J0IHsgTGl0RWxlbWVudCBhcyByLCBjcmVhdGVFdmVudCBhcyBoLCBub1NoYWRvd1Jvb3QgYXMgbCB9IGZyb20gXCJAYXJjZ2lzL2x1bWluYVwiO1xuaW1wb3J0IHsgbSBhcyBjIH0gZnJvbSBcIi4uLy4uL2NodW5rcy91c2VXaWRnZXQuanNcIjtcbmltcG9ydCB7IGNzcyBhcyBvIH0gZnJvbSBcIkBsaXQvcmVhY3RpdmUtZWxlbWVudC9jc3MtdGFnLmpzXCI7XG4vKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFc3JpLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMi9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG52NC4zMi4xICovXG5jb25zdCBnID0gb2BAbGF5ZXJ7YXJjZ2lzLXNlYXJjaHtkaXNwbGF5OmJsb2NrfX1gLCBkID0gYyhhKTtcbmNsYXNzIHUgZXh0ZW5kcyByIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy53aWRnZXQgPSBkKHRoaXMpLCB0aGlzLnZpZXdNb2RlbCA9IHRoaXMud2lkZ2V0LnZpZXdNb2RlbCwgdGhpcy5hY3RpdmVNZW51ID0gdGhpcy53aWRnZXQuYWN0aXZlTWVudSwgdGhpcy5hY3RpdmVTb3VyY2UgPSB0aGlzLndpZGdldC5hY3RpdmVTb3VyY2UsIHRoaXMuYWN0aXZlU291cmNlSW5kZXggPSB0aGlzLndpZGdldC5hY3RpdmVTb3VyY2VJbmRleCwgdGhpcy5hbGxQbGFjZWhvbGRlciA9IHRoaXMud2lkZ2V0LmFsbFBsYWNlaG9sZGVyLCB0aGlzLmFsbFNvdXJjZXMgPSB0aGlzLndpZGdldC5hbGxTb3VyY2VzLCB0aGlzLmF1dG9EZXN0cm95RGlzYWJsZWQgPSAhMSwgdGhpcy5hdXRvU2VsZWN0RGlzYWJsZWQgPSB0aGlzLndpZGdldC5hdXRvU2VsZWN0LCB0aGlzLmRlZmF1bHRTb3VyY2VzID0gdGhpcy53aWRnZXQuZGVmYXVsdFNvdXJjZXMsIHRoaXMuZGlzYWJsZWQgPSB0aGlzLndpZGdldC5kaXNhYmxlZCwgdGhpcy5pY29uID0gdGhpcy53aWRnZXQuaWNvbiwgdGhpcy5pbmNsdWRlRGVmYXVsdFNvdXJjZXNEaXNhYmxlZCA9IHRoaXMud2lkZ2V0LmluY2x1ZGVEZWZhdWx0U291cmNlcywgdGhpcy5sYWJlbCA9IHRoaXMud2lkZ2V0LmxhYmVsLCB0aGlzLmxvY2F0aW9uRGlzYWJsZWQgPSB0aGlzLndpZGdldC5sb2NhdGlvbkVuYWJsZWQsIHRoaXMubWF4UmVzdWx0cyA9IHRoaXMud2lkZ2V0Lm1heFJlc3VsdHMsIHRoaXMubWF4U3VnZ2VzdGlvbnMgPSB0aGlzLndpZGdldC5tYXhTdWdnZXN0aW9ucywgdGhpcy5taW5TdWdnZXN0Q2hhcmFjdGVycyA9IHRoaXMud2lkZ2V0Lm1pblN1Z2dlc3RDaGFyYWN0ZXJzLCB0aGlzLnBvcHVwRGlzYWJsZWQgPSB0aGlzLndpZGdldC5wb3B1cEVuYWJsZWQsIHRoaXMucG9wdXBUZW1wbGF0ZSA9IHRoaXMud2lkZ2V0LnBvcHVwVGVtcGxhdGUsIHRoaXMucG9ydGFsID0gdGhpcy53aWRnZXQucG9ydGFsLCB0aGlzLnBvc2l0aW9uID0gXCJ0b3AtcmlnaHRcIiwgdGhpcy5yZXN1bHRHcmFwaGljID0gdGhpcy53aWRnZXQucmVzdWx0R3JhcGhpYywgdGhpcy5yZXN1bHRHcmFwaGljRGlzYWJsZWQgPSB0aGlzLndpZGdldC5yZXN1bHRHcmFwaGljRW5hYmxlZCwgdGhpcy5yZXN1bHRzID0gdGhpcy53aWRnZXQucmVzdWx0cywgdGhpcy5zZWFyY2hBbGxEaXNhYmxlZCA9IHRoaXMud2lkZ2V0LnNlYXJjaEFsbEVuYWJsZWQsIHRoaXMuc2VhcmNoVGVybSA9IHRoaXMud2lkZ2V0LnNlYXJjaFRlcm0sIHRoaXMuc2VsZWN0ZWRSZXN1bHQgPSB0aGlzLndpZGdldC5zZWxlY3RlZFJlc3VsdCwgdGhpcy5zb3VyY2VzID0gdGhpcy53aWRnZXQuc291cmNlcywgdGhpcy5zdGF0ZSA9IHRoaXMudmlld01vZGVsLnN0YXRlLCB0aGlzLnN1Z2dlc3Rpb25zID0gdGhpcy53aWRnZXQuc3VnZ2VzdGlvbnMsIHRoaXMuc3VnZ2VzdGlvbnNEaXNhYmxlZCA9IHRoaXMud2lkZ2V0LnN1Z2dlc3Rpb25zRW5hYmxlZCwgdGhpcy5hcmNnaXNCbHVyID0gdCgoKSA9PiB0aGlzLndpZGdldCwgXCJzZWFyY2gtYmx1clwiKSwgdGhpcy5hcmNnaXNDbGVhciA9IHQoKCkgPT4gdGhpcy53aWRnZXQsIFwic2VhcmNoLWNsZWFyXCIpLCB0aGlzLmFyY2dpc0NvbXBsZXRlID0gdCgoKSA9PiB0aGlzLndpZGdldCwgXCJzZWFyY2gtY29tcGxldGVcIiksIHRoaXMuYXJjZ2lzRm9jdXMgPSB0KCgpID0+IHRoaXMud2lkZ2V0LCBcInNlYXJjaC1mb2N1c1wiKSwgdGhpcy5hcmNnaXNQcm9wZXJ0eUNoYW5nZSA9IGkoKShcInN0YXRlXCIpLCB0aGlzLmFyY2dpc1JlYWR5ID0gaCgpLCB0aGlzLmFyY2dpc1NlbGVjdFJlc3VsdCA9IHQoKCkgPT4gdGhpcy53aWRnZXQsIFwic2VsZWN0LXJlc3VsdFwiKSwgdGhpcy5hcmNnaXNTdGFydCA9IHQoKCkgPT4gdGhpcy53aWRnZXQsIFwic2VhcmNoLXN0YXJ0XCIpLCB0aGlzLmFyY2dpc1N1Z2dlc3RDb21wbGV0ZSA9IHQoKCkgPT4gdGhpcy53aWRnZXQsIFwic3VnZ2VzdC1jb21wbGV0ZVwiKSwgdGhpcy5hcmNnaXNTdWdnZXN0U3RhcnQgPSB0KCgpID0+IHRoaXMud2lkZ2V0LCBcInN1Z2dlc3Qtc3RhcnRcIik7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLnByb3BlcnRpZXMgPSB7IGFjdGl2ZU1lbnU6IDEsIGFjdGl2ZVNvdXJjZTogMCwgYWN0aXZlU291cmNlSW5kZXg6IDksIGFsbFBsYWNlaG9sZGVyOiAxLCBhbGxTb3VyY2VzOiAwLCBhdXRvRGVzdHJveURpc2FibGVkOiA1LCBhdXRvU2VsZWN0RGlzYWJsZWQ6IDUsIGRlZmF1bHRTb3VyY2VzOiAwLCBkaXNhYmxlZDogNywgaWNvbjogMSwgaW5jbHVkZURlZmF1bHRTb3VyY2VzRGlzYWJsZWQ6IDUsIGxhYmVsOiAxLCBsb2NhdGlvbkRpc2FibGVkOiA1LCBtYXhSZXN1bHRzOiA5LCBtYXhTdWdnZXN0aW9uczogOSwgbWluU3VnZ2VzdENoYXJhY3RlcnM6IDksIHBvcHVwRGlzYWJsZWQ6IDUsIHBvcHVwVGVtcGxhdGU6IDAsIHBvcnRhbDogMCwgcG9zaXRpb246IDEsIHJlZmVyZW5jZUVsZW1lbnQ6IDEsIHJlc3VsdEdyYXBoaWM6IDAsIHJlc3VsdEdyYXBoaWNEaXNhYmxlZDogNSwgcmVzdWx0czogMCwgc2VhcmNoQWxsRGlzYWJsZWQ6IDUsIHNlYXJjaFRlcm06IDEsIHNlbGVjdGVkUmVzdWx0OiAwLCBzb3VyY2VzOiAwLCBzdGF0ZTogMywgc3VnZ2VzdGlvbnM6IDAsIHN1Z2dlc3Rpb25zRGlzYWJsZWQ6IDUgfTtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMuc2hhZG93Um9vdE9wdGlvbnMgPSBsO1xuICB9XG4gIHN0YXRpYyB7XG4gICAgdGhpcy5zdHlsZXMgPSBnO1xuICB9XG4gIC8vICNlbmRyZWdpb25cbiAgLy8gI3JlZ2lvbiBQdWJsaWMgTWV0aG9kc1xuICBhc3luYyBibHVyU2VhcmNoKCkge1xuICAgIHRoaXMud2lkZ2V0Py5ibHVyKCk7XG4gIH1cbiAgYXN5bmMgY2xlYXJTZWFyY2goKSB7XG4gICAgdGhpcy53aWRnZXQ/LmNsZWFyKCk7XG4gIH1cbiAgLyoqIFBlcm1hbmVudGx5IGRlc3Ryb3kgdGhlIGNvbXBvbmVudCAqL1xuICBhc3luYyBkZXN0cm95KCkge1xuICAgIGF3YWl0IHRoaXMubWFuYWdlci5kZXN0cm95KCk7XG4gIH1cbiAgYXN5bmMgZm9jdXNTZWFyY2goKSB7XG4gICAgdGhpcy53aWRnZXQ/LmZvY3VzKCk7XG4gIH1cbiAgYXN5bmMgc2VhcmNoKGUpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy53aWRnZXQ/LnNlYXJjaChlKTtcbiAgfVxuICBhc3luYyBzdWdnZXN0KGUpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy53aWRnZXQ/LnN1Z2dlc3QoZSk7XG4gIH1cbn1cbnMoXCJhcmNnaXMtc2VhcmNoXCIsIHUpO1xuZXhwb3J0IHtcbiAgdSBhcyBBcmNnaXNTZWFyY2hcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=