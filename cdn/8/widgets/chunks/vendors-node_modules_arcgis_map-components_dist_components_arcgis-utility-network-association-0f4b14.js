"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_map-components_dist_components_arcgis-utility-network-association-0f4b14"],{

/***/ "./node_modules/@arcgis/map-components/dist/chunks/useWidget.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/chunks/useWidget.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   m: () => (/* binding */ P)
/* harmony export */ });
/* harmony import */ var _arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @arcgis/components-controllers */ "./node_modules/@arcgis/components-controllers/dist/index.js");
/* harmony import */ var _arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @arcgis/components-controllers/accessor */ "./node_modules/@arcgis/components-controllers/dist/accessor/index.js");
/* harmony import */ var _component_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./component-utils.js */ "./node_modules/@arcgis/map-components/dist/chunks/component-utils.js");



/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
const P = (d, s) => (i, e) => _(i, d, e);
class y extends _arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.AccessorController {
  constructor(s, i, e) {
    super(s, i, e), this._watchedViewModelProperties = /* @__PURE__ */ new Map(), this._watchedVisibleElementsProperties = {}, this._isBindingViewModel = { value: !0 }, Object.defineProperty(this.exports, "viewModel", {
      value: _arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.accessorSupport.makeGetterProxy(s, this._watchedViewModelProperties, this._isBindingViewModel)
    }), Object.defineProperty(this.exports, "visibleElements", {
      value: this._makeVisibleElementsBinder()
    });
  }
  hostConnected() {
    super.hostConnected(), this._isBindingViewModel.value = !1, this.component.manager.loadedCalled && (0,_component_utils_js__WEBPACK_IMPORTED_MODULE_2__.a)(this.component);
  }
  async hostLoad() {
    if (this._watchedProperties.delete("viewModel"), await super.hostLoad(), this.component.manager.destroyed)
      return;
    this._watchMetaProperties(), this.onLifecycle(() => this.reactiveUtils.watch(() => this._instance.viewModel, (e) => {
      this.component.viewModel = e;
    }, { initial: !0 }));
    const s = this._instance.viewModel;
    typeof s == "object" && (_arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.accessorSupport.watchComponentUpdates(this, s, this._watchedViewModelProperties), _arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.accessorSupport.watchAccessorUpdates(this, s, this._watchedViewModelProperties));
    const i = Object.entries(this._watchedVisibleElementsProperties);
    i.length > 0 && this.onLifecycle(() => i.map(([e, t]) => {
      let n = this._instance.visibleElements ?? {}, o;
      for (const c of t.slice(0, -1))
        if (typeof n[c] == "object" && n[c] !== null)
          n = n[c];
        else {
          o = !!n[c];
          break;
        }
      o === void 0 && (o = !!(n[t.slice(-1)[0]] ?? !0)), e.startsWith("hide");
      const m = e.startsWith("hide") || e.startsWith("show") ? e.startsWith("hide") : o, h = this.component;
      return typeof h[e] == "boolean" ? this._updateWidgetVisibleElement(t, h[e], m) : h[e] = !1, (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.watch)(this.component, e, (c) => this._updateWidgetVisibleElement(t, c, m));
    }));
  }
  _updateWidgetVisibleElement(s, i, e) {
    let t = this._instance.visibleElements ?? {};
    for (const o of s.slice(0, -1))
      (typeof t[o] != "object" || t[o] === null) && (t[o] = {}), t = t[o];
    const n = !!(e ? !i : i);
    t[s.at(-1)] = n;
  }
  hostLoaded() {
    const { el: s } = this.component;
    s.childElem ??= document.createElement("div"), this._instance.container = s.childElem;
    let i = !1;
    const e = this.component.el.view;
    Object.defineProperty(this.component.el, "view", {
      get: () => this._instance.view ?? this._instance.viewModel?.view,
      set: (t) => {
        !("view" in this._instance) && typeof this._instance.viewModel == "object" ? this._instance.viewModel.view = t : this._instance.view = t, !("map" in this._instance) && typeof this._instance.viewModel == "object" ? this._instance.viewModel.map = t.map : this._instance.map = t.map, this._watchViewDestroy(), t && !i && (i = !0, this.component.arcgisReady.emit());
      },
      configurable: !0,
      enumerable: !0
    }), e && (this._instance.view = e), this.component.el.isConnected && ((0,_component_utils_js__WEBPACK_IMPORTED_MODULE_2__.a)(this.component), this._watchViewDestroy());
  }
  hostDisconnected() {
    typeof this.component.el.childElem == "object" && this.component.el.view?.ui?.remove(this.component.el.childElem);
  }
  hostDestroy() {
    super.hostDestroy(), this._watchViewDestroyHandle?.remove();
  }
  _watchMetaProperties() {
    (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.watch)(this.component, "position", (s) => {
      this.component.el.childElem != null && typeof s == "string" && (0,_component_utils_js__WEBPACK_IMPORTED_MODULE_2__.a)(this.component);
    }), (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.watch)(this.component, "referenceElement", () => (0,_component_utils_js__WEBPACK_IMPORTED_MODULE_2__.a)(this.component));
  }
  _makeVisibleElementsBinder() {
    return new Proxy({}, {
      has: (s, i) => typeof i == "string" || Reflect.has(s, i),
      get: (s, i) => {
        if (typeof i == "symbol" || i in Promise.prototype)
          return Reflect.get(s, i);
        const e = [i], t = this._makeRecursiveProxy(e);
        return (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.trackPropKey)(this.component, (n) => {
          const o = n;
          this.component[o] = !1, this._watchedVisibleElementsProperties[o] = e;
        }, t);
      }
    });
  }
  _makeRecursiveProxy(s) {
    const i = new Proxy({}, {
      get: (e, t) => {
        const n = Reflect.get(e, t);
        return typeof t == "symbol" || t in Promise.prototype ? n : (s.push(t), i);
      }
    });
    return i;
  }
  /**
   * Destroy the component if view gets destroyed.
   *
   * When view is destroyed, component disconnect is triggered, which will
   * destroy the component in 1s but that can be too late, because in the
   * meanwhile, a watcher on the widget/viewModel instance may get triggered,
   * and throw an error if it's not able to access this.view.map or etc
   * (happens in VersionManagementViewModel for example).
   *
   * We can't check for this in disconnectedCallback though as, if the entire
   * component tree is removed, the disconnect for the component will be
   * triggered before that of arcgis-map, so the view might not be destroyed
   * yet at that point.
   */
  _watchViewDestroy() {
    this._watchViewDestroyHandle?.remove(), this._watchViewDestroyHandle = this.reactiveUtils.when(() => this.component.el.view?.destroyed === !0, () => void this.component.destroy().catch(console.error), { sync: !0 });
  }
}
const _ = (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.proxyExports)(y);



/***/ }),

/***/ "./node_modules/@arcgis/map-components/dist/components/arcgis-utility-network-associations/customElement.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/components/arcgis-utility-network-associations/customElement.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArcgisUtilityNetworkAssociations: () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/runtime.js */ "./node_modules/@arcgis/map-components/dist/chunks/runtime.js");
/* harmony import */ var _arcgis_core_widgets_UtilityNetworkAssociations_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @arcgis/core/widgets/UtilityNetworkAssociations.js */ "@arcgis/core/widgets/UtilityNetworkAssociations.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/* harmony import */ var _chunks_useWidget_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chunks/useWidget.js */ "./node_modules/@arcgis/map-components/dist/chunks/useWidget.js");




/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
const S = (0,_chunks_useWidget_js__WEBPACK_IMPORTED_MODULE_3__.m)(_arcgis_core_widgets_UtilityNetworkAssociations_js__WEBPACK_IMPORTED_MODULE_1__["default"]);
class g extends _arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.LitElement {
  constructor() {
    super(...arguments), this.widget = S(this), this.viewModel = this.widget.viewModel, this.autoDestroyDisabled = !1, this.autoRefreshAssociationsDisabled = this.widget.autoRefreshAssociations, this.connectivityAssociationsLineSymbol = this.widget.connectivityAssociationsLineSymbol, this.includeConnectivityAssociationsDisabled = this.widget.includeConnectivityAssociations, this.includeStructuralAttachmentAssociationsDisabled = this.widget.includeStructuralAttachmentAssociations, this.maxAllowableAssociations = this.widget.maxAllowableAssociations, this.maxAllowableAssociationsSliderMax = this.widget.maxAllowableAssociationsSliderMax, this.maxAllowableAssociationsSliderMin = this.widget.maxAllowableAssociationsSliderMin, this.maxAllowableAssociationsSliderStep = this.widget.maxAllowableAssociationsSliderStep, this.position = "bottom-left", this.showArrowsConnectivity = this.widget.showArrowsConnectivity, this.showArrowsStructuralAttachment = this.widget.showArrowsStructuralAttachment, this.showAssociationsEnabled = this.widget.showAssociationsEnabled, this.structuralAttachmentAssociationsLineSymbol = this.widget.structuralAttachmentAssociationsLineSymbol, this.utilityNetwork = this.widget.utilityNetwork, this.showConnectivityAssociationsSettingsArrowsToggle = this.widget.visibleElements.connectivityAssociationsSettings.arrowsToggle, this.visibleElementsConnectivityAssociationsSettingsArrowsToggle = !1, this.showConnectivityAssociationsSettingsCapSelect = this.widget.visibleElements.connectivityAssociationsSettings.capSelect, this.visibleElementsConnectivityAssociationsSettingsCapSelect = !1, this.hideConnectivityAssociationsSettingsColorPicker = this.widget.visibleElements.connectivityAssociationsSettings.colorPicker, this.visibleElementsConnectivityAssociationsSettingsColorPicker = !0, this.hideConnectivityAssociationsSettingsStylePicker = this.widget.visibleElements.connectivityAssociationsSettings.stylePicker, this.visibleElementsConnectivityAssociationsSettingsStylePicker = !0, this.hideConnectivityAssociationsSettingsWidthInput = this.widget.visibleElements.connectivityAssociationsSettings.widthInput, this.visibleElementsConnectivityAssociationsSettingsWidthInput = !0, this.showMaxAllowableAssociationsSlider = this.widget.visibleElements.maxAllowableAssociationsSlider, this.visibleElementsMaxAllowableAssociationsSlider = !1, this.showStructuralAttachmentAssociationsSettingsArrowsToggle = this.widget.visibleElements.structuralAttachmentAssociationsSettings.arrowsToggle, this.visibleElementsStructuralAttachmentAssociationsSettingsArrowsToggle = !1, this.showStructuralAttachmentAssociationsSettingsCapSelect = this.widget.visibleElements.structuralAttachmentAssociationsSettings.capSelect, this.visibleElementsStructuralAttachmentAssociationsSettingsCapSelect = !1, this.hideStructuralAttachmentAssociationsSettingsColorPicker = this.widget.visibleElements.structuralAttachmentAssociationsSettings.colorPicker, this.visibleElementsStructuralAttachmentAssociationsSettingsColorPicker = !0, this.hideStructuralAttachmentAssociationsSettingsStylePicker = this.widget.visibleElements.structuralAttachmentAssociationsSettings.stylePicker, this.visibleElementsStructuralAttachmentAssociationsSettingsStylePicker = !0, this.hideStructuralAttachmentAssociationsSettingsWidthInput = this.widget.visibleElements.structuralAttachmentAssociationsSettings.widthInput, this.visibleElementsStructuralAttachmentAssociationsSettingsWidthInput = !0, this.icon = this.widget.icon, this.label = this.widget.label, this.arcgisReady = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.createEvent)();
  }
  static {
    this.properties = { autoDestroyDisabled: 5, autoRefreshAssociationsDisabled: 5, connectivityAssociationsLineSymbol: 0, includeConnectivityAssociationsDisabled: 5, includeStructuralAttachmentAssociationsDisabled: 5, maxAllowableAssociations: 9, maxAllowableAssociationsSliderMax: 9, maxAllowableAssociationsSliderMin: 9, maxAllowableAssociationsSliderStep: 9, position: 1, referenceElement: 1, showArrowsConnectivity: 5, showArrowsStructuralAttachment: 5, showAssociationsEnabled: 5, structuralAttachmentAssociationsLineSymbol: 0, utilityNetwork: 0, showConnectivityAssociationsSettingsArrowsToggle: 5, visibleElementsConnectivityAssociationsSettingsArrowsToggle: 5, showConnectivityAssociationsSettingsCapSelect: 5, visibleElementsConnectivityAssociationsSettingsCapSelect: 5, hideConnectivityAssociationsSettingsColorPicker: 5, visibleElementsConnectivityAssociationsSettingsColorPicker: 5, hideConnectivityAssociationsSettingsStylePicker: 5, visibleElementsConnectivityAssociationsSettingsStylePicker: 5, hideConnectivityAssociationsSettingsWidthInput: 5, visibleElementsConnectivityAssociationsSettingsWidthInput: 5, showMaxAllowableAssociationsSlider: 5, visibleElementsMaxAllowableAssociationsSlider: 5, showStructuralAttachmentAssociationsSettingsArrowsToggle: 5, visibleElementsStructuralAttachmentAssociationsSettingsArrowsToggle: 5, showStructuralAttachmentAssociationsSettingsCapSelect: 5, visibleElementsStructuralAttachmentAssociationsSettingsCapSelect: 5, hideStructuralAttachmentAssociationsSettingsColorPicker: 5, visibleElementsStructuralAttachmentAssociationsSettingsColorPicker: 5, hideStructuralAttachmentAssociationsSettingsStylePicker: 5, visibleElementsStructuralAttachmentAssociationsSettingsStylePicker: 5, hideStructuralAttachmentAssociationsSettingsWidthInput: 5, visibleElementsStructuralAttachmentAssociationsSettingsWidthInput: 5, icon: 1, label: 1 };
  }
  static {
    this.shadowRootOptions = _arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.noShadowRoot;
  }
  //#endregion
  //#region Public Methods
  /** Permanently destroy the component */
  async destroy() {
    await this.manager.destroy();
  }
  //#endregion
  //#region Lifecycle
  async load() {
    if (this.el.view?.map && this.el.view.map.portalItem) {
      await this.el.view.map.load();
      const t = this.el.view.map.utilityNetworks?.getItemAt(0);
      await t?.load(), this.utilityNetwork = t;
    }
  }
  willUpdate(t) {
    this._handleVisibilityChange(t, "ConnectivityAssociationsSettingsArrowsToggle"), this._handleVisibilityChange(t, "ConnectivityAssociationsSettingsCapSelect"), this._handleVisibilityChange(t, "ConnectivityAssociationsSettingsColorPicker"), this._handleVisibilityChange(t, "ConnectivityAssociationsSettingsStylePicker"), this._handleVisibilityChange(t, "ConnectivityAssociationsSettingsWidthInput"), this._handleVisibilityChange(t, "MaxAllowableAssociationsSlider"), this._handleVisibilityChange(t, "StructuralAttachmentAssociationsSettingsArrowsToggle"), this._handleVisibilityChange(t, "StructuralAttachmentAssociationsSettingsCapSelect"), this._handleVisibilityChange(t, "StructuralAttachmentAssociationsSettingsStylePicker"), this._handleVisibilityChange(t, "StructuralAttachmentAssociationsSettingsWidthInput");
  }
  //#endregion
  //#region Private Methods
  _handleVisibilityChange(t, n) {
    const s = `show${n}`, o = `hide${n}`, e = `visibleElements${n}`, i = this;
    t.has(s) ? i[e] = !!i[s] : t.has(o) ? i[e] = !i[o] : t.has(e) && (console.warn(`${this.el.tagName.toLowerCase()}: The property ${e} is deprecated. Use ${s in i ? s : o} instead.`), s in i ? i[s] = !!i[e] : o in i && (i[o] = !i[e]));
  }
}
(0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.c)("arcgis-utility-network-associations", g);



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvdmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX21hcC1jb21wb25lbnRzX2Rpc3RfY29tcG9uZW50c19hcmNnaXMtdXRpbGl0eS1uZXR3b3JrLWFzc29jaWF0aW9uLTBmNGIxNC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQWtHO0FBQ007QUFDMUQ7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsdUZBQUM7QUFDakI7QUFDQSw2SEFBNkgsK0JBQStCLFdBQVc7QUFDdkssYUFBYSxvRkFBQztBQUNkLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsdUdBQXVHLHNEQUFDO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssSUFBSSxhQUFhO0FBQ3RCO0FBQ0EsNkJBQTZCLG9GQUFDLG1FQUFtRSxvRkFBQztBQUNsRztBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtHQUFrRyxxRUFBQztBQUNuRyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQ7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUsscUVBQXFFLHNEQUFDO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHFFQUFDO0FBQ0wscUVBQXFFLHNEQUFDO0FBQ3RFLEtBQUssR0FBRyxxRUFBQywyQ0FBMkMsc0RBQUM7QUFDckQ7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw0RUFBQztBQUNoQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtNQUErTSxVQUFVO0FBQ3pOO0FBQ0E7QUFDQSxVQUFVLDRFQUFDO0FBR1Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNySCtDO0FBQ2tCO0FBQ21CO0FBQ25DO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLFVBQVUsdURBQUMsQ0FBQywwRkFBQztBQUNiLGdCQUFnQixzREFBQztBQUNqQjtBQUNBLDArR0FBMCtHLDJEQUFDO0FBQzMrRztBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSw2QkFBNkIsd0RBQUM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsRUFBRSxjQUFjLEVBQUUseUJBQXlCLEVBQUU7QUFDbEUsc0ZBQXNGLDhCQUE4QixpQkFBaUIsR0FBRyxxQkFBcUIsZ0JBQWdCO0FBQzdLO0FBQ0E7QUFDQSxxREFBQztBQUdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL21hcC1jb21wb25lbnRzL2Rpc3QvY2h1bmtzL3VzZVdpZGdldC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvbWFwLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2FyY2dpcy11dGlsaXR5LW5ldHdvcmstYXNzb2NpYXRpb25zL2N1c3RvbUVsZW1lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHlFeHBvcnRzIGFzIHcsIHdhdGNoIGFzIHIsIHRyYWNrUHJvcEtleSBhcyBmIH0gZnJvbSBcIkBhcmNnaXMvY29tcG9uZW50cy1jb250cm9sbGVyc1wiO1xuaW1wb3J0IHsgQWNjZXNzb3JDb250cm9sbGVyIGFzIHAsIGFjY2Vzc29yU3VwcG9ydCBhcyBhIH0gZnJvbSBcIkBhcmNnaXMvY29tcG9uZW50cy1jb250cm9sbGVycy9hY2Nlc3NvclwiO1xuaW1wb3J0IHsgYSBhcyBsIH0gZnJvbSBcIi4vY29tcG9uZW50LXV0aWxzLmpzXCI7XG4vKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFc3JpLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMi9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG52NC4zMi4xICovXG5jb25zdCBQID0gKGQsIHMpID0+IChpLCBlKSA9PiBfKGksIGQsIGUpO1xuY2xhc3MgeSBleHRlbmRzIHAge1xuICBjb25zdHJ1Y3RvcihzLCBpLCBlKSB7XG4gICAgc3VwZXIocywgaSwgZSksIHRoaXMuX3dhdGNoZWRWaWV3TW9kZWxQcm9wZXJ0aWVzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSwgdGhpcy5fd2F0Y2hlZFZpc2libGVFbGVtZW50c1Byb3BlcnRpZXMgPSB7fSwgdGhpcy5faXNCaW5kaW5nVmlld01vZGVsID0geyB2YWx1ZTogITAgfSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuZXhwb3J0cywgXCJ2aWV3TW9kZWxcIiwge1xuICAgICAgdmFsdWU6IGEubWFrZUdldHRlclByb3h5KHMsIHRoaXMuX3dhdGNoZWRWaWV3TW9kZWxQcm9wZXJ0aWVzLCB0aGlzLl9pc0JpbmRpbmdWaWV3TW9kZWwpXG4gICAgfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLmV4cG9ydHMsIFwidmlzaWJsZUVsZW1lbnRzXCIsIHtcbiAgICAgIHZhbHVlOiB0aGlzLl9tYWtlVmlzaWJsZUVsZW1lbnRzQmluZGVyKClcbiAgICB9KTtcbiAgfVxuICBob3N0Q29ubmVjdGVkKCkge1xuICAgIHN1cGVyLmhvc3RDb25uZWN0ZWQoKSwgdGhpcy5faXNCaW5kaW5nVmlld01vZGVsLnZhbHVlID0gITEsIHRoaXMuY29tcG9uZW50Lm1hbmFnZXIubG9hZGVkQ2FsbGVkICYmIGwodGhpcy5jb21wb25lbnQpO1xuICB9XG4gIGFzeW5jIGhvc3RMb2FkKCkge1xuICAgIGlmICh0aGlzLl93YXRjaGVkUHJvcGVydGllcy5kZWxldGUoXCJ2aWV3TW9kZWxcIiksIGF3YWl0IHN1cGVyLmhvc3RMb2FkKCksIHRoaXMuY29tcG9uZW50Lm1hbmFnZXIuZGVzdHJveWVkKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuX3dhdGNoTWV0YVByb3BlcnRpZXMoKSwgdGhpcy5vbkxpZmVjeWNsZSgoKSA9PiB0aGlzLnJlYWN0aXZlVXRpbHMud2F0Y2goKCkgPT4gdGhpcy5faW5zdGFuY2Uudmlld01vZGVsLCAoZSkgPT4ge1xuICAgICAgdGhpcy5jb21wb25lbnQudmlld01vZGVsID0gZTtcbiAgICB9LCB7IGluaXRpYWw6ICEwIH0pKTtcbiAgICBjb25zdCBzID0gdGhpcy5faW5zdGFuY2Uudmlld01vZGVsO1xuICAgIHR5cGVvZiBzID09IFwib2JqZWN0XCIgJiYgKGEud2F0Y2hDb21wb25lbnRVcGRhdGVzKHRoaXMsIHMsIHRoaXMuX3dhdGNoZWRWaWV3TW9kZWxQcm9wZXJ0aWVzKSwgYS53YXRjaEFjY2Vzc29yVXBkYXRlcyh0aGlzLCBzLCB0aGlzLl93YXRjaGVkVmlld01vZGVsUHJvcGVydGllcykpO1xuICAgIGNvbnN0IGkgPSBPYmplY3QuZW50cmllcyh0aGlzLl93YXRjaGVkVmlzaWJsZUVsZW1lbnRzUHJvcGVydGllcyk7XG4gICAgaS5sZW5ndGggPiAwICYmIHRoaXMub25MaWZlY3ljbGUoKCkgPT4gaS5tYXAoKFtlLCB0XSkgPT4ge1xuICAgICAgbGV0IG4gPSB0aGlzLl9pbnN0YW5jZS52aXNpYmxlRWxlbWVudHMgPz8ge30sIG87XG4gICAgICBmb3IgKGNvbnN0IGMgb2YgdC5zbGljZSgwLCAtMSkpXG4gICAgICAgIGlmICh0eXBlb2YgbltjXSA9PSBcIm9iamVjdFwiICYmIG5bY10gIT09IG51bGwpXG4gICAgICAgICAgbiA9IG5bY107XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIG8gPSAhIW5bY107XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIG8gPT09IHZvaWQgMCAmJiAobyA9ICEhKG5bdC5zbGljZSgtMSlbMF1dID8/ICEwKSksIGUuc3RhcnRzV2l0aChcImhpZGVcIik7XG4gICAgICBjb25zdCBtID0gZS5zdGFydHNXaXRoKFwiaGlkZVwiKSB8fCBlLnN0YXJ0c1dpdGgoXCJzaG93XCIpID8gZS5zdGFydHNXaXRoKFwiaGlkZVwiKSA6IG8sIGggPSB0aGlzLmNvbXBvbmVudDtcbiAgICAgIHJldHVybiB0eXBlb2YgaFtlXSA9PSBcImJvb2xlYW5cIiA/IHRoaXMuX3VwZGF0ZVdpZGdldFZpc2libGVFbGVtZW50KHQsIGhbZV0sIG0pIDogaFtlXSA9ICExLCByKHRoaXMuY29tcG9uZW50LCBlLCAoYykgPT4gdGhpcy5fdXBkYXRlV2lkZ2V0VmlzaWJsZUVsZW1lbnQodCwgYywgbSkpO1xuICAgIH0pKTtcbiAgfVxuICBfdXBkYXRlV2lkZ2V0VmlzaWJsZUVsZW1lbnQocywgaSwgZSkge1xuICAgIGxldCB0ID0gdGhpcy5faW5zdGFuY2UudmlzaWJsZUVsZW1lbnRzID8/IHt9O1xuICAgIGZvciAoY29uc3QgbyBvZiBzLnNsaWNlKDAsIC0xKSlcbiAgICAgICh0eXBlb2YgdFtvXSAhPSBcIm9iamVjdFwiIHx8IHRbb10gPT09IG51bGwpICYmICh0W29dID0ge30pLCB0ID0gdFtvXTtcbiAgICBjb25zdCBuID0gISEoZSA/ICFpIDogaSk7XG4gICAgdFtzLmF0KC0xKV0gPSBuO1xuICB9XG4gIGhvc3RMb2FkZWQoKSB7XG4gICAgY29uc3QgeyBlbDogcyB9ID0gdGhpcy5jb21wb25lbnQ7XG4gICAgcy5jaGlsZEVsZW0gPz89IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIHRoaXMuX2luc3RhbmNlLmNvbnRhaW5lciA9IHMuY2hpbGRFbGVtO1xuICAgIGxldCBpID0gITE7XG4gICAgY29uc3QgZSA9IHRoaXMuY29tcG9uZW50LmVsLnZpZXc7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuY29tcG9uZW50LmVsLCBcInZpZXdcIiwge1xuICAgICAgZ2V0OiAoKSA9PiB0aGlzLl9pbnN0YW5jZS52aWV3ID8/IHRoaXMuX2luc3RhbmNlLnZpZXdNb2RlbD8udmlldyxcbiAgICAgIHNldDogKHQpID0+IHtcbiAgICAgICAgIShcInZpZXdcIiBpbiB0aGlzLl9pbnN0YW5jZSkgJiYgdHlwZW9mIHRoaXMuX2luc3RhbmNlLnZpZXdNb2RlbCA9PSBcIm9iamVjdFwiID8gdGhpcy5faW5zdGFuY2Uudmlld01vZGVsLnZpZXcgPSB0IDogdGhpcy5faW5zdGFuY2UudmlldyA9IHQsICEoXCJtYXBcIiBpbiB0aGlzLl9pbnN0YW5jZSkgJiYgdHlwZW9mIHRoaXMuX2luc3RhbmNlLnZpZXdNb2RlbCA9PSBcIm9iamVjdFwiID8gdGhpcy5faW5zdGFuY2Uudmlld01vZGVsLm1hcCA9IHQubWFwIDogdGhpcy5faW5zdGFuY2UubWFwID0gdC5tYXAsIHRoaXMuX3dhdGNoVmlld0Rlc3Ryb3koKSwgdCAmJiAhaSAmJiAoaSA9ICEwLCB0aGlzLmNvbXBvbmVudC5hcmNnaXNSZWFkeS5lbWl0KCkpO1xuICAgICAgfSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICBlbnVtZXJhYmxlOiAhMFxuICAgIH0pLCBlICYmICh0aGlzLl9pbnN0YW5jZS52aWV3ID0gZSksIHRoaXMuY29tcG9uZW50LmVsLmlzQ29ubmVjdGVkICYmIChsKHRoaXMuY29tcG9uZW50KSwgdGhpcy5fd2F0Y2hWaWV3RGVzdHJveSgpKTtcbiAgfVxuICBob3N0RGlzY29ubmVjdGVkKCkge1xuICAgIHR5cGVvZiB0aGlzLmNvbXBvbmVudC5lbC5jaGlsZEVsZW0gPT0gXCJvYmplY3RcIiAmJiB0aGlzLmNvbXBvbmVudC5lbC52aWV3Py51aT8ucmVtb3ZlKHRoaXMuY29tcG9uZW50LmVsLmNoaWxkRWxlbSk7XG4gIH1cbiAgaG9zdERlc3Ryb3koKSB7XG4gICAgc3VwZXIuaG9zdERlc3Ryb3koKSwgdGhpcy5fd2F0Y2hWaWV3RGVzdHJveUhhbmRsZT8ucmVtb3ZlKCk7XG4gIH1cbiAgX3dhdGNoTWV0YVByb3BlcnRpZXMoKSB7XG4gICAgcih0aGlzLmNvbXBvbmVudCwgXCJwb3NpdGlvblwiLCAocykgPT4ge1xuICAgICAgdGhpcy5jb21wb25lbnQuZWwuY2hpbGRFbGVtICE9IG51bGwgJiYgdHlwZW9mIHMgPT0gXCJzdHJpbmdcIiAmJiBsKHRoaXMuY29tcG9uZW50KTtcbiAgICB9KSwgcih0aGlzLmNvbXBvbmVudCwgXCJyZWZlcmVuY2VFbGVtZW50XCIsICgpID0+IGwodGhpcy5jb21wb25lbnQpKTtcbiAgfVxuICBfbWFrZVZpc2libGVFbGVtZW50c0JpbmRlcigpIHtcbiAgICByZXR1cm4gbmV3IFByb3h5KHt9LCB7XG4gICAgICBoYXM6IChzLCBpKSA9PiB0eXBlb2YgaSA9PSBcInN0cmluZ1wiIHx8IFJlZmxlY3QuaGFzKHMsIGkpLFxuICAgICAgZ2V0OiAocywgaSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGkgPT0gXCJzeW1ib2xcIiB8fCBpIGluIFByb21pc2UucHJvdG90eXBlKVxuICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldChzLCBpKTtcbiAgICAgICAgY29uc3QgZSA9IFtpXSwgdCA9IHRoaXMuX21ha2VSZWN1cnNpdmVQcm94eShlKTtcbiAgICAgICAgcmV0dXJuIGYodGhpcy5jb21wb25lbnQsIChuKSA9PiB7XG4gICAgICAgICAgY29uc3QgbyA9IG47XG4gICAgICAgICAgdGhpcy5jb21wb25lbnRbb10gPSAhMSwgdGhpcy5fd2F0Y2hlZFZpc2libGVFbGVtZW50c1Byb3BlcnRpZXNbb10gPSBlO1xuICAgICAgICB9LCB0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBfbWFrZVJlY3Vyc2l2ZVByb3h5KHMpIHtcbiAgICBjb25zdCBpID0gbmV3IFByb3h5KHt9LCB7XG4gICAgICBnZXQ6IChlLCB0KSA9PiB7XG4gICAgICAgIGNvbnN0IG4gPSBSZWZsZWN0LmdldChlLCB0KTtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0ID09IFwic3ltYm9sXCIgfHwgdCBpbiBQcm9taXNlLnByb3RvdHlwZSA/IG4gOiAocy5wdXNoKHQpLCBpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gaTtcbiAgfVxuICAvKipcbiAgICogRGVzdHJveSB0aGUgY29tcG9uZW50IGlmIHZpZXcgZ2V0cyBkZXN0cm95ZWQuXG4gICAqXG4gICAqIFdoZW4gdmlldyBpcyBkZXN0cm95ZWQsIGNvbXBvbmVudCBkaXNjb25uZWN0IGlzIHRyaWdnZXJlZCwgd2hpY2ggd2lsbFxuICAgKiBkZXN0cm95IHRoZSBjb21wb25lbnQgaW4gMXMgYnV0IHRoYXQgY2FuIGJlIHRvbyBsYXRlLCBiZWNhdXNlIGluIHRoZVxuICAgKiBtZWFud2hpbGUsIGEgd2F0Y2hlciBvbiB0aGUgd2lkZ2V0L3ZpZXdNb2RlbCBpbnN0YW5jZSBtYXkgZ2V0IHRyaWdnZXJlZCxcbiAgICogYW5kIHRocm93IGFuIGVycm9yIGlmIGl0J3Mgbm90IGFibGUgdG8gYWNjZXNzIHRoaXMudmlldy5tYXAgb3IgZXRjXG4gICAqIChoYXBwZW5zIGluIFZlcnNpb25NYW5hZ2VtZW50Vmlld01vZGVsIGZvciBleGFtcGxlKS5cbiAgICpcbiAgICogV2UgY2FuJ3QgY2hlY2sgZm9yIHRoaXMgaW4gZGlzY29ubmVjdGVkQ2FsbGJhY2sgdGhvdWdoIGFzLCBpZiB0aGUgZW50aXJlXG4gICAqIGNvbXBvbmVudCB0cmVlIGlzIHJlbW92ZWQsIHRoZSBkaXNjb25uZWN0IGZvciB0aGUgY29tcG9uZW50IHdpbGwgYmVcbiAgICogdHJpZ2dlcmVkIGJlZm9yZSB0aGF0IG9mIGFyY2dpcy1tYXAsIHNvIHRoZSB2aWV3IG1pZ2h0IG5vdCBiZSBkZXN0cm95ZWRcbiAgICogeWV0IGF0IHRoYXQgcG9pbnQuXG4gICAqL1xuICBfd2F0Y2hWaWV3RGVzdHJveSgpIHtcbiAgICB0aGlzLl93YXRjaFZpZXdEZXN0cm95SGFuZGxlPy5yZW1vdmUoKSwgdGhpcy5fd2F0Y2hWaWV3RGVzdHJveUhhbmRsZSA9IHRoaXMucmVhY3RpdmVVdGlscy53aGVuKCgpID0+IHRoaXMuY29tcG9uZW50LmVsLnZpZXc/LmRlc3Ryb3llZCA9PT0gITAsICgpID0+IHZvaWQgdGhpcy5jb21wb25lbnQuZGVzdHJveSgpLmNhdGNoKGNvbnNvbGUuZXJyb3IpLCB7IHN5bmM6ICEwIH0pO1xuICB9XG59XG5jb25zdCBfID0gdyh5KTtcbmV4cG9ydCB7XG4gIFAgYXMgbVxufTtcbiIsImltcG9ydCB7IGMgYXMgbCB9IGZyb20gXCIuLi8uLi9jaHVua3MvcnVudGltZS5qc1wiO1xuaW1wb3J0IGEgZnJvbSBcIkBhcmNnaXMvY29yZS93aWRnZXRzL1V0aWxpdHlOZXR3b3JrQXNzb2NpYXRpb25zLmpzXCI7XG5pbXBvcnQgeyBMaXRFbGVtZW50IGFzIGMsIGNyZWF0ZUV2ZW50IGFzIHIsIG5vU2hhZG93Um9vdCBhcyBoIH0gZnJvbSBcIkBhcmNnaXMvbHVtaW5hXCI7XG5pbXBvcnQgeyBtIGFzIEEgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL3VzZVdpZGdldC5qc1wiO1xuLyohIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRXNyaSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzIvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxudjQuMzIuMSAqL1xuY29uc3QgUyA9IEEoYSk7XG5jbGFzcyBnIGV4dGVuZHMgYyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMud2lkZ2V0ID0gUyh0aGlzKSwgdGhpcy52aWV3TW9kZWwgPSB0aGlzLndpZGdldC52aWV3TW9kZWwsIHRoaXMuYXV0b0Rlc3Ryb3lEaXNhYmxlZCA9ICExLCB0aGlzLmF1dG9SZWZyZXNoQXNzb2NpYXRpb25zRGlzYWJsZWQgPSB0aGlzLndpZGdldC5hdXRvUmVmcmVzaEFzc29jaWF0aW9ucywgdGhpcy5jb25uZWN0aXZpdHlBc3NvY2lhdGlvbnNMaW5lU3ltYm9sID0gdGhpcy53aWRnZXQuY29ubmVjdGl2aXR5QXNzb2NpYXRpb25zTGluZVN5bWJvbCwgdGhpcy5pbmNsdWRlQ29ubmVjdGl2aXR5QXNzb2NpYXRpb25zRGlzYWJsZWQgPSB0aGlzLndpZGdldC5pbmNsdWRlQ29ubmVjdGl2aXR5QXNzb2NpYXRpb25zLCB0aGlzLmluY2x1ZGVTdHJ1Y3R1cmFsQXR0YWNobWVudEFzc29jaWF0aW9uc0Rpc2FibGVkID0gdGhpcy53aWRnZXQuaW5jbHVkZVN0cnVjdHVyYWxBdHRhY2htZW50QXNzb2NpYXRpb25zLCB0aGlzLm1heEFsbG93YWJsZUFzc29jaWF0aW9ucyA9IHRoaXMud2lkZ2V0Lm1heEFsbG93YWJsZUFzc29jaWF0aW9ucywgdGhpcy5tYXhBbGxvd2FibGVBc3NvY2lhdGlvbnNTbGlkZXJNYXggPSB0aGlzLndpZGdldC5tYXhBbGxvd2FibGVBc3NvY2lhdGlvbnNTbGlkZXJNYXgsIHRoaXMubWF4QWxsb3dhYmxlQXNzb2NpYXRpb25zU2xpZGVyTWluID0gdGhpcy53aWRnZXQubWF4QWxsb3dhYmxlQXNzb2NpYXRpb25zU2xpZGVyTWluLCB0aGlzLm1heEFsbG93YWJsZUFzc29jaWF0aW9uc1NsaWRlclN0ZXAgPSB0aGlzLndpZGdldC5tYXhBbGxvd2FibGVBc3NvY2lhdGlvbnNTbGlkZXJTdGVwLCB0aGlzLnBvc2l0aW9uID0gXCJib3R0b20tbGVmdFwiLCB0aGlzLnNob3dBcnJvd3NDb25uZWN0aXZpdHkgPSB0aGlzLndpZGdldC5zaG93QXJyb3dzQ29ubmVjdGl2aXR5LCB0aGlzLnNob3dBcnJvd3NTdHJ1Y3R1cmFsQXR0YWNobWVudCA9IHRoaXMud2lkZ2V0LnNob3dBcnJvd3NTdHJ1Y3R1cmFsQXR0YWNobWVudCwgdGhpcy5zaG93QXNzb2NpYXRpb25zRW5hYmxlZCA9IHRoaXMud2lkZ2V0LnNob3dBc3NvY2lhdGlvbnNFbmFibGVkLCB0aGlzLnN0cnVjdHVyYWxBdHRhY2htZW50QXNzb2NpYXRpb25zTGluZVN5bWJvbCA9IHRoaXMud2lkZ2V0LnN0cnVjdHVyYWxBdHRhY2htZW50QXNzb2NpYXRpb25zTGluZVN5bWJvbCwgdGhpcy51dGlsaXR5TmV0d29yayA9IHRoaXMud2lkZ2V0LnV0aWxpdHlOZXR3b3JrLCB0aGlzLnNob3dDb25uZWN0aXZpdHlBc3NvY2lhdGlvbnNTZXR0aW5nc0Fycm93c1RvZ2dsZSA9IHRoaXMud2lkZ2V0LnZpc2libGVFbGVtZW50cy5jb25uZWN0aXZpdHlBc3NvY2lhdGlvbnNTZXR0aW5ncy5hcnJvd3NUb2dnbGUsIHRoaXMudmlzaWJsZUVsZW1lbnRzQ29ubmVjdGl2aXR5QXNzb2NpYXRpb25zU2V0dGluZ3NBcnJvd3NUb2dnbGUgPSAhMSwgdGhpcy5zaG93Q29ubmVjdGl2aXR5QXNzb2NpYXRpb25zU2V0dGluZ3NDYXBTZWxlY3QgPSB0aGlzLndpZGdldC52aXNpYmxlRWxlbWVudHMuY29ubmVjdGl2aXR5QXNzb2NpYXRpb25zU2V0dGluZ3MuY2FwU2VsZWN0LCB0aGlzLnZpc2libGVFbGVtZW50c0Nvbm5lY3Rpdml0eUFzc29jaWF0aW9uc1NldHRpbmdzQ2FwU2VsZWN0ID0gITEsIHRoaXMuaGlkZUNvbm5lY3Rpdml0eUFzc29jaWF0aW9uc1NldHRpbmdzQ29sb3JQaWNrZXIgPSB0aGlzLndpZGdldC52aXNpYmxlRWxlbWVudHMuY29ubmVjdGl2aXR5QXNzb2NpYXRpb25zU2V0dGluZ3MuY29sb3JQaWNrZXIsIHRoaXMudmlzaWJsZUVsZW1lbnRzQ29ubmVjdGl2aXR5QXNzb2NpYXRpb25zU2V0dGluZ3NDb2xvclBpY2tlciA9ICEwLCB0aGlzLmhpZGVDb25uZWN0aXZpdHlBc3NvY2lhdGlvbnNTZXR0aW5nc1N0eWxlUGlja2VyID0gdGhpcy53aWRnZXQudmlzaWJsZUVsZW1lbnRzLmNvbm5lY3Rpdml0eUFzc29jaWF0aW9uc1NldHRpbmdzLnN0eWxlUGlja2VyLCB0aGlzLnZpc2libGVFbGVtZW50c0Nvbm5lY3Rpdml0eUFzc29jaWF0aW9uc1NldHRpbmdzU3R5bGVQaWNrZXIgPSAhMCwgdGhpcy5oaWRlQ29ubmVjdGl2aXR5QXNzb2NpYXRpb25zU2V0dGluZ3NXaWR0aElucHV0ID0gdGhpcy53aWRnZXQudmlzaWJsZUVsZW1lbnRzLmNvbm5lY3Rpdml0eUFzc29jaWF0aW9uc1NldHRpbmdzLndpZHRoSW5wdXQsIHRoaXMudmlzaWJsZUVsZW1lbnRzQ29ubmVjdGl2aXR5QXNzb2NpYXRpb25zU2V0dGluZ3NXaWR0aElucHV0ID0gITAsIHRoaXMuc2hvd01heEFsbG93YWJsZUFzc29jaWF0aW9uc1NsaWRlciA9IHRoaXMud2lkZ2V0LnZpc2libGVFbGVtZW50cy5tYXhBbGxvd2FibGVBc3NvY2lhdGlvbnNTbGlkZXIsIHRoaXMudmlzaWJsZUVsZW1lbnRzTWF4QWxsb3dhYmxlQXNzb2NpYXRpb25zU2xpZGVyID0gITEsIHRoaXMuc2hvd1N0cnVjdHVyYWxBdHRhY2htZW50QXNzb2NpYXRpb25zU2V0dGluZ3NBcnJvd3NUb2dnbGUgPSB0aGlzLndpZGdldC52aXNpYmxlRWxlbWVudHMuc3RydWN0dXJhbEF0dGFjaG1lbnRBc3NvY2lhdGlvbnNTZXR0aW5ncy5hcnJvd3NUb2dnbGUsIHRoaXMudmlzaWJsZUVsZW1lbnRzU3RydWN0dXJhbEF0dGFjaG1lbnRBc3NvY2lhdGlvbnNTZXR0aW5nc0Fycm93c1RvZ2dsZSA9ICExLCB0aGlzLnNob3dTdHJ1Y3R1cmFsQXR0YWNobWVudEFzc29jaWF0aW9uc1NldHRpbmdzQ2FwU2VsZWN0ID0gdGhpcy53aWRnZXQudmlzaWJsZUVsZW1lbnRzLnN0cnVjdHVyYWxBdHRhY2htZW50QXNzb2NpYXRpb25zU2V0dGluZ3MuY2FwU2VsZWN0LCB0aGlzLnZpc2libGVFbGVtZW50c1N0cnVjdHVyYWxBdHRhY2htZW50QXNzb2NpYXRpb25zU2V0dGluZ3NDYXBTZWxlY3QgPSAhMSwgdGhpcy5oaWRlU3RydWN0dXJhbEF0dGFjaG1lbnRBc3NvY2lhdGlvbnNTZXR0aW5nc0NvbG9yUGlja2VyID0gdGhpcy53aWRnZXQudmlzaWJsZUVsZW1lbnRzLnN0cnVjdHVyYWxBdHRhY2htZW50QXNzb2NpYXRpb25zU2V0dGluZ3MuY29sb3JQaWNrZXIsIHRoaXMudmlzaWJsZUVsZW1lbnRzU3RydWN0dXJhbEF0dGFjaG1lbnRBc3NvY2lhdGlvbnNTZXR0aW5nc0NvbG9yUGlja2VyID0gITAsIHRoaXMuaGlkZVN0cnVjdHVyYWxBdHRhY2htZW50QXNzb2NpYXRpb25zU2V0dGluZ3NTdHlsZVBpY2tlciA9IHRoaXMud2lkZ2V0LnZpc2libGVFbGVtZW50cy5zdHJ1Y3R1cmFsQXR0YWNobWVudEFzc29jaWF0aW9uc1NldHRpbmdzLnN0eWxlUGlja2VyLCB0aGlzLnZpc2libGVFbGVtZW50c1N0cnVjdHVyYWxBdHRhY2htZW50QXNzb2NpYXRpb25zU2V0dGluZ3NTdHlsZVBpY2tlciA9ICEwLCB0aGlzLmhpZGVTdHJ1Y3R1cmFsQXR0YWNobWVudEFzc29jaWF0aW9uc1NldHRpbmdzV2lkdGhJbnB1dCA9IHRoaXMud2lkZ2V0LnZpc2libGVFbGVtZW50cy5zdHJ1Y3R1cmFsQXR0YWNobWVudEFzc29jaWF0aW9uc1NldHRpbmdzLndpZHRoSW5wdXQsIHRoaXMudmlzaWJsZUVsZW1lbnRzU3RydWN0dXJhbEF0dGFjaG1lbnRBc3NvY2lhdGlvbnNTZXR0aW5nc1dpZHRoSW5wdXQgPSAhMCwgdGhpcy5pY29uID0gdGhpcy53aWRnZXQuaWNvbiwgdGhpcy5sYWJlbCA9IHRoaXMud2lkZ2V0LmxhYmVsLCB0aGlzLmFyY2dpc1JlYWR5ID0gcigpO1xuICB9XG4gIHN0YXRpYyB7XG4gICAgdGhpcy5wcm9wZXJ0aWVzID0geyBhdXRvRGVzdHJveURpc2FibGVkOiA1LCBhdXRvUmVmcmVzaEFzc29jaWF0aW9uc0Rpc2FibGVkOiA1LCBjb25uZWN0aXZpdHlBc3NvY2lhdGlvbnNMaW5lU3ltYm9sOiAwLCBpbmNsdWRlQ29ubmVjdGl2aXR5QXNzb2NpYXRpb25zRGlzYWJsZWQ6IDUsIGluY2x1ZGVTdHJ1Y3R1cmFsQXR0YWNobWVudEFzc29jaWF0aW9uc0Rpc2FibGVkOiA1LCBtYXhBbGxvd2FibGVBc3NvY2lhdGlvbnM6IDksIG1heEFsbG93YWJsZUFzc29jaWF0aW9uc1NsaWRlck1heDogOSwgbWF4QWxsb3dhYmxlQXNzb2NpYXRpb25zU2xpZGVyTWluOiA5LCBtYXhBbGxvd2FibGVBc3NvY2lhdGlvbnNTbGlkZXJTdGVwOiA5LCBwb3NpdGlvbjogMSwgcmVmZXJlbmNlRWxlbWVudDogMSwgc2hvd0Fycm93c0Nvbm5lY3Rpdml0eTogNSwgc2hvd0Fycm93c1N0cnVjdHVyYWxBdHRhY2htZW50OiA1LCBzaG93QXNzb2NpYXRpb25zRW5hYmxlZDogNSwgc3RydWN0dXJhbEF0dGFjaG1lbnRBc3NvY2lhdGlvbnNMaW5lU3ltYm9sOiAwLCB1dGlsaXR5TmV0d29yazogMCwgc2hvd0Nvbm5lY3Rpdml0eUFzc29jaWF0aW9uc1NldHRpbmdzQXJyb3dzVG9nZ2xlOiA1LCB2aXNpYmxlRWxlbWVudHNDb25uZWN0aXZpdHlBc3NvY2lhdGlvbnNTZXR0aW5nc0Fycm93c1RvZ2dsZTogNSwgc2hvd0Nvbm5lY3Rpdml0eUFzc29jaWF0aW9uc1NldHRpbmdzQ2FwU2VsZWN0OiA1LCB2aXNpYmxlRWxlbWVudHNDb25uZWN0aXZpdHlBc3NvY2lhdGlvbnNTZXR0aW5nc0NhcFNlbGVjdDogNSwgaGlkZUNvbm5lY3Rpdml0eUFzc29jaWF0aW9uc1NldHRpbmdzQ29sb3JQaWNrZXI6IDUsIHZpc2libGVFbGVtZW50c0Nvbm5lY3Rpdml0eUFzc29jaWF0aW9uc1NldHRpbmdzQ29sb3JQaWNrZXI6IDUsIGhpZGVDb25uZWN0aXZpdHlBc3NvY2lhdGlvbnNTZXR0aW5nc1N0eWxlUGlja2VyOiA1LCB2aXNpYmxlRWxlbWVudHNDb25uZWN0aXZpdHlBc3NvY2lhdGlvbnNTZXR0aW5nc1N0eWxlUGlja2VyOiA1LCBoaWRlQ29ubmVjdGl2aXR5QXNzb2NpYXRpb25zU2V0dGluZ3NXaWR0aElucHV0OiA1LCB2aXNpYmxlRWxlbWVudHNDb25uZWN0aXZpdHlBc3NvY2lhdGlvbnNTZXR0aW5nc1dpZHRoSW5wdXQ6IDUsIHNob3dNYXhBbGxvd2FibGVBc3NvY2lhdGlvbnNTbGlkZXI6IDUsIHZpc2libGVFbGVtZW50c01heEFsbG93YWJsZUFzc29jaWF0aW9uc1NsaWRlcjogNSwgc2hvd1N0cnVjdHVyYWxBdHRhY2htZW50QXNzb2NpYXRpb25zU2V0dGluZ3NBcnJvd3NUb2dnbGU6IDUsIHZpc2libGVFbGVtZW50c1N0cnVjdHVyYWxBdHRhY2htZW50QXNzb2NpYXRpb25zU2V0dGluZ3NBcnJvd3NUb2dnbGU6IDUsIHNob3dTdHJ1Y3R1cmFsQXR0YWNobWVudEFzc29jaWF0aW9uc1NldHRpbmdzQ2FwU2VsZWN0OiA1LCB2aXNpYmxlRWxlbWVudHNTdHJ1Y3R1cmFsQXR0YWNobWVudEFzc29jaWF0aW9uc1NldHRpbmdzQ2FwU2VsZWN0OiA1LCBoaWRlU3RydWN0dXJhbEF0dGFjaG1lbnRBc3NvY2lhdGlvbnNTZXR0aW5nc0NvbG9yUGlja2VyOiA1LCB2aXNpYmxlRWxlbWVudHNTdHJ1Y3R1cmFsQXR0YWNobWVudEFzc29jaWF0aW9uc1NldHRpbmdzQ29sb3JQaWNrZXI6IDUsIGhpZGVTdHJ1Y3R1cmFsQXR0YWNobWVudEFzc29jaWF0aW9uc1NldHRpbmdzU3R5bGVQaWNrZXI6IDUsIHZpc2libGVFbGVtZW50c1N0cnVjdHVyYWxBdHRhY2htZW50QXNzb2NpYXRpb25zU2V0dGluZ3NTdHlsZVBpY2tlcjogNSwgaGlkZVN0cnVjdHVyYWxBdHRhY2htZW50QXNzb2NpYXRpb25zU2V0dGluZ3NXaWR0aElucHV0OiA1LCB2aXNpYmxlRWxlbWVudHNTdHJ1Y3R1cmFsQXR0YWNobWVudEFzc29jaWF0aW9uc1NldHRpbmdzV2lkdGhJbnB1dDogNSwgaWNvbjogMSwgbGFiZWw6IDEgfTtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMuc2hhZG93Um9vdE9wdGlvbnMgPSBoO1xuICB9XG4gIC8vI2VuZHJlZ2lvblxuICAvLyNyZWdpb24gUHVibGljIE1ldGhvZHNcbiAgLyoqIFBlcm1hbmVudGx5IGRlc3Ryb3kgdGhlIGNvbXBvbmVudCAqL1xuICBhc3luYyBkZXN0cm95KCkge1xuICAgIGF3YWl0IHRoaXMubWFuYWdlci5kZXN0cm95KCk7XG4gIH1cbiAgLy8jZW5kcmVnaW9uXG4gIC8vI3JlZ2lvbiBMaWZlY3ljbGVcbiAgYXN5bmMgbG9hZCgpIHtcbiAgICBpZiAodGhpcy5lbC52aWV3Py5tYXAgJiYgdGhpcy5lbC52aWV3Lm1hcC5wb3J0YWxJdGVtKSB7XG4gICAgICBhd2FpdCB0aGlzLmVsLnZpZXcubWFwLmxvYWQoKTtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLmVsLnZpZXcubWFwLnV0aWxpdHlOZXR3b3Jrcz8uZ2V0SXRlbUF0KDApO1xuICAgICAgYXdhaXQgdD8ubG9hZCgpLCB0aGlzLnV0aWxpdHlOZXR3b3JrID0gdDtcbiAgICB9XG4gIH1cbiAgd2lsbFVwZGF0ZSh0KSB7XG4gICAgdGhpcy5faGFuZGxlVmlzaWJpbGl0eUNoYW5nZSh0LCBcIkNvbm5lY3Rpdml0eUFzc29jaWF0aW9uc1NldHRpbmdzQXJyb3dzVG9nZ2xlXCIpLCB0aGlzLl9oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKHQsIFwiQ29ubmVjdGl2aXR5QXNzb2NpYXRpb25zU2V0dGluZ3NDYXBTZWxlY3RcIiksIHRoaXMuX2hhbmRsZVZpc2liaWxpdHlDaGFuZ2UodCwgXCJDb25uZWN0aXZpdHlBc3NvY2lhdGlvbnNTZXR0aW5nc0NvbG9yUGlja2VyXCIpLCB0aGlzLl9oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKHQsIFwiQ29ubmVjdGl2aXR5QXNzb2NpYXRpb25zU2V0dGluZ3NTdHlsZVBpY2tlclwiKSwgdGhpcy5faGFuZGxlVmlzaWJpbGl0eUNoYW5nZSh0LCBcIkNvbm5lY3Rpdml0eUFzc29jaWF0aW9uc1NldHRpbmdzV2lkdGhJbnB1dFwiKSwgdGhpcy5faGFuZGxlVmlzaWJpbGl0eUNoYW5nZSh0LCBcIk1heEFsbG93YWJsZUFzc29jaWF0aW9uc1NsaWRlclwiKSwgdGhpcy5faGFuZGxlVmlzaWJpbGl0eUNoYW5nZSh0LCBcIlN0cnVjdHVyYWxBdHRhY2htZW50QXNzb2NpYXRpb25zU2V0dGluZ3NBcnJvd3NUb2dnbGVcIiksIHRoaXMuX2hhbmRsZVZpc2liaWxpdHlDaGFuZ2UodCwgXCJTdHJ1Y3R1cmFsQXR0YWNobWVudEFzc29jaWF0aW9uc1NldHRpbmdzQ2FwU2VsZWN0XCIpLCB0aGlzLl9oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKHQsIFwiU3RydWN0dXJhbEF0dGFjaG1lbnRBc3NvY2lhdGlvbnNTZXR0aW5nc1N0eWxlUGlja2VyXCIpLCB0aGlzLl9oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKHQsIFwiU3RydWN0dXJhbEF0dGFjaG1lbnRBc3NvY2lhdGlvbnNTZXR0aW5nc1dpZHRoSW5wdXRcIik7XG4gIH1cbiAgLy8jZW5kcmVnaW9uXG4gIC8vI3JlZ2lvbiBQcml2YXRlIE1ldGhvZHNcbiAgX2hhbmRsZVZpc2liaWxpdHlDaGFuZ2UodCwgbikge1xuICAgIGNvbnN0IHMgPSBgc2hvdyR7bn1gLCBvID0gYGhpZGUke259YCwgZSA9IGB2aXNpYmxlRWxlbWVudHMke259YCwgaSA9IHRoaXM7XG4gICAgdC5oYXMocykgPyBpW2VdID0gISFpW3NdIDogdC5oYXMobykgPyBpW2VdID0gIWlbb10gOiB0LmhhcyhlKSAmJiAoY29uc29sZS53YXJuKGAke3RoaXMuZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpfTogVGhlIHByb3BlcnR5ICR7ZX0gaXMgZGVwcmVjYXRlZC4gVXNlICR7cyBpbiBpID8gcyA6IG99IGluc3RlYWQuYCksIHMgaW4gaSA/IGlbc10gPSAhIWlbZV0gOiBvIGluIGkgJiYgKGlbb10gPSAhaVtlXSkpO1xuICB9XG59XG5sKFwiYXJjZ2lzLXV0aWxpdHktbmV0d29yay1hc3NvY2lhdGlvbnNcIiwgZyk7XG5leHBvcnQge1xuICBnIGFzIEFyY2dpc1V0aWxpdHlOZXR3b3JrQXNzb2NpYXRpb25zXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9