"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["node_modules_arcgis_map-components_dist_components_arcgis-basemap-toggle_customElement_js"],{

/***/ "./node_modules/@arcgis/map-components/dist/chunks/globalCss.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/chunks/globalCss.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   g: () => (/* binding */ e)
/* harmony export */ });
/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
const e = {
  anchor: "esri-widget__anchor",
  anchorDisabled: "esri-widget__anchor--disabled",
  button: "esri-button",
  buttonDisabled: "esri-button--disabled",
  buttonHalf: "esri-button--half",
  buttonSecondary: "esri-button--secondary",
  buttonSmall: "esri-button--small",
  buttonTertiary: "esri-button--tertiary",
  buttonThird: "esri-button--third",
  disabled: "esri-disabled",
  disabledElement: "esri-disabled-element",
  empty: "esri-widget__content--empty",
  emptyIllustration: "esri-widget__content-illustration--empty",
  heading: "esri-widget__heading",
  hidden: "esri-hidden",
  input: "esri-input",
  interactive: "esri-interactive",
  loader: "esri-widget__loader",
  loaderAnimation: "esri-widget__loader-animation",
  loaderText: "esri-widget__loader-text",
  menu: "esri-menu",
  menuHeader: "esri-menu__header",
  menuItem: "esri-menu__list-item",
  menuItemActive: "esri-menu__list-item--active",
  menuItemFocus: "esri-menu__list-item--focus",
  menuList: "esri-menu__list",
  noBookmarksIcon: "esri-widget__no-bookmark-icon",
  panel: "esri-widget--panel",
  panelHeightOnly: "esri-widget--panel-height-only",
  primaryTick: "primary-tick",
  primaryTickAmPm: "primary-tick__ampm",
  primaryTickLabel: "primary-tick__label",
  rotating: "esri-rotating",
  secondaryTick: "secondary-tick",
  select: "esri-select",
  table: "esri-widget__table",
  ui: "esri-component",
  widget: "esri-widget esri-component",
  widgetButton: "esri-widget--button",
  widgetButtonActive: "esri-widget--button-active",
  widgetDisabled: "esri-widget--disabled"
};



/***/ }),

/***/ "./node_modules/@arcgis/map-components/dist/chunks/useView.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/chunks/useView.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   V: () => (/* binding */ v),
/* harmony export */   a: () => (/* binding */ _),
/* harmony export */   u: () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @arcgis/components-controllers */ "./node_modules/@arcgis/components-controllers/dist/index.js");
/* harmony import */ var _runtime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./runtime.js */ "./node_modules/@arcgis/map-components/dist/chunks/runtime.js");
/* harmony import */ var _arcgis_core_applications_Components_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arcgis/core/applications/Components/reactiveUtils.js */ "@arcgis/core/applications/Components/reactiveUtils.js");
/* harmony import */ var _arcgis_core_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @arcgis/core/core/reactiveUtils.js */ "@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _component_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./component-utils.js */ "./node_modules/@arcgis/map-components/dist/chunks/component-utils.js");





/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
const E = (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.makeT9nController)(_runtime_js__WEBPACK_IMPORTED_MODULE_1__.g), _ = (s) => u(s);
class v extends _arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.GenericController {
  constructor(e) {
    super(e), this._view$ = (0,_arcgis_core_applications_Components_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.signal)(void 0), this._viewDestroyHandle = void 0, this._arcgisReadyEmitted = !1;
    const { el: t } = e, r = t.view;
    this.setProvisionalExports(void 0), Object.defineProperty(t, "view", {
      get: () => this._view$.value,
      set: (o) => {
        if (this.exports === o)
          return;
        const c = t.view;
        this._view$.value = o, this.exports = o, this.component.requestUpdate("view", c), !this._arcgisReadyEmitted && o != null && (this._arcgisReadyEmitted = !0, this.component.arcgisReady.emit());
      },
      configurable: !0,
      enumerable: !0
    }), e !== t && Object.defineProperty(e, "view", {
      get: () => t.view,
      set: (o) => {
        t.view = o;
      }
    }), queueMicrotask(() => {
      r && (t.view = r);
    });
  }
  hostConnected() {
    this._viewDestroyHandle ??= _arcgis_core_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.when(
      () => this._view$.value?.destroyed,
      () => void this.component.destroy?.().catch(console.error),
      { sync: !0 }
    ), this.component.manager.loadedCalled && (0,_component_utils_js__WEBPACK_IMPORTED_MODULE_4__.a)(this.component);
  }
  hostLoad() {
    this.component.manager.destroyed || this._watchMetaProperties();
  }
  hostLoaded() {
    const { el: e } = this.component, t = e.shadowRoot?.firstElementChild ?? e.firstElementChild ?? void 0;
    e.childElem = t ?? e.childElem, e.isConnected && (0,_component_utils_js__WEBPACK_IMPORTED_MODULE_4__.a)(this.component);
  }
  hostDisconnected() {
    typeof this.component.el.childElem == "object" && this._view$.value?.ui?.remove(this.component.el.childElem);
  }
  hostDestroy() {
    this._viewDestroyHandle?.remove();
  }
  _watchMetaProperties() {
    (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.watch)(this.component, "position", (e) => {
      this.component.el.childElem != null && typeof e == "string" && (0,_component_utils_js__WEBPACK_IMPORTED_MODULE_4__.a)(this.component);
    }), (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.watch)(this.component, "referenceElement", () => (0,_component_utils_js__WEBPACK_IMPORTED_MODULE_4__.a)(this.component));
  }
}
const u = (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.proxyExports)(v);



/***/ }),

/***/ "./node_modules/@arcgis/map-components/dist/chunks/useViewModel.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/chunks/useViewModel.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   m: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @arcgis/components-controllers */ "./node_modules/@arcgis/components-controllers/dist/index.js");
/* harmony import */ var _arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @arcgis/components-controllers/accessor */ "./node_modules/@arcgis/components-controllers/dist/accessor/index.js");
/* harmony import */ var _useView_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useView.js */ "./node_modules/@arcgis/map-components/dist/chunks/useView.js");



/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
const m = (o, t) => (e, s) => l(e, o, s);
class a extends _arcgis_components_controllers_accessor__WEBPACK_IMPORTED_MODULE_1__.AccessorController {
  constructor() {
    super(...arguments), this.viewController = new _useView_js__WEBPACK_IMPORTED_MODULE_2__.V(this.component), this._viewWatchHandle = void 0;
  }
  async hostLoad() {
    await super.hostLoad(), this._viewWatchHandle = this.reactiveUtils.watch(
      () => this.component.el.view,
      (t) => {
        this._instance.view = t, this._instance.map = t?.map;
      },
      { sync: !0, initial: !0 }
    );
  }
  hostDestroy() {
    this._viewWatchHandle?.remove(), super.hostDestroy();
  }
}
const l = (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_0__.proxyExports)(a);



/***/ }),

/***/ "./node_modules/@arcgis/map-components/dist/components/arcgis-basemap-toggle/customElement.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/components/arcgis-basemap-toggle/customElement.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArcgisBasemapToggle: () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/runtime.js */ "./node_modules/@arcgis/map-components/dist/chunks/runtime.js");
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit-html */ "./node_modules/lit-html/development/lit-html.js");
/* harmony import */ var _arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arcgis/components-controllers */ "./node_modules/@arcgis/components-controllers/dist/index.js");
/* harmony import */ var _arcgis_components_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @arcgis/components-utils */ "./node_modules/@arcgis/components-utils/dist/index.js");
/* harmony import */ var _arcgis_core_applications_Components_basemapUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @arcgis/core/applications/Components/basemapUtils.js */ "@arcgis/core/applications/Components/basemapUtils.js");
/* harmony import */ var _arcgis_core_widgets_BasemapToggle_BasemapToggleViewModel_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @arcgis/core/widgets/BasemapToggle/BasemapToggleViewModel.js */ "@arcgis/core/widgets/BasemapToggle/BasemapToggleViewModel.js");
/* harmony import */ var _arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @arcgis/lumina */ "./node_modules/@arcgis/lumina/dist/index.js");
/* harmony import */ var _chunks_useView_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../chunks/useView.js */ "./node_modules/@arcgis/map-components/dist/chunks/useView.js");
/* harmony import */ var _chunks_useViewModel_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../chunks/useViewModel.js */ "./node_modules/@arcgis/map-components/dist/chunks/useViewModel.js");
/* harmony import */ var _chunks_globalCss_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../chunks/globalCss.js */ "./node_modules/@arcgis/map-components/dist/chunks/globalCss.js");
/* harmony import */ var _lit_reactive_element_css_tag_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @lit/reactive-element/css-tag.js */ "./node_modules/@lit/reactive-element/development/css-tag.js");











/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.1 */
const A = (0,_lit_reactive_element_css_tag_js__WEBPACK_IMPORTED_MODULE_9__.css)`@layer{arcgis-basemap-toggle{display:block}}`, s = "esri-basemap-toggle", o = "esri-basemap-thumbnail", e = {
  base: s,
  secondaryBasemapImage: `${s}__image--secondary`,
  container: `${o} ${s}__container`,
  image: `${o}__image ${s}__image`,
  imageLoading: `${s}__image--loading`,
  overlay: `${o}__overlay ${s}__image-overlay`,
  title: `${o}__title ${s}__title`,
  overlayScrim: `${o}__overlay-scrim`
}, D = (0,_chunks_useViewModel_js__WEBPACK_IMPORTED_MODULE_7__.m)(_arcgis_core_widgets_BasemapToggle_BasemapToggleViewModel_js__WEBPACK_IMPORTED_MODULE_4__["default"]);
class E extends _arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.LitElement {
  constructor() {
    super(...arguments), this.messages = (0,_chunks_useView_js__WEBPACK_IMPORTED_MODULE_6__.u)(), this.viewModel = D(this), this.activeBasemap = this.viewModel.activeBasemap, this.autoDestroyDisabled = !1, this.icon = "layer-basemap", this.nextBasemap = this.viewModel.nextBasemap, this.position = "top-left", this.showTitle = !1, this.state = this.viewModel.state, this.arcgisPropertyChange = (0,_arcgis_components_controllers__WEBPACK_IMPORTED_MODULE_2__.usePropertyChange)()("nextBasemap", "state"), this.arcgisReady = (0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.createEvent)();
  }
  static {
    this.properties = { activeBasemap: 0, autoDestroyDisabled: 5, icon: 3, label: 1, messageOverrides: 0, nextBasemap: 0, position: 3, referenceElement: 1, showTitle: 5, state: 3 };
  }
  static {
    this.shadowRootOptions = _arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.noShadowRoot;
  }
  static {
    this.styles = A;
  }
  // #endregion
  // #region Public Methods
  /** Permanently destroy the component */
  async destroy() {
    await this.manager.destroy();
  }
  /** Toggles to the [next basemap](#nextBasemap). */
  async toggle() {
    return await this.viewModel.toggle();
  }
  // #endregion
  // #region Private Methods
  _getThumbnailStyles(t) {
    const n = (0,_arcgis_core_applications_Components_basemapUtils_js__WEBPACK_IMPORTED_MODULE_3__.getBasemapThumbnailUrl)(t);
    return n ? { backgroundImage: `url(${n})` } : { backgroundImage: "" };
  }
  // #endregion
  // #region Rendering
  render() {
    const t = this.viewModel, n = t.state === "disabled" ? null : t.activeBasemap, i = t.state === "disabled" ? null : t.nextBasemap, $ = t.state === "loading", d = t.state === "incompatible-next-basemap", c = i?.title ?? "", p = i && i.loadStatus !== "loaded";
    let g;
    const h = this.showTitle && c, v = d, y = h || v, w = this._getThumbnailStyles(n), _ = this._getThumbnailStyles(i);
    return y && (g = (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.safeClassMap)(e.overlay)}>${h ? (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.html)`<span class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.safeClassMap)(e.title)} title=${c ?? _arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.nothing}>${c}</span>` : null}${v ? (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.html)`<calcite-scrim class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.safeClassMap)(e.overlayScrim)} title=${this.messages.incompatibleSpatialReference ?? _arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.nothing}><calcite-icon icon=exclamation-mark-triangle></calcite-icon></calcite-scrim>` : null}</div>`), (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.html)`<div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.safeClassMap)((0,_arcgis_components_utils__WEBPACK_IMPORTED_MODULE_10__.classes)(e.base, _chunks_globalCss_js__WEBPACK_IMPORTED_MODULE_8__.g.widget))}><calcite-button appearance=transparent data-basemap-id=${(i ? i.id : "") ?? _arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.nothing} .disabled=${d} kind=neutral .label=${this.label ?? void 0} @click=${() => void this.toggle()} title=${this.label ?? void 0 ?? _arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.nothing}><div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.safeClassMap)((0,_arcgis_components_utils__WEBPACK_IMPORTED_MODULE_10__.classes)(e.container, e.secondaryBasemapImage))}><div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.safeClassMap)(e.image)} style=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.safeStyleMap)(w)}></div></div><div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.safeClassMap)(e.container)}><div class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.safeClassMap)((0,_arcgis_components_utils__WEBPACK_IMPORTED_MODULE_10__.classes)(e.image, p ? e.imageLoading : null))} style=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.safeStyleMap)(_)}>${p || $ ? (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.html)`<calcite-scrim><span aria-hidden=true class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_5__.safeClassMap)(_chunks_globalCss_js__WEBPACK_IMPORTED_MODULE_8__.g.loaderAnimation)} role=presentation></span></calcite-scrim>` : null}</div>${g}</div></calcite-button></div>`;
  }
}
(0,_chunks_runtime_js__WEBPACK_IMPORTED_MODULE_0__.c)("arcgis-basemap-toggle", E);



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3Mvbm9kZV9tb2R1bGVzX2FyY2dpc19tYXAtY29tcG9uZW50c19kaXN0X2NvbXBvbmVudHNfYXJjZ2lzLWJhc2VtYXAtdG9nZ2xlX2N1c3RvbUVsZW1lbnRfanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0U7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoRDZIO0FBQ3pGO0FBQzhDO0FBQzVCO0FBQ1Y7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsVUFBVSxpRkFBQyxDQUFDLDBDQUFDO0FBQ2IsZ0JBQWdCLDZFQUFDO0FBQ2pCO0FBQ0EsNEJBQTRCLDZGQUFDO0FBQzdCLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxnQ0FBZ0Msb0VBQU07QUFDdEM7QUFDQTtBQUNBLFFBQVE7QUFDUiw4Q0FBOEMsc0RBQUM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQixxREFBcUQsc0RBQUM7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUkscUVBQUM7QUFDTCxxRUFBcUUsc0RBQUM7QUFDdEUsS0FBSyxHQUFHLHFFQUFDLDJDQUEyQyxzREFBQztBQUNyRDtBQUNBO0FBQ0EsVUFBVSw0RUFBQztBQUtUOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMvRGlFO0FBQ2U7QUFDNUM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsdUZBQUM7QUFDakI7QUFDQSxtREFBbUQsMENBQUM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDRFQUFDO0FBR1Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDM0IrQztBQUNaO0FBQ21DO0FBQ2hCO0FBQzJDO0FBQ3RCO0FBQzZEO0FBQ3pGO0FBQ0s7QUFDSDtBQUNTO0FBQzVEO0FBQ0E7QUFDQTtBQUNBLFVBQVUscUVBQUMsUUFBUSxzQkFBc0IsZUFBZTtBQUN4RDtBQUNBLDRCQUE0QixFQUFFO0FBQzlCLGdCQUFnQixHQUFHLEVBQUUsRUFBRTtBQUN2QixZQUFZLEVBQUUsVUFBVSxFQUFFO0FBQzFCLG1CQUFtQixFQUFFO0FBQ3JCLGNBQWMsRUFBRSxZQUFZLEVBQUU7QUFDOUIsWUFBWSxFQUFFLFVBQVUsRUFBRTtBQUMxQixtQkFBbUIsRUFBRTtBQUNyQixDQUFDLE1BQU0sMERBQUMsQ0FBQyxvR0FBQztBQUNWLGdCQUFnQixzREFBQztBQUNqQjtBQUNBLHlDQUF5QyxxREFBQyw0U0FBNFMsaUZBQUMsK0NBQStDLDJEQUFDO0FBQ3ZZO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLDZCQUE2Qix3REFBQztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw0R0FBQztBQUNmLGlCQUFpQix3QkFBd0IsRUFBRSxLQUFLLElBQUk7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsOENBQUMsY0FBYyw0REFBQyxZQUFZLEdBQUcsSUFBSSw4Q0FBQyxlQUFlLDREQUFDLFdBQVcsUUFBUSxLQUFLLG1EQUFDLENBQUMsR0FBRyxFQUFFLGdCQUFnQixFQUFFLElBQUksOENBQUMsd0JBQXdCLDREQUFDLGtCQUFrQixRQUFRLDhDQUE4QyxtREFBQyxDQUFDLHNGQUFzRixVQUFVLDhDQUFDLGNBQWMsNERBQUMsQ0FBQyxrRUFBQyxTQUFTLG1EQUFDLFVBQVUsMERBQTBELG1CQUFtQixtREFBQyxFQUFFLFlBQVksR0FBRyxzQkFBc0Isc0JBQXNCLFNBQVMsMEJBQTBCLFFBQVEsd0JBQXdCLG1EQUFDLENBQUMsY0FBYyw0REFBQyxDQUFDLGtFQUFDLHdDQUF3QyxjQUFjLDREQUFDLFdBQVcsUUFBUSw0REFBQyxJQUFJLDBCQUEwQiw0REFBQyxjQUFjLGNBQWMsNERBQUMsQ0FBQyxrRUFBQyx1Q0FBdUMsUUFBUSw0REFBQyxJQUFJLEdBQUcsU0FBUyw4Q0FBQywrQ0FBK0MsNERBQUMsQ0FBQyxtREFBQyxtQkFBbUIsa0RBQWtELFFBQVEsRUFBRTtBQUNwNUI7QUFDQTtBQUNBLHFEQUFDO0FBR0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvbWFwLWNvbXBvbmVudHMvZGlzdC9jaHVua3MvZ2xvYmFsQ3NzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9tYXAtY29tcG9uZW50cy9kaXN0L2NodW5rcy91c2VWaWV3LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9tYXAtY29tcG9uZW50cy9kaXN0L2NodW5rcy91c2VWaWV3TW9kZWwuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL21hcC1jb21wb25lbnRzL2Rpc3QvY29tcG9uZW50cy9hcmNnaXMtYmFzZW1hcC10b2dnbGUvY3VzdG9tRWxlbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFc3JpLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMi9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG52NC4zMi4xICovXG5jb25zdCBlID0ge1xuICBhbmNob3I6IFwiZXNyaS13aWRnZXRfX2FuY2hvclwiLFxuICBhbmNob3JEaXNhYmxlZDogXCJlc3JpLXdpZGdldF9fYW5jaG9yLS1kaXNhYmxlZFwiLFxuICBidXR0b246IFwiZXNyaS1idXR0b25cIixcbiAgYnV0dG9uRGlzYWJsZWQ6IFwiZXNyaS1idXR0b24tLWRpc2FibGVkXCIsXG4gIGJ1dHRvbkhhbGY6IFwiZXNyaS1idXR0b24tLWhhbGZcIixcbiAgYnV0dG9uU2Vjb25kYXJ5OiBcImVzcmktYnV0dG9uLS1zZWNvbmRhcnlcIixcbiAgYnV0dG9uU21hbGw6IFwiZXNyaS1idXR0b24tLXNtYWxsXCIsXG4gIGJ1dHRvblRlcnRpYXJ5OiBcImVzcmktYnV0dG9uLS10ZXJ0aWFyeVwiLFxuICBidXR0b25UaGlyZDogXCJlc3JpLWJ1dHRvbi0tdGhpcmRcIixcbiAgZGlzYWJsZWQ6IFwiZXNyaS1kaXNhYmxlZFwiLFxuICBkaXNhYmxlZEVsZW1lbnQ6IFwiZXNyaS1kaXNhYmxlZC1lbGVtZW50XCIsXG4gIGVtcHR5OiBcImVzcmktd2lkZ2V0X19jb250ZW50LS1lbXB0eVwiLFxuICBlbXB0eUlsbHVzdHJhdGlvbjogXCJlc3JpLXdpZGdldF9fY29udGVudC1pbGx1c3RyYXRpb24tLWVtcHR5XCIsXG4gIGhlYWRpbmc6IFwiZXNyaS13aWRnZXRfX2hlYWRpbmdcIixcbiAgaGlkZGVuOiBcImVzcmktaGlkZGVuXCIsXG4gIGlucHV0OiBcImVzcmktaW5wdXRcIixcbiAgaW50ZXJhY3RpdmU6IFwiZXNyaS1pbnRlcmFjdGl2ZVwiLFxuICBsb2FkZXI6IFwiZXNyaS13aWRnZXRfX2xvYWRlclwiLFxuICBsb2FkZXJBbmltYXRpb246IFwiZXNyaS13aWRnZXRfX2xvYWRlci1hbmltYXRpb25cIixcbiAgbG9hZGVyVGV4dDogXCJlc3JpLXdpZGdldF9fbG9hZGVyLXRleHRcIixcbiAgbWVudTogXCJlc3JpLW1lbnVcIixcbiAgbWVudUhlYWRlcjogXCJlc3JpLW1lbnVfX2hlYWRlclwiLFxuICBtZW51SXRlbTogXCJlc3JpLW1lbnVfX2xpc3QtaXRlbVwiLFxuICBtZW51SXRlbUFjdGl2ZTogXCJlc3JpLW1lbnVfX2xpc3QtaXRlbS0tYWN0aXZlXCIsXG4gIG1lbnVJdGVtRm9jdXM6IFwiZXNyaS1tZW51X19saXN0LWl0ZW0tLWZvY3VzXCIsXG4gIG1lbnVMaXN0OiBcImVzcmktbWVudV9fbGlzdFwiLFxuICBub0Jvb2ttYXJrc0ljb246IFwiZXNyaS13aWRnZXRfX25vLWJvb2ttYXJrLWljb25cIixcbiAgcGFuZWw6IFwiZXNyaS13aWRnZXQtLXBhbmVsXCIsXG4gIHBhbmVsSGVpZ2h0T25seTogXCJlc3JpLXdpZGdldC0tcGFuZWwtaGVpZ2h0LW9ubHlcIixcbiAgcHJpbWFyeVRpY2s6IFwicHJpbWFyeS10aWNrXCIsXG4gIHByaW1hcnlUaWNrQW1QbTogXCJwcmltYXJ5LXRpY2tfX2FtcG1cIixcbiAgcHJpbWFyeVRpY2tMYWJlbDogXCJwcmltYXJ5LXRpY2tfX2xhYmVsXCIsXG4gIHJvdGF0aW5nOiBcImVzcmktcm90YXRpbmdcIixcbiAgc2Vjb25kYXJ5VGljazogXCJzZWNvbmRhcnktdGlja1wiLFxuICBzZWxlY3Q6IFwiZXNyaS1zZWxlY3RcIixcbiAgdGFibGU6IFwiZXNyaS13aWRnZXRfX3RhYmxlXCIsXG4gIHVpOiBcImVzcmktY29tcG9uZW50XCIsXG4gIHdpZGdldDogXCJlc3JpLXdpZGdldCBlc3JpLWNvbXBvbmVudFwiLFxuICB3aWRnZXRCdXR0b246IFwiZXNyaS13aWRnZXQtLWJ1dHRvblwiLFxuICB3aWRnZXRCdXR0b25BY3RpdmU6IFwiZXNyaS13aWRnZXQtLWJ1dHRvbi1hY3RpdmVcIixcbiAgd2lkZ2V0RGlzYWJsZWQ6IFwiZXNyaS13aWRnZXQtLWRpc2FibGVkXCJcbn07XG5leHBvcnQge1xuICBlIGFzIGdcbn07XG4iLCJpbXBvcnQgeyBtYWtlVDluQ29udHJvbGxlciBhcyBhLCBwcm94eUV4cG9ydHMgYXMgaCwgR2VuZXJpY0NvbnRyb2xsZXIgYXMgbCwgd2F0Y2ggYXMgbiB9IGZyb20gXCJAYXJjZ2lzL2NvbXBvbmVudHMtY29udHJvbGxlcnNcIjtcbmltcG9ydCB7IGcgYXMgZCB9IGZyb20gXCIuL3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IHNpZ25hbCBhcyBtIH0gZnJvbSBcIkBhcmNnaXMvY29yZS9hcHBsaWNhdGlvbnMvQ29tcG9uZW50cy9yZWFjdGl2ZVV0aWxzLmpzXCI7XG5pbXBvcnQgKiBhcyBwIGZyb20gXCJAYXJjZ2lzL2NvcmUvY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7XG5pbXBvcnQgeyBhIGFzIGkgfSBmcm9tIFwiLi9jb21wb25lbnQtdXRpbHMuanNcIjtcbi8qISBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVzcmksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMyL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbnY0LjMyLjEgKi9cbmNvbnN0IEUgPSBhKGQpLCBfID0gKHMpID0+IHUocyk7XG5jbGFzcyB2IGV4dGVuZHMgbCB7XG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICBzdXBlcihlKSwgdGhpcy5fdmlldyQgPSBtKHZvaWQgMCksIHRoaXMuX3ZpZXdEZXN0cm95SGFuZGxlID0gdm9pZCAwLCB0aGlzLl9hcmNnaXNSZWFkeUVtaXR0ZWQgPSAhMTtcbiAgICBjb25zdCB7IGVsOiB0IH0gPSBlLCByID0gdC52aWV3O1xuICAgIHRoaXMuc2V0UHJvdmlzaW9uYWxFeHBvcnRzKHZvaWQgMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcInZpZXdcIiwge1xuICAgICAgZ2V0OiAoKSA9PiB0aGlzLl92aWV3JC52YWx1ZSxcbiAgICAgIHNldDogKG8pID0+IHtcbiAgICAgICAgaWYgKHRoaXMuZXhwb3J0cyA9PT0gbylcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGMgPSB0LnZpZXc7XG4gICAgICAgIHRoaXMuX3ZpZXckLnZhbHVlID0gbywgdGhpcy5leHBvcnRzID0gbywgdGhpcy5jb21wb25lbnQucmVxdWVzdFVwZGF0ZShcInZpZXdcIiwgYyksICF0aGlzLl9hcmNnaXNSZWFkeUVtaXR0ZWQgJiYgbyAhPSBudWxsICYmICh0aGlzLl9hcmNnaXNSZWFkeUVtaXR0ZWQgPSAhMCwgdGhpcy5jb21wb25lbnQuYXJjZ2lzUmVhZHkuZW1pdCgpKTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgZW51bWVyYWJsZTogITBcbiAgICB9KSwgZSAhPT0gdCAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJ2aWV3XCIsIHtcbiAgICAgIGdldDogKCkgPT4gdC52aWV3LFxuICAgICAgc2V0OiAobykgPT4ge1xuICAgICAgICB0LnZpZXcgPSBvO1xuICAgICAgfVxuICAgIH0pLCBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICByICYmICh0LnZpZXcgPSByKTtcbiAgICB9KTtcbiAgfVxuICBob3N0Q29ubmVjdGVkKCkge1xuICAgIHRoaXMuX3ZpZXdEZXN0cm95SGFuZGxlID8/PSBwLndoZW4oXG4gICAgICAoKSA9PiB0aGlzLl92aWV3JC52YWx1ZT8uZGVzdHJveWVkLFxuICAgICAgKCkgPT4gdm9pZCB0aGlzLmNvbXBvbmVudC5kZXN0cm95Py4oKS5jYXRjaChjb25zb2xlLmVycm9yKSxcbiAgICAgIHsgc3luYzogITAgfVxuICAgICksIHRoaXMuY29tcG9uZW50Lm1hbmFnZXIubG9hZGVkQ2FsbGVkICYmIGkodGhpcy5jb21wb25lbnQpO1xuICB9XG4gIGhvc3RMb2FkKCkge1xuICAgIHRoaXMuY29tcG9uZW50Lm1hbmFnZXIuZGVzdHJveWVkIHx8IHRoaXMuX3dhdGNoTWV0YVByb3BlcnRpZXMoKTtcbiAgfVxuICBob3N0TG9hZGVkKCkge1xuICAgIGNvbnN0IHsgZWw6IGUgfSA9IHRoaXMuY29tcG9uZW50LCB0ID0gZS5zaGFkb3dSb290Py5maXJzdEVsZW1lbnRDaGlsZCA/PyBlLmZpcnN0RWxlbWVudENoaWxkID8/IHZvaWQgMDtcbiAgICBlLmNoaWxkRWxlbSA9IHQgPz8gZS5jaGlsZEVsZW0sIGUuaXNDb25uZWN0ZWQgJiYgaSh0aGlzLmNvbXBvbmVudCk7XG4gIH1cbiAgaG9zdERpc2Nvbm5lY3RlZCgpIHtcbiAgICB0eXBlb2YgdGhpcy5jb21wb25lbnQuZWwuY2hpbGRFbGVtID09IFwib2JqZWN0XCIgJiYgdGhpcy5fdmlldyQudmFsdWU/LnVpPy5yZW1vdmUodGhpcy5jb21wb25lbnQuZWwuY2hpbGRFbGVtKTtcbiAgfVxuICBob3N0RGVzdHJveSgpIHtcbiAgICB0aGlzLl92aWV3RGVzdHJveUhhbmRsZT8ucmVtb3ZlKCk7XG4gIH1cbiAgX3dhdGNoTWV0YVByb3BlcnRpZXMoKSB7XG4gICAgbih0aGlzLmNvbXBvbmVudCwgXCJwb3NpdGlvblwiLCAoZSkgPT4ge1xuICAgICAgdGhpcy5jb21wb25lbnQuZWwuY2hpbGRFbGVtICE9IG51bGwgJiYgdHlwZW9mIGUgPT0gXCJzdHJpbmdcIiAmJiBpKHRoaXMuY29tcG9uZW50KTtcbiAgICB9KSwgbih0aGlzLmNvbXBvbmVudCwgXCJyZWZlcmVuY2VFbGVtZW50XCIsICgpID0+IGkodGhpcy5jb21wb25lbnQpKTtcbiAgfVxufVxuY29uc3QgdSA9IGgodik7XG5leHBvcnQge1xuICB2IGFzIFYsXG4gIF8gYXMgYSxcbiAgRSBhcyB1XG59O1xuIiwiaW1wb3J0IHsgcHJveHlFeHBvcnRzIGFzIHIgfSBmcm9tIFwiQGFyY2dpcy9jb21wb25lbnRzLWNvbnRyb2xsZXJzXCI7XG5pbXBvcnQgeyBBY2Nlc3NvckNvbnRyb2xsZXIgYXMgaSB9IGZyb20gXCJAYXJjZ2lzL2NvbXBvbmVudHMtY29udHJvbGxlcnMvYWNjZXNzb3JcIjtcbmltcG9ydCB7IFYgYXMgbiB9IGZyb20gXCIuL3VzZVZpZXcuanNcIjtcbi8qISBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVzcmksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjMyL2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbnY0LjMyLjEgKi9cbmNvbnN0IG0gPSAobywgdCkgPT4gKGUsIHMpID0+IGwoZSwgbywgcyk7XG5jbGFzcyBhIGV4dGVuZHMgaSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMudmlld0NvbnRyb2xsZXIgPSBuZXcgbih0aGlzLmNvbXBvbmVudCksIHRoaXMuX3ZpZXdXYXRjaEhhbmRsZSA9IHZvaWQgMDtcbiAgfVxuICBhc3luYyBob3N0TG9hZCgpIHtcbiAgICBhd2FpdCBzdXBlci5ob3N0TG9hZCgpLCB0aGlzLl92aWV3V2F0Y2hIYW5kbGUgPSB0aGlzLnJlYWN0aXZlVXRpbHMud2F0Y2goXG4gICAgICAoKSA9PiB0aGlzLmNvbXBvbmVudC5lbC52aWV3LFxuICAgICAgKHQpID0+IHtcbiAgICAgICAgdGhpcy5faW5zdGFuY2UudmlldyA9IHQsIHRoaXMuX2luc3RhbmNlLm1hcCA9IHQ/Lm1hcDtcbiAgICAgIH0sXG4gICAgICB7IHN5bmM6ICEwLCBpbml0aWFsOiAhMCB9XG4gICAgKTtcbiAgfVxuICBob3N0RGVzdHJveSgpIHtcbiAgICB0aGlzLl92aWV3V2F0Y2hIYW5kbGU/LnJlbW92ZSgpLCBzdXBlci5ob3N0RGVzdHJveSgpO1xuICB9XG59XG5jb25zdCBsID0gcihhKTtcbmV4cG9ydCB7XG4gIG1cbn07XG4iLCJpbXBvcnQgeyBjIGFzIGYgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL3J1bnRpbWUuanNcIjtcbmltcG9ydCB7IGh0bWwgYXMgbCB9IGZyb20gXCJsaXQtaHRtbFwiO1xuaW1wb3J0IHsgdXNlUHJvcGVydHlDaGFuZ2UgYXMgQiB9IGZyb20gXCJAYXJjZ2lzL2NvbXBvbmVudHMtY29udHJvbGxlcnNcIjtcbmltcG9ydCB7IGNsYXNzZXMgYXMgbSB9IGZyb20gXCJAYXJjZ2lzL2NvbXBvbmVudHMtdXRpbHNcIjtcbmltcG9ydCB7IGdldEJhc2VtYXBUaHVtYm5haWxVcmwgYXMgUyB9IGZyb20gXCJAYXJjZ2lzL2NvcmUvYXBwbGljYXRpb25zL0NvbXBvbmVudHMvYmFzZW1hcFV0aWxzLmpzXCI7XG5pbXBvcnQgeCBmcm9tIFwiQGFyY2dpcy9jb3JlL3dpZGdldHMvQmFzZW1hcFRvZ2dsZS9CYXNlbWFwVG9nZ2xlVmlld01vZGVsLmpzXCI7XG5pbXBvcnQgeyBMaXRFbGVtZW50IGFzIFQsIGNyZWF0ZUV2ZW50IGFzIE0sIG5vU2hhZG93Um9vdCBhcyBrLCBzYWZlQ2xhc3NNYXAgYXMgYSwgbm90aGluZyBhcyByLCBzYWZlU3R5bGVNYXAgYXMgYiB9IGZyb20gXCJAYXJjZ2lzL2x1bWluYVwiO1xuaW1wb3J0IHsgdSBhcyBJIH0gZnJvbSBcIi4uLy4uL2NodW5rcy91c2VWaWV3LmpzXCI7XG5pbXBvcnQgeyBtIGFzIEMgfSBmcm9tIFwiLi4vLi4vY2h1bmtzL3VzZVZpZXdNb2RlbC5qc1wiO1xuaW1wb3J0IHsgZyBhcyB1IH0gZnJvbSBcIi4uLy4uL2NodW5rcy9nbG9iYWxDc3MuanNcIjtcbmltcG9ydCB7IGNzcyBhcyBMIH0gZnJvbSBcIkBsaXQvcmVhY3RpdmUtZWxlbWVudC9jc3MtdGFnLmpzXCI7XG4vKiEgQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFc3JpLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMi9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG52NC4zMi4xICovXG5jb25zdCBBID0gTGBAbGF5ZXJ7YXJjZ2lzLWJhc2VtYXAtdG9nZ2xle2Rpc3BsYXk6YmxvY2t9fWAsIHMgPSBcImVzcmktYmFzZW1hcC10b2dnbGVcIiwgbyA9IFwiZXNyaS1iYXNlbWFwLXRodW1ibmFpbFwiLCBlID0ge1xuICBiYXNlOiBzLFxuICBzZWNvbmRhcnlCYXNlbWFwSW1hZ2U6IGAke3N9X19pbWFnZS0tc2Vjb25kYXJ5YCxcbiAgY29udGFpbmVyOiBgJHtvfSAke3N9X19jb250YWluZXJgLFxuICBpbWFnZTogYCR7b31fX2ltYWdlICR7c31fX2ltYWdlYCxcbiAgaW1hZ2VMb2FkaW5nOiBgJHtzfV9faW1hZ2UtLWxvYWRpbmdgLFxuICBvdmVybGF5OiBgJHtvfV9fb3ZlcmxheSAke3N9X19pbWFnZS1vdmVybGF5YCxcbiAgdGl0bGU6IGAke299X190aXRsZSAke3N9X190aXRsZWAsXG4gIG92ZXJsYXlTY3JpbTogYCR7b31fX292ZXJsYXktc2NyaW1gXG59LCBEID0gQyh4KTtcbmNsYXNzIEUgZXh0ZW5kcyBUIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy5tZXNzYWdlcyA9IEkoKSwgdGhpcy52aWV3TW9kZWwgPSBEKHRoaXMpLCB0aGlzLmFjdGl2ZUJhc2VtYXAgPSB0aGlzLnZpZXdNb2RlbC5hY3RpdmVCYXNlbWFwLCB0aGlzLmF1dG9EZXN0cm95RGlzYWJsZWQgPSAhMSwgdGhpcy5pY29uID0gXCJsYXllci1iYXNlbWFwXCIsIHRoaXMubmV4dEJhc2VtYXAgPSB0aGlzLnZpZXdNb2RlbC5uZXh0QmFzZW1hcCwgdGhpcy5wb3NpdGlvbiA9IFwidG9wLWxlZnRcIiwgdGhpcy5zaG93VGl0bGUgPSAhMSwgdGhpcy5zdGF0ZSA9IHRoaXMudmlld01vZGVsLnN0YXRlLCB0aGlzLmFyY2dpc1Byb3BlcnR5Q2hhbmdlID0gQigpKFwibmV4dEJhc2VtYXBcIiwgXCJzdGF0ZVwiKSwgdGhpcy5hcmNnaXNSZWFkeSA9IE0oKTtcbiAgfVxuICBzdGF0aWMge1xuICAgIHRoaXMucHJvcGVydGllcyA9IHsgYWN0aXZlQmFzZW1hcDogMCwgYXV0b0Rlc3Ryb3lEaXNhYmxlZDogNSwgaWNvbjogMywgbGFiZWw6IDEsIG1lc3NhZ2VPdmVycmlkZXM6IDAsIG5leHRCYXNlbWFwOiAwLCBwb3NpdGlvbjogMywgcmVmZXJlbmNlRWxlbWVudDogMSwgc2hvd1RpdGxlOiA1LCBzdGF0ZTogMyB9O1xuICB9XG4gIHN0YXRpYyB7XG4gICAgdGhpcy5zaGFkb3dSb290T3B0aW9ucyA9IGs7XG4gIH1cbiAgc3RhdGljIHtcbiAgICB0aGlzLnN0eWxlcyA9IEE7XG4gIH1cbiAgLy8gI2VuZHJlZ2lvblxuICAvLyAjcmVnaW9uIFB1YmxpYyBNZXRob2RzXG4gIC8qKiBQZXJtYW5lbnRseSBkZXN0cm95IHRoZSBjb21wb25lbnQgKi9cbiAgYXN5bmMgZGVzdHJveSgpIHtcbiAgICBhd2FpdCB0aGlzLm1hbmFnZXIuZGVzdHJveSgpO1xuICB9XG4gIC8qKiBUb2dnbGVzIHRvIHRoZSBbbmV4dCBiYXNlbWFwXSgjbmV4dEJhc2VtYXApLiAqL1xuICBhc3luYyB0b2dnbGUoKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudmlld01vZGVsLnRvZ2dsZSgpO1xuICB9XG4gIC8vICNlbmRyZWdpb25cbiAgLy8gI3JlZ2lvbiBQcml2YXRlIE1ldGhvZHNcbiAgX2dldFRodW1ibmFpbFN0eWxlcyh0KSB7XG4gICAgY29uc3QgbiA9IFModCk7XG4gICAgcmV0dXJuIG4gPyB7IGJhY2tncm91bmRJbWFnZTogYHVybCgke259KWAgfSA6IHsgYmFja2dyb3VuZEltYWdlOiBcIlwiIH07XG4gIH1cbiAgLy8gI2VuZHJlZ2lvblxuICAvLyAjcmVnaW9uIFJlbmRlcmluZ1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgdCA9IHRoaXMudmlld01vZGVsLCBuID0gdC5zdGF0ZSA9PT0gXCJkaXNhYmxlZFwiID8gbnVsbCA6IHQuYWN0aXZlQmFzZW1hcCwgaSA9IHQuc3RhdGUgPT09IFwiZGlzYWJsZWRcIiA/IG51bGwgOiB0Lm5leHRCYXNlbWFwLCAkID0gdC5zdGF0ZSA9PT0gXCJsb2FkaW5nXCIsIGQgPSB0LnN0YXRlID09PSBcImluY29tcGF0aWJsZS1uZXh0LWJhc2VtYXBcIiwgYyA9IGk/LnRpdGxlID8/IFwiXCIsIHAgPSBpICYmIGkubG9hZFN0YXR1cyAhPT0gXCJsb2FkZWRcIjtcbiAgICBsZXQgZztcbiAgICBjb25zdCBoID0gdGhpcy5zaG93VGl0bGUgJiYgYywgdiA9IGQsIHkgPSBoIHx8IHYsIHcgPSB0aGlzLl9nZXRUaHVtYm5haWxTdHlsZXMobiksIF8gPSB0aGlzLl9nZXRUaHVtYm5haWxTdHlsZXMoaSk7XG4gICAgcmV0dXJuIHkgJiYgKGcgPSBsYDxkaXYgY2xhc3M9JHthKGUub3ZlcmxheSl9PiR7aCA/IGxgPHNwYW4gY2xhc3M9JHthKGUudGl0bGUpfSB0aXRsZT0ke2MgPz8gcn0+JHtjfTwvc3Bhbj5gIDogbnVsbH0ke3YgPyBsYDxjYWxjaXRlLXNjcmltIGNsYXNzPSR7YShlLm92ZXJsYXlTY3JpbSl9IHRpdGxlPSR7dGhpcy5tZXNzYWdlcy5pbmNvbXBhdGlibGVTcGF0aWFsUmVmZXJlbmNlID8/IHJ9PjxjYWxjaXRlLWljb24gaWNvbj1leGNsYW1hdGlvbi1tYXJrLXRyaWFuZ2xlPjwvY2FsY2l0ZS1pY29uPjwvY2FsY2l0ZS1zY3JpbT5gIDogbnVsbH08L2Rpdj5gKSwgbGA8ZGl2IGNsYXNzPSR7YShtKGUuYmFzZSwgdS53aWRnZXQpKX0+PGNhbGNpdGUtYnV0dG9uIGFwcGVhcmFuY2U9dHJhbnNwYXJlbnQgZGF0YS1iYXNlbWFwLWlkPSR7KGkgPyBpLmlkIDogXCJcIikgPz8gcn0gLmRpc2FibGVkPSR7ZH0ga2luZD1uZXV0cmFsIC5sYWJlbD0ke3RoaXMubGFiZWwgPz8gdm9pZCAwfSBAY2xpY2s9JHsoKSA9PiB2b2lkIHRoaXMudG9nZ2xlKCl9IHRpdGxlPSR7dGhpcy5sYWJlbCA/PyB2b2lkIDAgPz8gcn0+PGRpdiBjbGFzcz0ke2EobShlLmNvbnRhaW5lciwgZS5zZWNvbmRhcnlCYXNlbWFwSW1hZ2UpKX0+PGRpdiBjbGFzcz0ke2EoZS5pbWFnZSl9IHN0eWxlPSR7Yih3KX0+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0ke2EoZS5jb250YWluZXIpfT48ZGl2IGNsYXNzPSR7YShtKGUuaW1hZ2UsIHAgPyBlLmltYWdlTG9hZGluZyA6IG51bGwpKX0gc3R5bGU9JHtiKF8pfT4ke3AgfHwgJCA/IGxgPGNhbGNpdGUtc2NyaW0+PHNwYW4gYXJpYS1oaWRkZW49dHJ1ZSBjbGFzcz0ke2EodS5sb2FkZXJBbmltYXRpb24pfSByb2xlPXByZXNlbnRhdGlvbj48L3NwYW4+PC9jYWxjaXRlLXNjcmltPmAgOiBudWxsfTwvZGl2PiR7Z308L2Rpdj48L2NhbGNpdGUtYnV0dG9uPjwvZGl2PmA7XG4gIH1cbn1cbmYoXCJhcmNnaXMtYmFzZW1hcC10b2dnbGVcIiwgRSk7XG5leHBvcnQge1xuICBFIGFzIEFyY2dpc0Jhc2VtYXBUb2dnbGVcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=